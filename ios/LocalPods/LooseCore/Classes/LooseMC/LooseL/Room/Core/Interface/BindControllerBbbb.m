
#import <Foundation/Foundation.h>

NSString *StringFromCreationData(Byte *data);        



Byte k_slopeText[] = {73, 15, 7, 12, 200, 29, 22, 176, 252, 200, 156, 127, 107, 104, 104, 102, 76, 109, 90, 114, 77, 98, 102, 94, 38, 30, 105, 157};



Byte kTotalText[] = {68, 30, 43, 11, 124, 246, 141, 170, 109, 82, 107, 185, 141, 144, 187, 103, 130, 186, 112, 115, 187, 114, 122, 186, 106, 123, 196, 145, 97, 188, 135, 147, 186, 146, 126, 188, 144, 124, 188, 144, 130, 188};



Byte kCosElevenName[] = {19, 3, 79, 4, 38, 35, 29, 21};



Byte kElevenDivideBodValue[] = {62, 39, 69, 13, 124, 108, 13, 208, 68, 133, 9, 100, 211, 162, 120, 76, 162, 118, 87, 159, 115, 72, 162, 99, 110, 160, 105, 85, 170, 119, 71, 163, 106, 114, 161, 94, 59, 161, 90, 96, 162, 120, 76, 162, 118, 87, 163, 105, 121, 162, 120, 105, 115};



Byte kSignificantlyAbroadTestifyTitle[] = {99, 54, 19, 10, 12, 155, 88, 113, 160, 107, 209, 170, 141, 210, 164, 159, 213, 143, 152, 212, 155, 142, 212, 125, 115, 210, 126, 133, 210, 124, 131, 211, 163, 117, 212, 147, 110, 213, 149, 109, 220, 169, 121, 210, 124, 156, 209, 168, 146, 210, 124, 126, 214, 109, 110, 210, 114, 153, 213, 110, 119, 210, 130, 147, 154};



Byte kLampTitle[] = {72, 6, 38, 5, 182, 192, 105, 106, 193, 126, 148, 16};



Byte k_wildlifeText[] = {34, 15, 88, 14, 230, 128, 80, 252, 232, 243, 21, 96, 91, 99, 140, 96, 99, 142, 58, 85, 140, 100, 57, 142, 41, 87, 140, 96, 85, 147};



Byte k_variationContent[] = {93, 21, 7, 13, 78, 63, 60, 221, 57, 126, 48, 181, 3, 221, 177, 180, 223, 139, 166, 223, 166, 156, 222, 149, 161, 221, 181, 138, 223, 122, 168, 222, 138, 155, 114};



Byte kConventAccordData[] = {83, 12, 10, 9, 110, 236, 54, 74, 32, 219, 128, 150, 222, 179, 179, 218, 174, 163, 36, 36, 36, 109};



Byte kToleLabelTitle[] = {56, 6, 12, 8, 96, 105, 12, 10, 219, 149, 162, 217, 162, 142, 94};



Byte k_biographyCowFibValue[] = {98, 4, 68, 14, 246, 238, 6, 221, 30, 209, 161, 148, 186, 14, 32, 29, 48, 29, 249};



Byte k_modelLoveName[] = {92, 58, 45, 14, 195, 180, 87, 208, 44, 162, 98, 81, 223, 176, 183, 144, 115, 184, 138, 133, 187, 117, 126, 186, 129, 116, 186, 99, 89, 184, 100, 107, 186, 121, 84, 187, 123, 83, 194, 143, 95, 248, 1, 4, 57, 184, 131, 98, 185, 106, 137, 184, 89, 88, 185, 106, 115, 185, 134, 104, 184, 98, 100, 188, 83, 84, 184, 88, 127, 187, 84, 93, 142};



Byte kBodData[] = {98, 60, 91, 12, 101, 133, 68, 30, 132, 56, 168, 185, 137, 93, 96, 139, 55, 82, 140, 77, 50, 138, 99, 83, 140, 75, 96, 138, 97, 37, 137, 93, 37, 137, 97, 63, 138, 41, 100, 148, 97, 49, 142, 78, 81, 137, 93, 47, 138, 64, 67, 139, 66, 74, 148, 97, 49, 137, 93, 50, 141, 75, 38, 141, 90, 85, 138, 97, 37, 138, 56, 75, 16};



Byte k_quoteValue[] = {67, 7, 96, 9, 2, 226, 222, 86, 89, 13, 19, 7, 236, 9, 19, 20, 254};



Byte kPositFellContent[] = {25, 12, 78, 13, 214, 103, 176, 121, 144, 79, 66, 50, 115, 153, 77, 102, 152, 68, 95, 153, 109, 69, 152, 79, 81, 125};



Byte k_buyerThickRadValue[] = {56, 5, 32, 9, 215, 246, 59, 246, 178, 73, 77, 65, 71, 69, 55};



Byte kGasolineValue[] = {99, 3, 6, 6, 106, 35, 103, 109, 97, 117};



Byte k_commonlyName[] = {40, 37, 9, 10, 106, 224, 224, 174, 123, 149, 223, 133, 174, 220, 134, 141, 221, 127, 182, 224, 142, 171, 219, 182, 152, 221, 120, 166, 220, 155, 168, 223, 171, 156, 35, 222, 121, 176, 220, 126, 178, 224, 126, 132, 223, 166, 140, 5};





















#import "BindControllerBbbb.h"
#import <MBProgressHUD/MBProgressHUD.h>
#import "BringHomeControllerBbbb.h"
#import "AccountColorViewController.h"
#import "EnableCity.h"
#import "PlayColorBbbb+LiquidEcstasy.h"
#import "LFCRoomMsgModel+DinnerBucket.h"
#import "NSDate+TimeWriting.h"

@interface BindControllerBbbb ()<MomentChart,

ViewPlayTheme,SharedBbbb,UINavigationControllerDelegate,

UIScrollViewDelegate,FrameRecMax>
{
    
    BOOL _anchorHasLeave;
}


@property (nonatomic,strong) EnableCity *onWealthBbbb; 

@property (nonatomic,strong) NSMutableDictionary *upward; 


@end


@implementation BindControllerBbbb


#pragma mark - initial


- (instancetype)initPath:(NSInteger)roomId{
    
    self = [super initPath:roomId];
    
    if (self) {
        
        _upward = [NSMutableDictionary dictionary];
    }
    
    return self;
}


#pragma mark - life circle


- (void)dealloc {
    
    if (_onWealthBbbb) {
        
        [_onWealthBbbb examine];
        
        _onWealthBbbb = nil;
    }
    
    [self.accountViewBbbb collectionOf];
    
    [self to];

}


- (void)viewDidLoad {

    
    [super viewDidLoad];
    
    self.view.backgroundColor = [UIColor darkTextColor];
    
    [self focus];
    
    [self enter];

    
    if (!FZUtils.isEmptyString(self.dismissUrl) && self.size) {
        
        [self.accountViewBbbb isStatus:self.dismissUrl];
    }
    
    
    [AppBbbb finish:[NSString stringWithFormat:StringFromCreationData(k_slopeText),self]];

    
    [self value:self.watch];
 }

- (void)viewDidAppear:(BOOL)animated{
    
    [super viewWillAppear:animated];
    
    [PlayColorBbbb size].key = YES;
    
    [self.accountViewBbbb notice];
}

- (void)viewDidDisappear:(BOOL)animated{
    
    [super viewDidDisappear:animated];
    
    [PlayColorBbbb size].key = NO;
    
    [self.accountViewBbbb streamFrame];
}

- (void)viewWillDisappear:(BOOL)animated{
    
    [super viewWillDisappear:animated];
    
    self.navigationController.delegate = nil;
}

#pragma mark - overwrite


- (BOOL)current {
    
    return NO;
}


- (GJRoomMode)make {
    
    return RoomMode_Pull;
}


#pragma mark - UI


- (void)focus {

    
    [self bar];
    
    self.threshold = self.threshold;
    
    self.red = self.red;
}


- (void)bar {

    
    if (self.accountViewBbbb) {
        
        [self to];
    }
    
    self.accountViewBbbb = [[MomentViewBbbb alloc] initNet:self.make];
    
    self.accountViewBbbb.activity = self;
    
    [self.view insertSubview:self.accountViewBbbb
                                               
                                               atIndex:0];
    
    [self.accountViewBbbb mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.edges.equalTo(self.view);
    
    }];
}


- (void)enter {
    
    
    [_protraitViewController removeFromParentViewController];
    
    [_protraitViewController.view removeFromSuperview];
    
    _protraitViewController = nil;
    
    _protraitViewController = [self viewTo];
    
    [self setDistrictManager:_protraitViewController];
}


#pragma mark - setter


- (void)setDistrictManager:(ServerViewController *)currentChildViewController {

    
    ServerViewController *_currentChildViewController = self.districtManager;

    
    if (currentChildViewController==_currentChildViewController) {
        
        return;
    }

    
    if (_currentChildViewController) {
        
        [_currentChildViewController.view removeFromSuperview];
        
        [_currentChildViewController removeFromParentViewController];
    }

    
    if (!currentChildViewController) {
        
        _currentChildViewController=nil;
        
        return;
    }
    
    [self addChildViewController:currentChildViewController];
    
    [self.view addSubview:currentChildViewController.view];

    
    [currentChildViewController feedback:self.sendShow wire:nil];
    
    [super setDistrictManager:currentChildViewController];
    
    [_currentChildViewController setText:self.female];
}

- (void)addChildViewController:(UIViewController *)childController {
    
    [super addChildViewController:childController];
}


#pragma mark - NET

#pragma mark 获取房间基本信息

- (void)value:(NSInteger)roomId {

    
    MBProgressHUD *hud = [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    
    hud.label.text = NSLocalizedString(StringFromCreationData(kConventAccordData), @"");


    
    __weak __typeof__(self) weakSelf = self;
    
    [self data:roomId search:^(NSDictionary *component,NSError *error) {
        
        [MBProgressHUD hideHUDForView:weakSelf.view animated:YES];

        
        [weakSelf cypher:roomId emptyError:component statusList:error];
    
    }];

}


- (void)cypher:(NSInteger)roomId
                      
                      emptyError:(NSDictionary *)component
                     
                     statusList:(NSError *)error {

    
    if (roomId != self.watch) {
        
        return;
    }

    
    NSDictionary *data = component[StringFromCreationData(k_biographyCowFibValue)];

    
    
    if (error || nil == data) {

        
        NSString *errorMsg = (component
                              
                              ?component[StringFromCreationData(kGasolineValue)]
                              
                              :NSLocalizedString(StringFromCreationData(k_commonlyName), @""));
        
        [self push:errorMsg];

        
        __weak __typeof__(self) weakSelf = self;
        
        [self.districtManager
         
         female:errorMsg
         
         name:^{
             
             [weakSelf value:roomId]; 
         
         }];

        
        return;
    }

    
    [self setFemale:[AppModel notice:data]];

    
    if (self.female.isPlaying) {
        
        
        [self.accountViewBbbb isStatus:self.female.videoPlayUrl];

        
        
        MeanSunWriteModel *loginUser = [PlayColorBbbb size].file;
        
        if (loginUser) {
            
            NSString *text = [SocketIdentityTrail limit:loginUser.nickname];
            
            [self authorCorner:[SocketIdentityTrail modelBbbb:text]];
        }

    
    } else {
        
        
        [self authorCorner:[SocketIdentityTrail modelBbbb:NSLocalizedString(StringFromCreationData(k_wildlifeText), @"")]];
    }

    
    
    [self phone];

    
    
    [self quick:roomId];
}


- (void)setFemale:(AppModel *)x {

    
    [super setFemale:x];

    
    if (self.districtManager) {
        
        [self.districtManager setText:x];
    }

    
    if (!x.isPlaying) {
        
        [self.districtManager female:StringFromCreationData(k_variationContent)
                                                      
                                                      name:nil];
        
        [self.crossing.finishOut gift];
    
    }else{
        
        [self.districtManager female:@""
                                                      
                                                      name:nil];
    }

    
    if (nil == self.threshold) {
        
        _red = x.moderator.headPic;
    }
}


#pragma mark 获取房间分享、历史消息等信息

- (void)quick:(NSInteger)roomId {

    
    
    NSString *roomIdKey = @(roomId).description;

    
    if ([[self.upward objectForKey:roomIdKey] integerValue]) {
        
        return;
    }

    
    __weak __typeof__(self) weakSelf = self;
    
    [self size:roomId back:^(NSDictionary *component, NSError *error) {

        
        
        if (roomId != weakSelf.watch) {
            
            return;
        }

        
        if (error) {
            
            [weakSelf user:error];
            
            return ;
        }

        
        NSDictionary *data = component[StringFromCreationData(k_biographyCowFibValue)];
        
        [weakSelf dataAdmin:data time:roomIdKey userBackground:roomId];
    
    }];

}


- (void)dataAdmin:(NSDictionary *)data time:(NSString *)roomIdKey userBackground:(NSInteger)roomId {

    
    [self.female corner:data];
    
    if (_onWealthBbbb) {
        
        [_onWealthBbbb examine];
        
        _onWealthBbbb = nil;
    }

    
    self.onWealthBbbb = [[EnableCity alloc] init];
    
    self.onWealthBbbb.maleCheck = self;
    
    [self.onWealthBbbb model];


    
    
    __weak __typeof__(self) weakSelf = self;
    
    dispatch_after(dispatch_time((0ull), (int64_t)(5 * 1000000000ull)), dispatch_get_main_queue(), ^{
        
        [weakSelf status:data withId:roomIdKey brushAsideIntervalerval:roomId];
    
    });
}


- (void)status:(NSDictionary *)data withId:(NSString *)roomIdKey brushAsideIntervalerval:(NSInteger)roomId {

    
    if ([[self.upward objectForKey:roomIdKey] integerValue]) {
        
        return;
    }

    
    if (roomId != self.watch) {
        
        return;
    }

    
    NSArray *msgList = data[StringFromCreationData(k_quoteValue)];

    
    [self.upward setObject:@(YES) forKey:roomIdKey];
    
    [self name];

    
    self.female.msgList = msgList;
    
    [self bbbbMic:msgList];
}


- (void)bbbbMic:(NSArray<NSDictionary *> *)msgList {

    
    for (NSDictionary *dic in msgList) {
        
        CloudModelBbbb *model = [[CloudModelBbbb alloc] initWithSend:dic];
        
        [self authorCorner:model];
    }
}


- (void)name{
    
    NSArray* historyMessageListDicIDs = self.upward.allKeys;
    
    [historyMessageListDicIDs enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
        
        if (![obj isEqualToString:[NSString stringWithFormat:@"%zd",self.watch]]) {
            
            [self.upward removeObjectForKey:obj];
        }
    
    }];
}


#pragma mark - Action

- (void)to {
    
    [self.accountViewBbbb collectionOf];
    
    [self.accountViewBbbb removeFromSuperview];
    
    self.accountViewBbbb = nil;
}


- (void)sizeAcrossBbbb:(EnableCity*)timer tipPic:(NSNumber*)tick{

    
    if (self.onWealthBbbb == timer) {
        
        if ([self.female.messages.allKeys containsObject:tick]) {
            
            [self authorCorner:self.female.messages[tick]];
        }
    }
}



- (void)user:(BOOL)enableSpeaking everyName:(CGFloat)expires{

    
    [self.districtManager age];
    
    NSString *msg = (enableSpeaking
                     
                     ? StringFromCreationData(kSignificantlyAbroadTestifyTitle)
                     
                     : [NSString stringWithFormat:StringFromCreationData(k_modelLoveName),expires/3600.f]);
    
    UIAlertController *alert = [UIAlertController alertControllerWithTitle:StringFromCreationData(kLampTitle)
                                                                   
                                                                   message:msg
                                                            
                                                            preferredStyle:UIAlertControllerStyleAlert];
    
    UIAlertAction *cancelAction = [UIAlertAction actionWithTitle:StringFromCreationData(kToleLabelTitle) style:UIAlertActionStyleCancel handler:nil];
    
    [alert addAction:cancelAction];

    
    if (@available(iOS 13, *)) {
        
        alert.modalPresentationStyle = UIModalPresentationFullScreen;
    }
    
    [self presentViewController:alert animated:YES completion:nil];
}


#pragma mark 通知--账号信息变动

- (void)ranked:(NSNotification *)sender {

    
    PlayColorBbbb *sharedAPP = [PlayColorBbbb size];
    
    if (sharedAPP.file.id != sharedAPP.with.id) {
        
        [self value:self.watch];
    }
}


#pragma mark 通知--网络状态变更

- (void)changeClick:(NSNotification *)sender {

    
    Reachability *curReach = [sender object];
    
    if (![curReach isKindOfClass:[Reachability class]]) {
        
        return;
    }
    //    NSParameterAssert([curReach isKindOfClass:[Reachability class]]);
    
    NetworkStatus status = [curReach currentReachabilityStatus];

    
    if (NotReachable == status) {
        
    
    } else {

        
        if (!self.female) {
            
            [self value:self.watch];
        }
    }
}



#pragma mark - ClickTargetBbbb

#pragma mark socket消息回调，通用

- (void)hypothesis:(SightMoment *)messageWebSocket
            
            start:(PicWith *)msgWrap {

    
    [super hypothesis:messageWebSocket
               
               start:msgWrap];

    
    switch (msgWrap.server) {
        
        case GJSockMessage_onBan:
        {
            
            UserModelBbbb *model = (UserModelBbbb *)msgWrap.beautyDay;
            
            if (model.banUid == [PlayColorBbbb size].file.id) {
                
                [self user:NO
                                              
                                              everyName:model.expires];
            }
        }
            
            break;

        
        case GJSockMessage_onUnBan:
        {
            
            CityModel *model = (CityModel *)msgWrap.beautyDay;
            
            if (model.unBanUid == [PlayColorBbbb size].file.id) {
                
                [self user:YES
                                              
                                              everyName:0];
            }
        }
            
            break;

        
        case GJSockMessage_onTiModerator:
            
            [self postulationBbbb:(msgWrap.beautyDay.description)];
            
            break;

        
        case GJSockMessage_onVideoPublish:
            
            [self attentionBbbb:(WriteDisplayModel *)msgWrap.beautyDay];
            
            break;

        
        case GJSockMessage_onVideoUnpublish:
            
            [self.accountViewBbbb collectionOf];
            
            [self.districtManager female:NSLocalizedString(StringFromCreationData(k_variationContent), @"")
                                                          
                                                          name:nil];
            
            break;

        
        case GJSockMessage_onRefreshOnlineNum:
            
            break;

        
        default:
            
            break;
    }

    
    if (self.districtManager
        
        && [self.districtManager respondsToSelector:@selector(hypothesis:start:)]) {

        
        [(id<ClickTargetBbbb>)self.districtManager
         
         hypothesis:messageWebSocket
         
         start:msgWrap];
    }

}



- (void)postulationBbbb:(NSString*)reason {

    
    [self authorCorner:[SocketIdentityTrail modelBbbb:StringFromCreationData(kPositFellContent)]];
    
    [self.districtManager female:NSLocalizedString(StringFromCreationData(k_variationContent), @"")
                                                  
                                                  name:nil];
}


- (void)attentionBbbb:(WriteDisplayModel *)onVideoPublishMsgModel {

    
    self.female.videoPlayUrl = onVideoPublishMsgModel.playUrlFlv;
    
    self.dismissUrl = onVideoPublishMsgModel.playUrlFlv;
    
    [self.accountViewBbbb isStatus:onVideoPublishMsgModel.playUrlFlv];
    
    [self.districtManager female:@""
                                                  
                                                  name:nil];
}


#pragma mark - RoomBaseViewControllerDelegate

- (void)drafted:(ServerViewController *)viewController{

    
    [_onWealthBbbb examine];
    
    [self.crossing collectionOf];
    
    [self.navigationController popViewControllerAnimated:YES];

}


#pragma mark - v5.4.0 录制相关方法

- (SoulView*)message{
    
    return self.crossing;
}



#pragma mark - FrameRecMax

- (void)lynchLaw:(WithBbbbView *)renderView add:(int)EvtID {

    
    switch (EvtID) {

        
        case PLAY_EVT_PLAY_BEGIN:
        {
            
            
            if (_anchorHasLeave) {
                
                _anchorHasLeave = NO;
                
                [self authorCorner:[SocketIdentityTrail modelBbbb:StringFromCreationData(kTotalText)]];
            }
        }
            
            break;

        
        case PLAY_ERR_NET_DISCONNECT:
        
        case PLAY_EVT_PLAY_END:
        {
            
            
            if (![[PlayColorBbbb size].data isReachable]) {
                
                [self authorCorner:[SocketIdentityTrail modelBbbb:StringFromCreationData(kElevenDivideBodValue)]];

            
            } else { 
                
                if (!_anchorHasLeave) {
                    
                    _anchorHasLeave = YES;
                    
                    [self authorCorner:[SocketIdentityTrail modelBbbb:StringFromCreationData(kBodData)]];
                }
            }
        }
            
            break;

        
        default:
            
            break;
    }
}


- (void)forefront:(WithBbbbView *)renderView goldDelete:(int)EvtID {

}


- (NSDictionary *)treatRequest {

    
    if (self.threshold) {
        
        return @{StringFromCreationData(k_buyerThickRadValue) : self.threshold};
    }

    
    NSString *url = (self.red
                     
                     ? self.red
                     
                     : self.female.moderator.headPic);
    
    if (url) {
        
        return @{ StringFromCreationData(kCosElevenName) : url};
    }

    
    return nil;
}



#pragma mark - lazy init


- (BringHomeControllerBbbb*)viewTo{

    
    BringHomeControllerBbbb* protraitViewController = nil;
    
    protraitViewController = [[BringHomeControllerBbbb alloc] initRequestAcross:RoomMode_Pull];

    
    protraitViewController.information=self;
    
    protraitViewController.viewLaunch=self;
    
    return protraitViewController;
}

@end


Byte * CreationDataToCache(Byte *data) {
    int bodSura = data[0];
    int titleMethMount = data[1];
    Byte profileMated = data[2];
    int characteristicSpace = data[3];
    if (!bodSura) return data + characteristicSpace;
    for (int i = characteristicSpace; i < characteristicSpace + titleMethMount; i++) {
        int value = data[i] + profileMated;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[characteristicSpace + titleMethMount] = 0;
    return data + characteristicSpace;
}

NSString *StringFromCreationData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)CreationDataToCache(data)];
}
