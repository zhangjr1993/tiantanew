
#import <Foundation/Foundation.h>

NSString *StringFromMagnitudeData(Byte *data);        


//: type
Byte k_indicatorEnableName[] = {33, 4, 57, 7, 201, 187, 144, 59, 64, 55, 44, 83};


//: 确定删除此条招呼吗？
Byte kToonPhenomName[] = {87, 30, 11, 14, 77, 57, 175, 216, 25, 24, 170, 2, 208, 193, 220, 150, 163, 218, 163, 143, 218, 125, 149, 222, 142, 153, 219, 162, 153, 219, 146, 150, 219, 128, 144, 218, 134, 177, 218, 133, 140, 228, 177, 148, 194};


//: 还没有添加文字招呼，点击下方按钮添加吧
Byte kShelfMagicTitle[] = {11, 57, 33, 4, 199, 158, 119, 197, 145, 128, 197, 123, 104, 197, 150, 154, 196, 105, 127, 197, 117, 102, 196, 140, 118, 197, 106, 122, 196, 112, 155, 206, 155, 107, 198, 97, 152, 196, 102, 154, 195, 151, 106, 197, 117, 152, 197, 107, 104, 200, 113, 141, 197, 150, 154, 196, 105, 127, 196, 111, 134, 124};


//: 取消
Byte kPhenomTitle[] = {13, 6, 40, 10, 160, 250, 220, 243, 51, 204, 189, 103, 110, 190, 142, 96, 158};


//: 最多上传20条文字招呼
Byte kBraveValue[] = {24, 29, 68, 8, 59, 146, 14, 55, 162, 88, 60, 161, 96, 86, 160, 116, 70, 160, 120, 92, 238, 236, 162, 89, 93, 162, 82, 67, 161, 105, 83, 162, 71, 87, 161, 77, 120, 144};


//: text
Byte kToonSwellValue[] = {67, 4, 20, 7, 44, 113, 102, 96, 81, 100, 96, 134};


//: data
Byte kEdgeHeliIndexText[] = {26, 4, 48, 14, 229, 12, 112, 136, 179, 162, 11, 235, 67, 133, 52, 49, 68, 49, 76};


//: 删除
Byte kSmokeLicenseName[] = {62, 6, 93, 4, 136, 43, 67, 140, 60, 71, 40};


//: 上传成功，请等待审核
Byte kBikeRoseName[] = {93, 30, 54, 14, 111, 117, 134, 157, 252, 203, 33, 131, 3, 182, 174, 130, 84, 174, 134, 106, 176, 82, 90, 175, 84, 105, 185, 134, 86, 178, 121, 129, 177, 119, 83, 175, 136, 79, 175, 120, 107, 176, 106, 130, 194};


//: cellID
Byte kWithdrawTitle[] = {31, 6, 89, 4, 10, 12, 19, 19, 240, 235, 96};


//: gu/xoqqa/sqk
Byte kMeetingTableData[] = {46, 12, 89, 8, 13, 3, 113, 70, 14, 28, 214, 31, 22, 24, 24, 8, 214, 26, 24, 18, 24};


//: gu/xoqqa/lss
Byte k_issueBlackName[] = {59, 12, 81, 14, 182, 31, 186, 133, 148, 45, 55, 53, 158, 48, 22, 36, 222, 39, 30, 32, 32, 16, 222, 27, 34, 34, 122};


//: status
Byte k_teePerceivedValue[] = {79, 6, 51, 4, 64, 65, 46, 65, 66, 64, 95};


//: 无法删除
Byte k_defineBlackData[] = {32, 12, 31, 4, 199, 120, 129, 199, 148, 118, 198, 105, 129, 202, 122, 133, 85};


//: 审核中
Byte k_agingAccomplishmentText[] = {56, 9, 85, 13, 245, 61, 104, 227, 133, 30, 79, 200, 49, 144, 89, 76, 145, 75, 99, 143, 99, 88, 109};


//: 删除成功
Byte kKnowledgeTitle[] = {89, 12, 90, 10, 205, 65, 225, 43, 100, 229, 139, 46, 70, 143, 63, 74, 140, 46, 54, 139, 48, 69, 123};


//: id
Byte k_closedEfficiencyValue[] = {99, 2, 15, 13, 151, 151, 16, 224, 16, 5, 7, 238, 123, 90, 85, 54};


//: 我的文字招呼
Byte k_civilianValue[] = {75, 18, 41, 11, 96, 229, 46, 128, 214, 93, 165, 189, 95, 104, 190, 113, 91, 189, 109, 94, 188, 132, 110, 189, 98, 114, 188, 104, 147, 169};


//: 添加多条文字招呼，系统会按轮次进行发送；\n审核人员工作时间为9:30-次日1:30；\n左滑文案区域可删除。
Byte kAgentContent[] = {31, 137, 11, 10, 179, 8, 56, 52, 12, 221, 219, 172, 176, 218, 127, 149, 218, 153, 143, 219, 146, 150, 219, 139, 124, 218, 162, 140, 219, 128, 144, 218, 134, 177, 228, 177, 129, 220, 168, 176, 220, 176, 148, 217, 177, 143, 219, 129, 126, 221, 178, 163, 219, 161, 150, 221, 180, 144, 221, 150, 129, 218, 132, 134, 222, 117, 118, 228, 177, 144, 255, 218, 163, 150, 219, 149, 173, 217, 175, 175, 218, 134, 141, 218, 172, 154, 217, 178, 145, 219, 140, 171, 222, 140, 169, 217, 173, 175, 46, 47, 40, 37, 34, 219, 161, 150, 219, 140, 154, 38, 47, 40, 37, 228, 177, 144, 255, 218, 172, 155, 219, 176, 134, 219, 139, 124, 219, 150, 125, 218, 129, 175, 218, 148, 148, 218, 132, 164, 218, 125, 149, 222, 142, 153, 216, 117, 119, 224};


//: content
Byte kWithGrayData[] = {39, 7, 99, 13, 161, 251, 51, 119, 229, 236, 8, 94, 193, 0, 12, 11, 17, 2, 11, 17, 179};


//: 添加文字招呼
Byte k_magicAlienValue[] = {51, 18, 28, 9, 169, 59, 55, 206, 107, 202, 155, 159, 201, 110, 132, 202, 122, 107, 201, 145, 123, 202, 111, 127, 201, 117, 160, 173};


//: list
Byte kUtterAccuracyName[] = {55, 4, 21, 7, 170, 180, 237, 87, 84, 94, 95, 234};


//: addStatus
Byte k_rakeValueData[] = {18, 9, 15, 7, 155, 237, 24, 82, 85, 85, 68, 101, 82, 101, 102, 100, 110};


//: gu/xoqqa/kpia
Byte k_realistSupportContent[] = {70, 13, 76, 8, 136, 105, 246, 115, 27, 41, 227, 44, 35, 37, 37, 21, 227, 31, 36, 29, 21, 247};

// __DEBUG__
// __CLOSE_PRINT__
//
//  SpecifyViewController.m
//  Talking
//
//  Created by Jeremy on 2021/8/10.
//  Copyright © 2021 app. All rights reserved.
//
//: 
//: 
//: @interface LFCGreetTextViewController ()<UITableViewDelegate, UITableViewDataSource>

// __M_A_C_R_O__
#import "SpecifyViewController.h"
#import "ChemicalElementView.h"

@interface SpecifyViewController ()<UITableViewDelegate, UITableViewDataSource>

//: @property (nonatomic, strong) UITableView *tableView;
@property (nonatomic, strong) UITableView *cardAccept;
//: @property (nonatomic, strong) UIButton *addButton;
@property (nonatomic, strong) UIButton *fosterHome;
//: @property (nonatomic, strong) NSMutableArray *dataArray;
@property (nonatomic, strong) NSMutableArray *markData;

//: @property (nonatomic, strong) LFCAddGreetTextPopView *popView;
@property (nonatomic, strong) ChemicalElementView *angelPage;

/*!
 1：可以添加；4：已有20条审核通过的文字，不能添加*/
//: @property (nonatomic, assign) NSInteger addStatus;
@property (nonatomic, assign) NSInteger linguisticContext;

//: @end
@end

//: @implementation LFCGreetTextViewController
@implementation SpecifyViewController

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    //: self.title = @"我的文字招呼";
    self.title = StringFromMagnitudeData(k_civilianValue);
    //: self.view.backgroundColor = UIColor.whiteColor;
    self.view.backgroundColor = UIColor.whiteColor;
    //: _dataArray = [NSMutableArray array];
    _markData = [NSMutableArray array];

    //: [self requestGreetTextListData];
    [self greetFlag];

    //: [self addButton];
    [self fosterHome];

}

//: - (void)naviPopback{
- (void)naviLikeBbbb{
    //: if (self.greetListCount) {
    if (self.app) {
        //: self.greetListCount(self.dataArray.count);
        self.app(self.markData.count);
    }
    //: [self.navigationController popViewControllerAnimated:YES];
    [self.navigationController popViewControllerAnimated:YES];
}

//: -(void)addButtonClick{
-(void)distanceAdd{

    //: if (self.addStatus == 4) {
    if (self.linguisticContext == 4) {
        //: [self showStatusBarErrorStr:@"最多上传20条文字招呼"];
        [self push:StringFromMagnitudeData(kBraveValue)];
        //: return;
        return;
    }

    //: if (self.popView) {
    if (self.angelPage) {
        //: [self.popView dismiss];
        [self.angelPage guestListWith];
    }

    //: self.popView = [[LFCAddGreetTextPopView alloc]init];
    self.angelPage = [[ChemicalElementView alloc]init];

    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: self.popView.textViewBlock = ^(NSString * _Nonnull text) {
    self.angelPage.cancelShow = ^(NSString * _Nonnull text) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [self requestAddGreetText:text];
        [self withRequest:text];

    //: };
    };

    //: [self.popView show];
    [self.angelPage userDoing];

}

//: - (void)deleteGreetDataWithIndex:(NSIndexPath *)indexPath{
- (void)inscription:(NSIndexPath *)indexPath{
    //: LFCAlertButton* cancel = [[LFCAlertButton alloc] initWithTitle:@"取消" type:(AlertButtonType0) action:^{
    ImageButton* cancel = [[ImageButton alloc] initWithTimeCurrent:StringFromMagnitudeData(kPhenomTitle) merge:(AlertButtonType0) like:^{

    //: }];
    }];

    //: LFCAlertButton* action = [[LFCAlertButton alloc] initWithTitle:@"删除" type:(AlertButtonType1) action:^{
    ImageButton* action = [[ImageButton alloc] initWithTimeCurrent:StringFromMagnitudeData(kSmokeLicenseName) merge:(AlertButtonType1) like:^{

        //: [self requestDeleteGreetIndex:indexPath];
        [self middle:indexPath];

    //: }];
    }];

    //: LFCAlertView* alertView = [[LFCAlertView alloc] initWithTitle:@"确定删除此条招呼吗？" content:nil btnArray:@[cancel,action]];
    MutualView* alertView = [[MutualView alloc] initWithPlanSquare:StringFromMagnitudeData(kToonPhenomName) phone:nil age:@[cancel,action]];
    //: [alertView show];
    [alertView of];
}

//: - (void)requestGreetTextListData{
- (void)greetFlag{

    //: TalkingRequest *setUpModel = [[TalkingRequest alloc]init];
    HologramHead *setUpModel = [[HologramHead alloc]init];
    //: setUpModel.requestPath = @"gu/xoqqa/kpia";
    setUpModel.user = StringFromMagnitudeData(k_realistSupportContent);
    //: setUpModel.params = @{@"type":@"2"};
    setUpModel.pushTimeId = @{StringFromMagnitudeData(k_indicatorEnableName):@"2"};
    //: setUpModel.requestType = REQUEST_GET;
    setUpModel.index = REQUEST_GET;

    //: [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: [[AppManager sharedAppManager].dao startRequest:setUpModel withFinishBlock:^(TalkingRequest *requestModel, NSDictionary *component, NSError *error) {
    [[PlayColorBbbb size].admin with:setUpModel editFee:^(HologramHead *requestModel, NSDictionary *component, NSError *error) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [MBProgressHUD hideHUDForView:self.view animated:YES];
        [MBProgressHUD hideHUDForView:self.view animated:YES];
        //: if (self.tableView.backgroundView == nil) {
        if (self.cardAccept.backgroundView == nil) {
            //: [self setupEmptyDataView];
            [self family];
        }
        //: if (error) {
        if (error) {
            //: [self showStatusBarError:error];
            [self user:error];
            //: return;
            return;
        }

        //: [self.dataArray removeAllObjects];
        [self.markData removeAllObjects];

        //: [self.dataArray addObjectsFromArray:component[@"data"][@"list"]];
        [self.markData addObjectsFromArray:component[StringFromMagnitudeData(kEdgeHeliIndexText)][StringFromMagnitudeData(kUtterAccuracyName)]];

        //: self.addStatus = [component[@"data"][@"addStatus"] integerValue];
        self.linguisticContext = [component[StringFromMagnitudeData(kEdgeHeliIndexText)][StringFromMagnitudeData(k_rakeValueData)] integerValue];

        //: [self.tableView reloadData];
        [self.cardAccept reloadData];

    //: }];
    }];
}

//: - (void)requestAddGreetText:(NSString *)text{
- (void)withRequest:(NSString *)text{

    //: TalkingRequest *setUpModel = [[TalkingRequest alloc]init];
    HologramHead *setUpModel = [[HologramHead alloc]init];
    //: setUpModel.requestPath = @"gu/xoqqa/lss";
    setUpModel.user = StringFromMagnitudeData(k_issueBlackName);
    //: setUpModel.params = @{@"type":@"2",@"text":text};
    setUpModel.pushTimeId = @{StringFromMagnitudeData(k_indicatorEnableName):@"2",StringFromMagnitudeData(kToonSwellValue):text};
    //: setUpModel.requestType = REQUEST_POST;
    setUpModel.index = REQUEST_POST;

    //: [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: [[AppManager sharedAppManager].dao startRequest:setUpModel withFinishBlock:^(TalkingRequest *requestModel, NSDictionary *component, NSError *error) {
    [[PlayColorBbbb size].admin with:setUpModel editFee:^(HologramHead *requestModel, NSDictionary *component, NSError *error) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [MBProgressHUD hideHUDForView:self.view animated:YES];
        [MBProgressHUD hideHUDForView:self.view animated:YES];
        //: if (error) {
        if (error) {
            //: [self showStatusBarError:error];
            [self user:error];
            //: return;
            return;
        }

        //: [self.popView dismiss];
        [self.angelPage guestListWith];
        //: [self showStatusBarSuccessStr:@"上传成功，请等待审核"];
        [self remark:StringFromMagnitudeData(kBikeRoseName)];

        //: [self requestGreetTextListData];
        [self greetFlag];

    //: }];
    }];
}

//: - (void)requestDeleteGreetIndex:(NSIndexPath *)indexPath{
- (void)middle:(NSIndexPath *)indexPath{

    //: NSDictionary *dict = self.dataArray[indexPath.row];
    NSDictionary *dict = self.markData[indexPath.row];
    //: NSString *textID = dict[@"id"];
    NSString *textID = dict[StringFromMagnitudeData(k_closedEfficiencyValue)];
    //: if (FZUtils.isEmptyString(textID)) {
    if (FZUtils.isEmptyString(textID)) {
        //: [self showStatusBarErrorStr:@"无法删除"];
        [self push:StringFromMagnitudeData(k_defineBlackData)];
        //: return;
        return;
    }

    //: TalkingRequest *setUpModel = [[TalkingRequest alloc]init];
    HologramHead *setUpModel = [[HologramHead alloc]init];
    //: setUpModel.requestPath = @"gu/xoqqa/sqk";
    setUpModel.user = StringFromMagnitudeData(kMeetingTableData);
    //: setUpModel.params = @{@"id":textID};
    setUpModel.pushTimeId = @{StringFromMagnitudeData(k_closedEfficiencyValue):textID};
    //: setUpModel.requestType = REQUEST_POST;
    setUpModel.index = REQUEST_POST;

    //: [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    [MBProgressHUD showHUDAddedTo:self.view animated:YES];
    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: [[AppManager sharedAppManager].dao startRequest:setUpModel withFinishBlock:^(TalkingRequest *requestModel, NSDictionary *component, NSError *error) {
    [[PlayColorBbbb size].admin with:setUpModel editFee:^(HologramHead *requestModel, NSDictionary *component, NSError *error) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [MBProgressHUD hideHUDForView:self.view animated:YES];
        [MBProgressHUD hideHUDForView:self.view animated:YES];
        //: if (error) {
        if (error) {
            //: [self showStatusBarError:error];
            [self user:error];
            //: if (error.code == 104) {
            if (error.code == 104) {
                //: [self requestGreetTextListData];
                [self greetFlag];
            }
            //: return;
            return;
        }

        //: [self showStatusBarErrorStr:@"删除成功"];
        [self push:StringFromMagnitudeData(kKnowledgeTitle)];
        //: [self.dataArray removeObjectAtIndex:indexPath.row];
        [self.markData removeObjectAtIndex:indexPath.row];
        //: [self.tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:(UITableViewRowAnimationFade)];
        [self.cardAccept deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:(UITableViewRowAnimationFade)];

        //: [self.tableView reloadData];
        [self.cardAccept reloadData];

        //: [self requestGreetTextListData];
        [self greetFlag];

    //: }];
    }];

}

//: - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{
    //: self.tableView.backgroundView.hidden = (self.dataArray.count > 0);
    self.cardAccept.backgroundView.hidden = (self.markData.count > 0);
    //: self.tableView.bounces = (self.dataArray.count > 0);
    self.cardAccept.bounces = (self.markData.count > 0);
    //: return self.dataArray.count;
    return self.markData.count;
}

//: - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{
    //: UITableViewCell *cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:@"cellID"];
    UITableViewCell *cell = [[UITableViewCell alloc]initWithStyle:UITableViewCellStyleSubtitle reuseIdentifier:StringFromMagnitudeData(kWithdrawTitle)];
    //: cell.selectionStyle = UITableViewCellSelectionStyleNone;
    cell.selectionStyle = UITableViewCellSelectionStyleNone;
    //: UILabel *label = [[UILabel alloc]init];
    UILabel *label = [[UILabel alloc]init];
    //: label.textColor = [ShowColor appTextColor];
    label.textColor = [ShowColor current];
    //: label.numberOfLines = 0;
    label.numberOfLines = 0;
    //: label.font = [UIFont PingFangFontWithType:PFSCTypeMedium fontSize:16];
    label.font = [UIFont underbelly:PFSCTypeMedium substance:16];
    //: NSDictionary *dict = self.dataArray[indexPath.row];
    NSDictionary *dict = self.markData[indexPath.row];
    //: BOOL status = [dict[@"status"] boolValue];
    BOOL status = [dict[StringFromMagnitudeData(k_teePerceivedValue)] boolValue];
    //: label.text = dict[@"content"];
    label.text = dict[StringFromMagnitudeData(kWithGrayData)];
    //: [cell.contentView addSubview:label];
    [cell.contentView addSubview:label];
    //: [label mas_makeConstraints:^(MASConstraintMaker *make) {
    [label mas_makeConstraints:^(MASConstraintMaker *make) {
        //: make.centerY.mas_equalTo(0);
        make.centerY.mas_equalTo(0);
        //: make.left.mas_equalTo(15);
        make.left.mas_equalTo(15);
        //: make.right.mas_equalTo(status?-15:-72);
        make.right.mas_equalTo(status?-15:-72);
    //: }];
    }];

    //: UILabel *statusLb = [[UILabel alloc]init];
    UILabel *statusLb = [[UILabel alloc]init];
    //: statusLb.hidden = status;
    statusLb.hidden = status;
    //: statusLb.text = @"审核中";
    statusLb.text = StringFromMagnitudeData(k_agingAccomplishmentText);
    //: statusLb.textColor = UIColorHex(#FF506D);
    statusLb.textColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#FF506D"))];
    //: statusLb.font = [UIFont PingFangLightFontWith:16];
    statusLb.font = [UIFont view:16];
    //: [cell.contentView addSubview:statusLb];
    [cell.contentView addSubview:statusLb];
    //: [statusLb mas_makeConstraints:^(MASConstraintMaker *make) {
    [statusLb mas_makeConstraints:^(MASConstraintMaker *make) {
        //: make.centerY.mas_equalTo(0);
        make.centerY.mas_equalTo(0);
        //: make.right.mas_equalTo(-15);
        make.right.mas_equalTo(-15);
    //: }];
    }];

    //: return cell;
    return cell;
}

//: - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath{
    //: return 74;
    return 74;
}

//: - (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {
- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {

    //: return YES;
    return YES;
}

// iOS 11以前版本
//: - (nullable NSArray<UITableViewRowAction *> *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(8.0)) {
- (nullable NSArray<UITableViewRowAction *> *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(8.0)) {

    //: UITableViewRowAction *deleteRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"删除" handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
    UITableViewRowAction *deleteRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:StringFromMagnitudeData(kSmokeLicenseName) handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
        //: [self deleteGreetDataWithIndex:indexPath];
        [self inscription:indexPath];
    //: }];
    }];

    //: deleteRowAction.backgroundColor = UIColorHex(#FF506D);
    deleteRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#FF506D"))];
    //: return @[deleteRowAction];
    return @[deleteRowAction];
}
// iOS 11及以后版本
//: - (nullable UISwipeActionsConfiguration *)tableView:(UITableView *)tableView trailingSwipeActionsConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(11.0)) {
- (nullable UISwipeActionsConfiguration *)tableView:(UITableView *)tableView trailingSwipeActionsConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(11.0)) {

    //: UIContextualAction *deleteRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:@"删除" handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
    UIContextualAction *deleteRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:StringFromMagnitudeData(kSmokeLicenseName) handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {

        //: [self deleteGreetDataWithIndex:indexPath];
        [self inscription:indexPath];
    //: }];
    }];

    //: deleteRowAction.backgroundColor = UIColorHex(#FF506D);
    deleteRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#FF506D"))];

    //: UISwipeActionsConfiguration *config = [UISwipeActionsConfiguration configurationWithActions:@[deleteRowAction]];
    UISwipeActionsConfiguration *config = [UISwipeActionsConfiguration configurationWithActions:@[deleteRowAction]];
    //: config.performsFirstActionWithFullSwipe = NO;
    config.performsFirstActionWithFullSwipe = NO;

    //: return config;
    return config;
}

- (void)family {
    //: UIView *view = [self createEmptyDataView:140 emptyStr:@"还没有添加文字招呼，点击下方按钮添加吧"];
    UIView *view = [self verso:140 viewBy:StringFromMagnitudeData(kShelfMagicTitle)];
    //: view.hidden = YES;
    view.hidden = YES;
    //: self.tableView.backgroundView = view;
    self.cardAccept.backgroundView = view;
}

//: - (UITableView *)tableView{
- (UITableView *)cardAccept{
    //: if (!_tableView) {
    if (!_cardAccept) {
        //: _tableView = [[UITableView alloc]initWithFrame:CGRectMake(0, 0, screenWidth(), screenHeight()-88) style:UITableViewStylePlain];
        _cardAccept = [[UITableView alloc]initWithFrame:CGRectMake(0, 0, screenWidth(), screenHeight()-88) style:UITableViewStylePlain];
        //: _tableView.separatorStyle = UITableViewCellSeparatorStyleNone;
        _cardAccept.separatorStyle = UITableViewCellSeparatorStyleNone;
        //: _tableView.delegate = self;
        _cardAccept.delegate = self;
        //: _tableView.dataSource = self;
        _cardAccept.dataSource = self;
        //: _tableView.tableFooterView = [UIView new];
        _cardAccept.tableFooterView = [UIView new];
        //: UIView *headerView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, screenWidth(), 88)];
        UIView *headerView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, screenWidth(), 88)];
        //: UILabel *label = [[UILabel alloc]init];
        UILabel *label = [[UILabel alloc]init];
        //: label.textColor = [ShowColor appDetailTextColor];
        label.textColor = [ShowColor input];
        //: label.font = [UIFont PingFangLightFontWith:15];
        label.font = [UIFont view:15];
        //: label.numberOfLines = 0;
        label.numberOfLines = 0;
        //: NSString *string = @"添加多条文字招呼，系统会按轮次进行发送；\n审核人员工作时间为9:30-次日1:30；\n左滑文案区域可删除。";
        NSString *string = StringFromMagnitudeData(kAgentContent);
        //: NSMutableAttributedString *attri = [[NSMutableAttributedString alloc]initWithString:string];
        NSMutableAttributedString *attri = [[NSMutableAttributedString alloc]initWithString:string];
        //: NSMutableParagraphStyle *style = [[NSMutableParagraphStyle alloc]init];
        NSMutableParagraphStyle *style = [[NSMutableParagraphStyle alloc]init];
        //: style.lineSpacing = 4;
        style.lineSpacing = 4;
        //: attri.paragraphStyle = style;
        attri.paragraphStyle = style;
        //: label.attributedText = attri;
        label.attributedText = attri;

        //: [headerView addSubview:label];
        [headerView addSubview:label];
        //: [label mas_makeConstraints:^(MASConstraintMaker *make) {
        [label mas_makeConstraints:^(MASConstraintMaker *make) {
            //: make.left.mas_equalTo(15);
            make.left.mas_equalTo(15);
            //: make.right.mas_equalTo(-15);
            make.right.mas_equalTo(-15);
            //: make.centerY.mas_equalTo(0);
            make.centerY.mas_equalTo(0);
        //: }];
        }];
        //: [_tableView setTableHeaderView:headerView];
        [_cardAccept setTableHeaderView:headerView];

        //: [self.view addSubview:_tableView];
        [self.view addSubview:_cardAccept];
    }

    //: return _tableView;
    return _cardAccept;
}

//: - (UIButton *)addButton{
- (UIButton *)fosterHome{
    //: if (!_addButton) {
    if (!_fosterHome) {
        //: _addButton = [[UIButton alloc]init];
        _fosterHome = [[UIButton alloc]init];
        //: [_addButton setTitle:@"添加文字招呼" forState:UIControlStateNormal];
        [_fosterHome setTitle:StringFromMagnitudeData(k_magicAlienValue) forState:UIControlStateNormal];
        //: [_addButton setTitleColor:UIColor.whiteColor forState:UIControlStateNormal];
        [_fosterHome setTitleColor:UIColor.whiteColor forState:UIControlStateNormal];
        //: _addButton.titleLabel.font = [UIFont PingFangFontWithType:PFSCTypeMedium fontSize:15];
        _fosterHome.titleLabel.font = [UIFont underbelly:PFSCTypeMedium substance:15];
        //: NSArray* colors = @[(id)[ShowColor gradualColorStart].CGColor,(id)[ShowColor gradualColorStop].CGColor];
        NSArray* colors = @[(id)[ShowColor format].CGColor,(id)[ShowColor bbbb].CGColor];
        //: UIImage *normalImage = [UIImage gradientImageWithColors:colors size:CGSizeMake(screenWidth()-108, 50) needCover:NO];
        UIImage *normalImage = [UIImage gatefold:colors standard:CGSizeMake(screenWidth()-108, 50) mightHaveBeen:NO];
        //: _addButton.layer.cornerRadius = 25;
        _fosterHome.layer.cornerRadius = 25;
        //: _addButton.layer.masksToBounds = YES;
        _fosterHome.layer.masksToBounds = YES;
        //: [_addButton setBackgroundImage:normalImage forState:UIControlStateNormal];
        [_fosterHome setBackgroundImage:normalImage forState:UIControlStateNormal];
        //: [_addButton addTarget:self action:@selector(addButtonClick) forControlEvents:UIControlEventTouchUpInside];
        [_fosterHome addTarget:self action:@selector(distanceAdd) forControlEvents:UIControlEventTouchUpInside];
        //: [self.view insertSubview:_addButton aboveSubview:self.tableView];
        [self.view insertSubview:_fosterHome aboveSubview:self.cardAccept];
        //: [_addButton mas_makeConstraints:^(MASConstraintMaker *make) {
        [_fosterHome mas_makeConstraints:^(MASConstraintMaker *make) {
            //: make.bottom.mas_equalTo(-(50+safeAreaBottomHeight()));
            make.bottom.mas_equalTo(-(50+safeAreaBottomHeight()));
            //: make.left.mas_equalTo(54);
            make.left.mas_equalTo(54);
            //: make.right.mas_equalTo(-54);
            make.right.mas_equalTo(-54);
            //: make.height.mas_equalTo(50);
            make.height.mas_equalTo(50);
        //: }];
        }];
    }
    //: return _addButton;
    return _fosterHome;
}

//: @end
@end


Byte * MagnitudeDataToCache(Byte *data) {
    int shelfFlagCenter = data[0];
    int jot = data[1];
    Byte braveOften = data[2];
    int levelName = data[3];
    if (!shelfFlagCenter) return data + levelName;
    for (int i = levelName; i < levelName + jot; i++) {
        int value = data[i] + braveOften;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[levelName + jot] = 0;
    return data + levelName;
}

NSString *StringFromMagnitudeData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)MagnitudeDataToCache(data)];
}
