
#import <Foundation/Foundation.h>

NSString *StringFromPropertyData(Byte *data);        



Byte k_girlContent[] = {13, 5, 77, 5, 222, 39, 34, 8, 28, 23, 36};



Byte k_messageMatedData[] = {81, 5, 82, 8, 200, 121, 232, 52, 24, 35, 27, 30, 33, 221};



Byte kUserFacultyLassValue[] = {88, 3, 98, 12, 178, 247, 218, 45, 119, 56, 161, 72, 11, 7, 2, 130};



Byte k_giftTotalName[] = {13, 24, 88, 10, 199, 208, 16, 65, 177, 205, 29, 22, 27, 23, 20, 30, 13, 12, 245, 13, 22, 28, 17, 23, 22, 13, 12, 245, 27, 15, 7, 205, 34, 12, 146};



Byte kMuseumUtterContent[] = {19, 22, 78, 8, 145, 113, 249, 121, 25, 39, 225, 34, 31, 37, 35, 23, 225, 42, 35, 19, 254, 36, 19, 34, 26, 34, 19, 34, 35, 27, 201};



Byte k_rateName[] = {33, 4, 55, 5, 210, 45, 42, 61, 42, 249};



Byte kEntertainmentBackTitle[] = {27, 3, 7, 13, 184, 11, 185, 51, 40, 26, 14, 226, 101, 110, 98, 93, 33};



Byte k_strokeValue[] = {8, 189, 16, 5, 5, 214, 167, 171, 213, 122, 144, 213, 169, 163, 213, 127, 160, 212, 171, 149, 213, 148, 134, 216, 113, 132, 215, 163, 171, 214, 134, 169, 213, 172, 127, 216, 175, 139, 216, 145, 124, 216, 113, 132, 215, 163, 171, 223, 172, 124, 213, 169, 163, 213, 127, 160, 213, 160, 118, 214, 135, 144, 214, 163, 133, 212, 175, 141, 214, 122, 148, 214, 114, 152, 215, 138, 116, 212, 175, 145, 214, 113, 159, 216, 164, 146, 212, 170, 151, 213, 158, 121, 213, 117, 152, 211, 112, 114, 216, 159, 167, 213, 123, 175, 213, 140, 152, 213, 117, 166, 212, 171, 134, 213, 169, 163, 213, 127, 160, 212, 168, 126, 213, 159, 169, 214, 134, 169, 216, 175, 139, 216, 145, 124, 216, 164, 146, 215, 121, 153, 213, 174, 112, 214, 141, 149, 223, 172, 124, 216, 160, 152, 217, 136, 162, 216, 146, 155, 217, 154, 135, 211, 112, 114, 213, 150, 114, 214, 140, 121, 215, 134, 129, 217, 135, 158, 216, 159, 167, 216, 113, 132, 215, 163, 171, 213, 158, 146, 214, 140, 125, 211, 112, 114, 120};



Byte k_steadilyName[] = {21, 3, 58, 10, 163, 213, 120, 177, 169, 34, 58, 47, 54, 132};



Byte k_foreignOldenBoomName[] = {32, 11, 37, 10, 63, 7, 154, 239, 48, 123, 62, 74, 73, 79, 64, 73, 79, 47, 84, 75, 64, 180};



Byte k_adequateValue[] = {52, 4, 58, 10, 10, 140, 229, 28, 210, 243, 58, 47, 51, 43, 6};



Byte kSearchContent[] = {22, 7, 44, 4, 65, 71, 59, 29, 66, 58, 67, 133};



Byte kStressSwellValue[] = {86, 3, 32, 13, 34, 192, 45, 236, 44, 127, 201, 214, 15, 82, 73, 68, 243};



Byte kFundamentalName[] = {32, 7, 81, 14, 253, 152, 69, 252, 48, 7, 65, 193, 70, 44, 18, 16, 33, 19, 3, 24, 31, 236};



Byte k_peakTitle[] = {16, 7, 71, 11, 103, 226, 114, 49, 197, 47, 49, 28, 40, 39, 45, 30, 39, 45, 35};



Byte k_highwayCurrentName[] = {53, 6, 14, 5, 236, 73, 87, 94, 63, 101, 89, 29};
















#import "TabularMatterBbbb.h"
#import "MisconductModel.h"
#import "ColorBbbb.h"

@interface TabularMatterBbbb ()


@property(nonatomic,assign,readwrite) BOOL limitBbbb ;

@property(nonatomic,strong,readwrite) NSArray<MisconductModel*>* cancel;


@property(nonatomic,strong,readwrite) NSMutableArray* key;


@property(nonatomic,assign,readwrite) NSInteger number ;

@end


@implementation TabularMatterBbbb


+ (instancetype)vertical{
    
    static dispatch_once_t onceToken;
    
    static TabularMatterBbbb* instance;
    
    _dispatch_once(&onceToken, ^{
        
        instance = [[self alloc] init];
    
    });
    
    return instance;
}


- (void)firstControl{
    
    if (self.number == [PlayColorBbbb size].file.id) {
        
        return;
    }
    
    self.number = [PlayColorBbbb size].file.id;

    
    NSInteger uid = [PlayColorBbbb size].file.id;
    
    NSString* key = [NSString stringWithFormat:StringFromPropertyData(k_giftTotalName),uid];;
    
    NSArray* diskArr = [TaskBbbb live:key];
    
    if ([diskArr isKindOfClass:[NSArray class]] && diskArr.count) {
        
        long long currentTime = [ColorBbbb price];
        
        [diskArr enumerateObjectsUsingBlock:^(NSDictionary* _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
            
            long long msgSentTime = [obj[StringFromPropertyData(k_adequateValue)] longLongValue];
            
            long long sentTimediff = currentTime - msgSentTime;
            
            if (sentTimediff < (86400 * 3 * 1000)) {
                
                [self.key addObject:obj];
            }
        
        }];
    }

    
    if (self.key.count > 5) {
        
        NSArray* subArr = [self.key subarrayWithRange:NSMakeRange(self.key.count - 5, 5)];
        
        self.key = [NSMutableArray arrayWithArray:subArr];
    }

    
    if (self.key.count) {
        
        [TaskBbbb key:self.key.copy totalernational:key];
    
    }else{
        
        [TaskBbbb displayTo:key];
    }
}


- (void)live:(void(^)(NSArray* acArr))completeBlock{

    
    HologramHead* setup = [HologramHead new];
    
    setup.user = StringFromPropertyData(kMuseumUtterContent);
    
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    
    [[PlayColorBbbb size].admin with:setup editFee:^(HologramHead *requestModel, NSDictionary *component, NSError *error) {
        
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        
        if (error) {
            
            return;
        }
        
        self.limitBbbb = YES;
        
        NSArray* data = component[StringFromPropertyData(k_rateName)];
        
        NSMutableArray* arr = [NSMutableArray array];
        
        [data enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
            
            MisconductModel* model = [MisconductModel modelWithDic:obj];
            
            [arr addObject:model];
        
        }];
        
        self.cancel = arr.copy;
        
        completeBlock(arr.copy);
    
    }];

}


-(void)setShowBbbb:(ChatViewController *)txFamilyVc{

    
    _showBbbb = txFamilyVc;

    
    if (self.key.count) {

        
        [_showBbbb back:self.key.copy];
        
        [self.key removeAllObjects];
        
        [self sayBbbb];
    }

}


- (void)family:(NSString*)roomId {
    
    [self.key removeAllObjects];
    
    [self sayBbbb];
}



- (void)sayBbbb{
    
    NSInteger uid = [PlayColorBbbb size].file.id;
    
    NSString* key = [NSString stringWithFormat:StringFromPropertyData(k_giftTotalName),uid];;
    
    if (self.key.count) {
        
        [TaskBbbb key:self.key.copy totalernational:key];
    
    }else{
        
        [TaskBbbb displayTo:key];
    }
}



- (void)file:(NSDictionary *)extraInfo {
    
    NSString *content = [PlayColorBbbb size].familyDescriptionAddtion.cardMsgNotice;
    
    if (content == nil || content.length == 0) {
        
        return;
    }

    
    NSString *touid = extraInfo[StringFromPropertyData(kSearchContent)][StringFromPropertyData(kEntertainmentBackTitle)];

    
    content = [content stringByAppendingString:StringFromPropertyData(k_strokeValue)];

    
    NSMutableDictionary * extral = [NSMutableDictionary dictionary];
    
    NSMutableDictionary * msgInfo = [NSMutableDictionary dictionary];

    
    [msgInfo setObject:content forKey:StringFromPropertyData(k_peakTitle)];
    
    [msgInfo setObject:touid forKey:StringFromPropertyData(k_girlContent)];
    
    [msgInfo setObject:@([PlayColorBbbb size].file.id).stringValue forKey:StringFromPropertyData(kEntertainmentBackTitle)];
    
    [msgInfo setObject:StringFromPropertyData(k_steadilyName) forKey:StringFromPropertyData(kFundamentalName)]; 

    
    [extral setObject:msgInfo forKey:StringFromPropertyData(kSearchContent)];

    
    TelegramVideoReportCellData *message = [ColorBbbb extral:msgInfo stereo:TXConversation_Private will:touid phone:YES collection:YES];
    
    [[NSNotificationCenter defaultCenter] postNotificationName:[CurrentUp conversation]
                                                        
                                                        object:message
                                                      
                                                      userInfo:nil];
}




- (void)aaaaFrame:(V2TIMMessage*)msg mention:(NSDictionary *)extraInfo {

    
    
    NSDictionary * dic = extraInfo;

    
    NSDictionary* msgInfo = dic[StringFromPropertyData(kSearchContent)];
    
    NSArray* jumps = msgInfo[StringFromPropertyData(k_messageMatedData)];
    
    NSString* contentType = msgInfo[StringFromPropertyData(k_foreignOldenBoomName)];

    
    
    if ([contentType isEqualToString:StringFromPropertyData(k_highwayCurrentName)]) {
        
        return;
    }
    
    
    long long msgSentTime = [msg.timestamp timeIntervalSince1970]* 1000;
    
    long long currentTime = [ColorBbbb price];
    
    long long sentTimediff = currentTime - msgSentTime;
    
    if (sentTimediff >= (86400 * 3 * 1000)) {
        
        return;
    }
    
    
    __block BOOL atMe = NO;
    
    NSInteger uid = [PlayColorBbbb size].file.id;
    
    [jumps enumerateObjectsUsingBlock:^(NSDictionary* obj, NSUInteger idx, BOOL * _Nonnull stop) {
        
        NSInteger mentionUid = [obj[StringFromPropertyData(kEntertainmentBackTitle)] integerValue];
        
        if (mentionUid == uid) {
            
            atMe = YES;
            
            *stop = YES;
        }
    
    }];
    
    if (!atMe) {
        
        return;
    }
    
    NSInteger roomID = [msg.groupID integerValue];
    
    if (roomID >= 10000) {
        
        
        NSString *msgId = msg.msgID;
        
        NSDictionary* msgDict = @{StringFromPropertyData(kStressSwellValue):@(roomID),StringFromPropertyData(kUserFacultyLassValue):msgId,StringFromPropertyData(k_adequateValue):@(msgSentTime)};
        
        
        if (!self.showBbbb) {
            
            if (self.key.count == 5) {
                
                [self.key removeObjectAtIndex:0];
            }
            
            [self.key addObject:msgDict];
            
            [self sayBbbb];
        
        }else{
            
            [self.showBbbb shouldSystem:msgDict];
        }
    
    }else{
        
        
        if (!self.moment) {
            
            return;
        }
        
        NSString *msgId = msg.msgID;
        
        NSDictionary* msgDict = @{StringFromPropertyData(kStressSwellValue):@(roomID),StringFromPropertyData(kUserFacultyLassValue):msgId,StringFromPropertyData(k_adequateValue):@(msgSentTime)};
        
        [self.moment shouldSystem:msgDict];
    }
}

- (void)instituteSkin{
    
    self.number = -1;
    
    [self.key removeAllObjects];
}



- (NSMutableArray *)key{
    
    if (!_key) {
        
        _key = [NSMutableArray array];
    }
    
    return _key;
}


- (NSArray<MisconductModel *> *)cancel{
    
    if (!_cancel) {
        
        _cancel = [NSArray array];
    }
    
    return _cancel;
}


@end


Byte * PropertyDataToCache(Byte *data) {
    int sharpCycle = data[0];
    int residencyLass = data[1];
    Byte removeSoftly = data[2];
    int peakLass = data[3];
    if (!sharpCycle) return data + peakLass;
    for (int i = peakLass; i < peakLass + residencyLass; i++) {
        int value = data[i] + removeSoftly;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[peakLass + residencyLass] = 0;
    return data + peakLass;
}

NSString *StringFromPropertyData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)PropertyDataToCache(data)];
}
