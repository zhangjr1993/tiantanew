
#import <Foundation/Foundation.h>

NSString *StringFromDeriveData(Byte *data);



Byte kTotValue[] = {95, 27, 7, 99, 155, 220, 214, 114, 111, 110, 95, 102, 105, 103, 95, 110, 111, 105, 115, 115, 101, 114, 112, 120, 101, 95, 107, 108, 97, 116, 95, 110, 116, 98, 18};



Byte k_matedOpenFileContent[] = {55, 24, 12, 65, 229, 144, 242, 191, 86, 61, 251, 5, 114, 111, 110, 95, 116, 97, 108, 107, 95, 114, 101, 112, 108, 121, 95, 108, 54, 98, 56, 82, 69, 110, 116, 98, 59};



Byte k_fileCustomModeText[] = {65, 28, 11, 62, 113, 231, 212, 247, 142, 153, 27, 114, 111, 110, 95, 116, 97, 108, 107, 95, 114, 101, 100, 112, 97, 99, 107, 101, 116, 95, 75, 85, 70, 98, 73, 66, 110, 116, 98, 73};



Byte kEmpireName[] = {31, 23, 4, 136, 101, 114, 112, 95, 116, 97, 108, 107, 95, 102, 97, 99, 101, 95, 105, 71, 80, 104, 77, 85, 110, 116, 98, 50};



Byte k_withdrawName[] = {99, 23, 9, 101, 4, 227, 74, 184, 130, 114, 111, 110, 95, 116, 97, 108, 107, 95, 102, 97, 99, 101, 95, 116, 102, 117, 105, 121, 54, 110, 116, 98, 206};



Byte k_timeVehicleText[] = {91, 32, 12, 202, 151, 253, 143, 19, 125, 148, 238, 164, 114, 111, 110, 95, 116, 97, 108, 107, 95, 109, 111, 114, 101, 95, 110, 97, 109, 101, 99, 97, 114, 100, 95, 73, 57, 85, 80, 57, 115, 110, 116, 98, 41};



Byte k_closedTitle[] = {21, 36, 13, 254, 4, 242, 114, 209, 239, 214, 21, 113, 15, 167, 144, 229, 149, 175, 232, 141, 134, 229, 142, 144, 229, 141, 168, 231, 140, 188, 239, 166, 149, 229, 129, 185, 231, 145, 162, 233, 170, 164, 229, 156, 189, 228, 141, 147, 230, 41};



Byte kDoingValue[] = {56, 24, 6, 71, 178, 32, 114, 111, 110, 95, 116, 97, 108, 107, 95, 112, 104, 111, 116, 111, 95, 80, 54, 112, 99, 86, 86, 110, 116, 98, 106};



Byte k_nockText[] = {80, 24, 6, 232, 115, 142, 114, 111, 110, 95, 110, 105, 112, 105, 104, 115, 97, 100, 95, 101, 121, 110, 105, 120, 105, 115, 95, 110, 116, 98, 115};



Byte k_selectTitle[] = {51, 14, 8, 38, 162, 133, 116, 218, 84, 79, 68, 95, 76, 76, 65, 67, 95, 79, 69, 68, 73, 86, 121};



Byte k_boringName[] = {26, 24, 10, 2, 163, 195, 4, 183, 82, 89, 101, 114, 112, 95, 116, 97, 108, 107, 95, 112, 104, 111, 116, 111, 95, 50, 54, 49, 72, 103, 84, 110, 116, 98, 163};



Byte k_oftenText[] = {58, 32, 6, 211, 127, 238, 101, 114, 112, 95, 116, 97, 108, 107, 95, 109, 111, 114, 101, 95, 110, 97, 109, 101, 99, 97, 114, 100, 95, 119, 108, 114, 72, 120, 121, 110, 116, 98, 161};



Byte k_withdrawRichValue[] = {52, 24, 13, 146, 69, 235, 18, 65, 161, 131, 254, 196, 209, 114, 111, 110, 95, 116, 97, 108, 107, 95, 99, 108, 111, 115, 101, 95, 105, 66, 68, 84, 98, 55, 110, 116, 98, 224};



Byte kAlienRecordValue[] = {90, 22, 4, 124, 114, 111, 110, 95, 116, 97, 108, 107, 95, 97, 100, 100, 95, 79, 102, 114, 118, 69, 70, 110, 116, 98, 64};



Byte kFibName[] = {17, 22, 3, 101, 114, 112, 95, 116, 97, 108, 107, 95, 97, 100, 100, 95, 87, 103, 72, 74, 90, 66, 110, 116, 98, 1};



Byte k_bureauRestName[] = {94, 4, 8, 156, 231, 28, 38, 25, 108, 108, 101, 99, 116};



Byte kLevelName[] = {62, 34, 5, 122, 26, 114, 111, 110, 95, 116, 97, 108, 107, 95, 109, 111, 114, 101, 95, 101, 109, 97, 71, 114, 101, 103, 110, 105, 102, 95, 70, 100, 56, 75, 117, 99, 110, 116, 98, 101};



Byte kEfficiencyTitle[] = {52, 23, 5, 129, 88, 114, 111, 110, 95, 116, 97, 108, 107, 95, 103, 105, 102, 116, 95, 112, 66, 48, 84, 73, 66, 110, 116, 98, 235};



Byte k_foreignText[] = {43, 6, 6, 27, 97, 64, 144, 173, 229, 176, 170, 233, 128};



Byte k_braveValue[] = {7, 29, 12, 40, 84, 97, 140, 127, 6, 30, 102, 75, 101, 114, 112, 95, 105, 106, 111, 109, 101, 95, 110, 111, 105, 115, 115, 101, 114, 112, 120, 101, 95, 107, 108, 97, 116, 95, 110, 116, 98, 202};



Byte kDoingText[] = {51, 5, 3, 50, 108, 108, 101, 99, 52};



Byte k_dustData[] = {93, 33, 11, 68, 39, 220, 36, 246, 18, 41, 135, 101, 114, 112, 95, 116, 97, 108, 107, 95, 109, 111, 114, 101, 95, 102, 98, 109, 111, 109, 101, 110, 116, 115, 95, 55, 78, 118, 83, 119, 90, 110, 116, 98, 177};



Byte kOnData[] = {8, 29, 12, 125, 49, 181, 132, 191, 100, 59, 132, 151, 114, 111, 110, 95, 105, 106, 111, 109, 101, 95, 110, 111, 105, 115, 115, 101, 114, 112, 120, 101, 95, 107, 108, 97, 116, 95, 110, 116, 98, 67};



Byte kHotelValue[] = {32, 9, 4, 214, 135, 137, 231, 141, 144, 229, 145, 143, 229, 36};



Byte k_deriveTitle[] = {47, 32, 10, 152, 210, 53, 2, 50, 197, 14, 114, 111, 110, 95, 116, 97, 108, 107, 95, 109, 111, 114, 101, 95, 101, 109, 97, 71, 101, 99, 105, 100, 95, 70, 100, 56, 75, 117, 99, 110, 116, 98, 69};



Byte k_utterNockName[] = {52, 6, 5, 58, 52, 179, 139, 230, 156, 140, 231, 170};



Byte kTalkViewLevelTitle[] = {44, 27, 5, 122, 170, 101, 114, 112, 95, 102, 105, 103, 95, 110, 111, 105, 115, 115, 101, 114, 112, 120, 101, 95, 107, 108, 97, 116, 95, 110, 116, 98, 119};



Byte k_cooperativeSpaceValue[] = {72, 24, 5, 19, 202, 101, 114, 112, 95, 116, 97, 108, 107, 95, 114, 101, 112, 108, 121, 95, 68, 119, 83, 119, 87, 69, 110, 116, 98, 71};
















#import "ChartView.h"
#import "UIControl+Info.h"

typedef NS_ENUM(NSInteger, MoreOptType) {
    
    MoreOpt_Unknown = 0,
    
    MoreOpt_Gift,
    
    MoreOpt_Call, 
    
    MoreOpt_Photo,
    
    MoreOpt_EmojiAndGift, 
    
    MoreOpt_Emoji, 
    
    MoreOpt_GifEmoji, 
    
    MoreOpt_FastReply, 

    
    MoreOpt_More, 
    
    MoreOpt_Card, 

    
    MoreOpt_redPackage, 

    
    MoreOpt_DiceGame, 
    
    MoreOpt_FingerGame, 


};



@interface ChartView ()<UICollectionViewDelegate,UICollectionViewDataSource,UICollectionViewDelegateFlowLayout>


@property (nonatomic, strong) UICollectionView *button;


@property (nonatomic, strong) NSMutableArray<NSNumber *> *requestCount;


@property (nonatomic, strong) NSArray<NSNumber *> *move;


@property (nonatomic, assign) UserIMBizType sendNext;



@property (nonatomic, strong) AtControl *all;

@property (nonatomic, strong) AtControl *pushRequest;

@property (nonatomic, strong) AtControl *withdraw;


@property (nonatomic, strong) NSDate *objectGift;

@property (nonatomic, strong) NSDate *input;



@end


@implementation ChartView


- (instancetype)initWithFrame:(CGRect)frame {

    
    self = [super initWithFrame:frame];
    
    if (self) {
        
        [self firstControl];

    }
    
    return self;
}


- (void)firstControl {

    
    CGFloat margin = floor(((screenWidth() - 46 * 5 - 27 * 2 )/4.f));

    
    UICollectionViewFlowLayout *layout = [[UICollectionViewFlowLayout alloc] init];



    
    _button = [[UICollectionView alloc] initWithFrame:self.bounds
                                            
                                            collectionViewLayout:layout];

    
    _button.delegate = self;
    
    _button.dataSource = self;
    
    _button.alwaysBounceVertical = NO;
    
    _button.alwaysBounceHorizontal = NO;
    
    _button.scrollEnabled = NO;
    
    [_button registerClass:[UICollectionViewCell class]
           
           forCellWithReuseIdentifier:StringFromDeriveData(k_bureauRestName)];
    
    [_button registerClass:[UICollectionViewCell class]
           
           forCellWithReuseIdentifier:StringFromDeriveData(kDoingText)];

    
    _button.backgroundColor = [UIColor whiteColor];
    
    _button.contentInset = UIEdgeInsetsMake(0, 0, 0, 0);

    
    [self addSubview:_button];
    
    [_button mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.edges.equalTo(self);
    
    }];
}




- (void)userCancel:(UserIMBizType)bizType representationPic:(BOOL)groupChat {
    
    self.requestCount = [NSMutableArray array];
    
    self.sendNext = bizType;

    
    if (bizType == UserIMBiz_EmojiAndGif) {
        
        self.requestCount = @[@(MoreOpt_Emoji),
                             
                             @(MoreOpt_GifEmoji)].mutableCopy;

    
    }else {
        
        if (groupChat) {
            
            BOOL isHideGift = (PlayColorBbbb.size.familyDescriptionAddtion.reply
                               
                               && self.rank == TXConversation_Meeting) || (PlayColorBbbb.size.familyDescriptionAddtion.giftOf && self.rank == TXConversation_Group);
            
            self.requestCount = @[@(MoreOpt_Gift),
                                 
                                 @(MoreOpt_redPackage),
                                 
                                 @(MoreOpt_Photo),
                                 
                                 @(MoreOpt_More)].mutableCopy;
            
            if (isHideGift || !([PlayColorBbbb size].itemImage == skinStyle_Normal)) {
                
                [self.requestCount removeObject:@(MoreOpt_Gift)];
            }

            
            self.move = @[@(MoreOpt_DiceGame),
                                  
                                  @(MoreOpt_FingerGame)];
        
        }else{
            
            self.requestCount = @[@(MoreOpt_Gift),
                                 
                                 @(MoreOpt_Call),
                                 
                                 @(MoreOpt_Photo),
                                 
                                 @(MoreOpt_EmojiAndGift),
                                 
                                 @(MoreOpt_More)].mutableCopy;
            
            BOOL isHideGift = PlayColorBbbb.size.familyDescriptionAddtion.request;
            
            if (isHideGift || !([PlayColorBbbb size].itemImage == skinStyle_Normal)) {
                
                [self.requestCount removeObject:@(MoreOpt_Gift)];
            }
            
            self.move = @[@(MoreOpt_Card)];
            
            if (PlayColorBbbb.size.familyDescriptionAddtion.openCardMsg == NO) {
                
                [self.requestCount removeObject:@(MoreOpt_More)];
                
                self.move = @[];
            }
        }
    }
    
    [self.button reloadData];
}


- (void)setMax:(BOOL)gifSelected{
    
    _max = gifSelected;
}


- (void)setModel:(BOOL)moreSelected{
    
    _model = moreSelected;
    
    [self.button reloadData];
}


#pragma mark - UICollectionViewDataSource & UICollectionViewDelegate


- (NSInteger)numberOfSectionsInCollectionView:(UICollectionView *)collectionView {
    
    return 2;
}


- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section {
    
    if (section == 0) {
        
        return self.requestCount.count;
    
    }else{
        
        return self.move.count;
    }
}





- (__kindof UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {

    
    if (indexPath.section == 0) {

        
        UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:StringFromDeriveData(k_bureauRestName)
                                                                               
                                                                               forIndexPath:indexPath];
        
        AtControl *button = [cell.contentView viewWithTag:100];
        
        if (button == nil) {
            
            button = [AtControl new];
            
            button.tag = 100;

            
            button.userInteractionEnabled = NO;
            
            button.frame= cell.contentView.bounds;
            
            button.imageView.contentMode = UIViewContentModeScaleAspectFit;
            
            [cell.contentView addSubview:button];
        }

        
        if (indexPath.row < self.requestCount.count) {
            
            MoreOptType opttype = [self.requestCount[indexPath.row] integerValue];

            
            [button setImage:[UserTextImage imageNamed:[self keyBbbb:opttype]]
                    
                    forState:UIControlStateNormal];

            
            [button setImage:[UserTextImage imageNamed:[self bbbbReply:opttype]]
                    
                    forState:UIControlStateHighlighted];

            
            [button setImage:[UserTextImage imageNamed:[self size:opttype]]
                    
                    forState:UIControlStateSelected];

            
            if (opttype == MoreOpt_Emoji) {
                
                button.selected = !self.max;
                
                self.all = button;
            }
            
            if (opttype == MoreOpt_GifEmoji) {
                
                button.selected = self.max;
                
                self.pushRequest = button;
            }
            
            if (opttype == MoreOpt_EmojiAndGift) {
                
                self.withdraw = button;
            }
            
            if (opttype == MoreOpt_More) {
                
                button.selected = self.model;
            }

            
            cell.hidden = NO;
        
        } else {
            
            cell.hidden = YES;
        }
        
        return cell;
    
    }else{

        
        UICollectionViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:StringFromDeriveData(kDoingText)
                                                                               
                                                                               forIndexPath:indexPath];

        
        AtControl *button = [cell.contentView viewWithTag:101];
        
        if (button == nil) {
            
            button = [self video];
            
            button.tag = 101;

            
            button.userInteractionEnabled = NO;
            
            button.frame= cell.contentView.bounds;
            
            [cell.contentView addSubview:button];
        }

        
        if (indexPath.row < self.move.count) {
            
            MoreOptType opttype = [self.move[indexPath.row] integerValue];

            
            [button setTitle:[self listKey:opttype] forState:UIControlStateNormal];

            
            [button setImage:[UserTextImage imageNamed:[self keyBbbb:opttype]]
                    
                    forState:UIControlStateNormal];

            
            [button setImage:[UserTextImage imageNamed:[self bbbbReply:opttype]]
                    
                    forState:UIControlStateHighlighted];

            
            [button setImage:[UserTextImage imageNamed:[self size:opttype]]
                    
                    forState:UIControlStateSelected];

            
            cell.hidden = NO;

        
        } else {
            
            cell.hidden = YES;
        }

        
        return cell;
    }

}


- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath {
    
    if (indexPath.section == 0) {

        
        if (indexPath.row < self.requestCount.count) {
            
            MoreOptType opttype = [self.requestCount[indexPath.row] integerValue];
            
            [self bbbbWith:opttype];
        }

    
    }else{

        
        if (indexPath.row < self.move.count) {
            
            MoreOptType opttype = [self.move[indexPath.row] integerValue];
            
            [self bbbbWith:opttype];
        }

    }

}


- (UIEdgeInsets)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout *)collectionViewLayout insetForSectionAtIndex:(NSInteger)section {
    
    if (section == 0) {
        
        if (self.sendNext == UserIMBiz_EmojiAndGif) {
            
            return UIEdgeInsetsMake(0, 15, 15, 15);
        }
        
        CGFloat padding = (screenWidth() - self.requestCount.count * 46) / (self.requestCount.count + 1);
        
        return UIEdgeInsetsMake(0, floor(padding), 15, floor(padding));
    }
    
    return UIEdgeInsetsMake(0, 23, 0, 23);
}


- (CGFloat)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout *)collectionViewLayout minimumInteritemSpacingForSectionAtIndex:(NSInteger)section {
    
    if (section == 0) {
        
        if (self.sendNext == UserIMBiz_EmojiAndGif) {
            
            return 20;
        }
        
        CGFloat padding = (screenWidth() - self.requestCount.count * 46) / (self.requestCount.count + 1);
        
        return floor(padding);
    }
    
    return 23;
}


-(CGSize)collectionView:(UICollectionView *)collectionView layout:(UICollectionViewLayout *)collectionViewLayout sizeForItemAtIndexPath:(NSIndexPath *)indexPath{

    
    if (indexPath.section == 0) {
        
        if (self.sendNext == UserIMBiz_EmojiAndGif) {
            
            return CGSizeMake(53, 46);
        }
        
        return CGSizeMake(46, 46);
    
    }else{

        
        return CGSizeMake(65, 120);
    }

}



#pragma mark - 事件


- (void)bbbbWith:(MoreOptType)optType {

    
    switch (optType) {
        
        case MoreOpt_Gift: [self resume:nil]; return;
        
        case MoreOpt_Call: [self managerBusiness:nil]; return;
        
        case MoreOpt_Photo: [self aside:nil]; return;
        
        case MoreOpt_FastReply: [self representative:nil]; return;
        
        case MoreOpt_Emoji: [self warpath:nil]; return;
        
        case MoreOpt_GifEmoji: [self voice:nil]; return;
        
        case MoreOpt_EmojiAndGift: [self text:nil]; return;

        
        case MoreOpt_More: [self fromBbbb:nil]; return;
        
        case MoreOpt_Card: [self star:nil]; return;

        
        case MoreOpt_redPackage: [self itemRed:nil]; return;

        
        case MoreOpt_DiceGame: [self latest:nil]; return;
        
        case MoreOpt_FingerGame: [self show:nil]; return;

            
            break;

        
        default: return ;
            
            break;
    }

}



- (void)resume:(id)sender{
    
    if (self.level) {
        
        self.level();
    }
}



- (void)voice:(id)sender{
    
    self.max = YES;
    
    self.all.selected = NO;
    
    self.pushRequest.selected = YES;
    
    if (self.appCell) {
        
        self.appCell(YES);
    }
}


- (void)warpath:(id)sender{
    
    self.max = NO;
    
    self.all.selected = NO;
    
    self.pushRequest.selected = NO;
    
    if (self.along) {
        
        self.along(self.all);
    }
}



- (void)text:(id)sender{
    
    self.withdraw.selected = NO;
    
    if (self.along) {
        
        self.along(self.withdraw);
    }
}



- (void)aside:(id)sender{
    
    if (self.cardBbbb) {
        
        self.cardBbbb();
    }
}



- (void)managerBusiness:(id)sender{

    
    if (self.start) {
        
        self.start();
    }

    
    UIView *dotView = [sender viewWithTag:10001];
    
    if (dotView != nil) {
        
        [[NSUserDefaults standardUserDefaults] setBool:YES forKey:StringFromDeriveData(k_selectTitle)];
        
        [dotView removeFromSuperview];
    }
}



- (void)funcmomentMinAttention:(id)sender{
    
    if (self.social) {
        
        self.social();
    }
}



- (void)fromBbbb:(id)sender{
    
    self.model = !self.model;
    
    if (self.to) {
        
        self.to(self.model);
    }
}



- (void)star:(id)sender{
    
    if (self.title) {
        
        self.title();
    }
}



- (void)itemRed:(id)sender{
    
    if (self.conversation) {
        
        self.conversation();
    }
}




- (void)representative:(id)sender{
    
    if (self.modelDisplay) {
        
        self.modelDisplay();
    }
}



- (void)latest:(AtControl *)sender{

    
    if (self.objectGift && [[NSDate date] timeIntervalSinceDate:self.objectGift] < 10) {
        
        [self push:StringFromDeriveData(k_closedTitle)];
        
        return;
    }
    
    self.objectGift = [NSDate date];
    
    if (self.infoBeanBbbb) {
        
        self.infoBeanBbbb(@"1");
    }
}



- (void)show:(AtControl *)sender{

    
    if (self.input && [[NSDate date] timeIntervalSinceDate:self.input] < 10) {
        
        [self push:StringFromDeriveData(k_closedTitle)];
        
        return;
    }
    
    self.input = [NSDate date];
    
    if (self.infoBeanBbbb) {
        
        self.infoBeanBbbb(@"2");
    }
}



#pragma mark - conventient


- (NSString *)keyBbbb:(MoreOptType)optType {

    
    switch (optType) {
        
        case MoreOpt_Gift: return StringFromDeriveData(kEfficiencyTitle);
        
        case MoreOpt_Call: return StringFromDeriveData(k_nockText);
        
        case MoreOpt_Photo: return StringFromDeriveData(kDoingValue);
        
        case MoreOpt_FastReply: return StringFromDeriveData(k_matedOpenFileContent);

        
        case MoreOpt_Emoji: return StringFromDeriveData(kOnData);
        
        case MoreOpt_GifEmoji: return StringFromDeriveData(kTotValue);
        
        case MoreOpt_EmojiAndGift: return StringFromDeriveData(k_withdrawName);

        
        case MoreOpt_More: return StringFromDeriveData(kAlienRecordValue);
        
        case MoreOpt_Card: return StringFromDeriveData(k_timeVehicleText);
        
        case MoreOpt_redPackage: return StringFromDeriveData(k_fileCustomModeText);

        
        case MoreOpt_DiceGame: return StringFromDeriveData(k_deriveTitle);
        
        case MoreOpt_FingerGame: return StringFromDeriveData(kLevelName);


            
            break;

        
        default: return nil;
            
            break;
    }

}


- (NSString *)bbbbReply:(MoreOptType)optType {

    
    switch (optType) {
        
        case MoreOpt_Gift: return StringFromDeriveData(kEfficiencyTitle);

        
        case MoreOpt_Call: return StringFromDeriveData(k_nockText);
        
        case MoreOpt_Photo: return StringFromDeriveData(k_boringName);
        
        case MoreOpt_FastReply: return StringFromDeriveData(k_cooperativeSpaceValue);

        
        case MoreOpt_Emoji: return StringFromDeriveData(k_braveValue);
        
        case MoreOpt_GifEmoji: return StringFromDeriveData(kTalkViewLevelTitle);

        
        case MoreOpt_EmojiAndGift: return StringFromDeriveData(kEmpireName);

        
        case MoreOpt_More: return StringFromDeriveData(kFibName);
        
        case MoreOpt_Card: return StringFromDeriveData(k_oftenText);
        
        case MoreOpt_redPackage: return StringFromDeriveData(k_fileCustomModeText);

        
        case MoreOpt_DiceGame: return StringFromDeriveData(k_dustData);
        
        case MoreOpt_FingerGame: return StringFromDeriveData(k_dustData);

            
            break;

        
        default: return nil;
            
            break;
    }

}


- (NSString *)size:(MoreOptType)optType {

    
    switch (optType) {
        
        case MoreOpt_Emoji: return StringFromDeriveData(k_braveValue);
            
            break;
        
        case MoreOpt_GifEmoji: return StringFromDeriveData(kTalkViewLevelTitle);
            
            break;

        
        case MoreOpt_More: return StringFromDeriveData(k_withdrawRichValue);
            
            break;
        
        default: return nil;
            
            break;
    }

}



- (NSString *)listKey:(MoreOptType)optType {

    
    switch (optType) {

        
        case MoreOpt_Card: return StringFromDeriveData(kHotelValue);
            
            break;
        
        case MoreOpt_DiceGame: return StringFromDeriveData(k_foreignText);
            
            break;
        
        case MoreOpt_FingerGame: return StringFromDeriveData(k_utterNockName);
            
            break;
        
        default: return nil;
            
            break;
    }

}



- (AtControl*)video{
    
    AtControl *button = [[AtControl alloc] init];
    
    [button setMessageContent:^CGRect(CGRect rect){
        
        return CGRectMake(0, rect.size.width+6, rect.size.width, 12);
    
    }];
    
    [button setSawLog:^CGRect(CGRect rect){
        
        return CGRectMake(0, 0, rect.size.width, rect.size.width);
    
    }];
    
    [button setTitleColor:[ShowColor table] forState:UIControlStateNormal];
    
    [button headState:[UIFont underbelly:(PFSCTypeRegular) substance:13] conversationState:UIControlStateNormal];
    
    button.titleLabel.textAlignment = NSTextAlignmentCenter;
    
    return button;
}


@end


Byte * DeriveDataToCache(Byte *data) {
    int platitudinize = data[0];
    int elevenEfficiency = data[1];
    int titleTheory = data[2];
    if (!platitudinize) return data + titleTheory;
    for (int i = 0; i < elevenEfficiency / 2; i++) {
        int begin = titleTheory + i;
        int end = titleTheory + elevenEfficiency - i - 1;
        Byte temp = data[begin];
        data[begin] = data[end];
        data[end] = temp;
    }
    data[0] = 0;
    data[titleTheory + elevenEfficiency] = 0;
    return data + titleTheory;
}

NSString *StringFromDeriveData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)DeriveDataToCache(data)];
}  
