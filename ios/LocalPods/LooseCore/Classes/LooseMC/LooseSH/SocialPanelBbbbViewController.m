
#import <Foundation/Foundation.h>

NSString *StringFromProudData(Byte *data);


//: data
Byte kNatureCandidaValue[] = {37, 4, 4, 13, 167, 83, 41, 59, 13, 96, 71, 32, 113, 104, 101, 120, 101, 247};


//: 猜你喜欢
Byte k_bodyThereforValue[] = {55, 12, 82, 5, 84, 57, 222, 238, 54, 15, 242, 55, 232, 238, 56, 254, 244, 107};


//: hide_common_hobbies
Byte kConventText[] = {36, 19, 95, 7, 49, 88, 119, 199, 200, 195, 196, 190, 194, 206, 204, 204, 206, 205, 190, 199, 206, 193, 193, 200, 196, 210, 173};


//: 关闭推荐后系统将隐藏“猜你喜欢”功能，你将无法看到系统为你个性化推荐的异性用户。\n\n确认不再接收系统推荐吗？
Byte k_speculateName[] = {59, 158, 4, 10, 182, 183, 172, 127, 152, 216, 233, 137, 183, 237, 155, 177, 234, 146, 172, 236, 145, 148, 233, 148, 146, 235, 183, 191, 235, 191, 163, 233, 180, 138, 237, 158, 148, 236, 155, 147, 230, 132, 160, 235, 144, 160, 232, 193, 164, 233, 154, 160, 234, 176, 166, 230, 132, 161, 233, 142, 163, 236, 135, 193, 243, 192, 144, 232, 193, 164, 233, 180, 138, 234, 155, 164, 234, 183, 153, 235, 160, 143, 233, 140, 180, 235, 183, 191, 235, 191, 163, 232, 188, 190, 232, 193, 164, 232, 188, 174, 234, 132, 171, 233, 144, 154, 234, 146, 172, 236, 145, 148, 235, 158, 136, 233, 192, 134, 234, 132, 171, 235, 152, 172, 234, 140, 187, 231, 132, 134, 14, 14, 235, 165, 178, 236, 178, 168, 232, 188, 145, 233, 138, 145, 234, 146, 169, 234, 152, 186, 235, 183, 191, 235, 191, 163, 234, 146, 172, 236, 145, 148, 233, 148, 155, 243, 192, 163, 135};


//: gu/tiqo/iqaRzmupx
Byte kCellBloodyPunchTitle[] = {88, 17, 48, 14, 50, 94, 167, 174, 46, 125, 232, 24, 102, 26, 151, 165, 95, 164, 153, 161, 159, 95, 153, 161, 145, 130, 170, 157, 165, 160, 168, 30};


//: 温馨提示：您聊天的妹子越多,系统推荐的会越对您胃口噢
Byte k_vehicleWithTitle[] = {27, 76, 34, 9, 168, 174, 175, 101, 247, 8, 218, 203, 11, 200, 202, 8, 177, 178, 9, 198, 220, 17, 222, 188, 8, 164, 202, 10, 163, 172, 7, 198, 203, 9, 188, 166, 7, 200, 219, 7, 207, 178, 10, 216, 172, 7, 198, 188, 78, 9, 213, 221, 9, 221, 193, 8, 176, 202, 10, 175, 178, 9, 188, 166, 6, 222, 188, 10, 216, 172, 7, 209, 219, 8, 164, 202, 10, 165, 165, 7, 177, 197, 7, 187, 196, 225};


//: page
Byte k_indexLabelNeighborData[] = {10, 4, 50, 4, 162, 147, 153, 151, 242};


//: 猜你喜欢已关闭
Byte kSightSuraTitle[] = {23, 21, 95, 11, 164, 19, 231, 184, 231, 97, 143, 70, 235, 251, 67, 28, 255, 68, 245, 251, 69, 11, 1, 68, 22, 17, 68, 228, 18, 72, 246, 12, 81};


//: round
Byte kStrawBlinkData[] = {76, 5, 17, 4, 131, 128, 134, 127, 117, 122};


//: type
Byte k_cotTitle[] = {4, 4, 80, 5, 166, 196, 201, 192, 181, 236};


//: btn_youlike_shua
Byte k_openlyBodyTitle[] = {21, 16, 81, 6, 127, 95, 179, 197, 191, 176, 202, 192, 198, 189, 186, 188, 182, 176, 196, 185, 198, 178, 127};


//: 目前还没发现你可能喜欢的人，\n多多跟异性聊天就会有推荐啦～
Byte k_realistOpenFortunateTitle[] = {78, 85, 66, 12, 82, 67, 6, 45, 165, 132, 204, 135, 41, 221, 240, 39, 203, 207, 42, 1, 218, 40, 244, 227, 39, 209, 211, 41, 208, 242, 38, 255, 226, 39, 209, 241, 42, 197, 255, 39, 216, 222, 40, 238, 228, 41, 220, 198, 38, 252, 252, 49, 254, 206, 76, 39, 230, 220, 39, 230, 220, 42, 249, 225, 39, 254, 196, 40, 194, 233, 42, 195, 204, 39, 230, 235, 39, 242, 243, 38, 254, 220, 40, 222, 203, 40, 208, 234, 42, 207, 210, 39, 215, 232, 49, 255, 224, 243};


//: toUids
Byte k_billionData[] = {65, 6, 79, 11, 254, 135, 230, 225, 166, 196, 30, 195, 190, 164, 184, 179, 194, 96};


//: 不再推荐
Byte k_leyTimeData[] = {63, 12, 43, 6, 252, 225, 15, 227, 184, 16, 177, 184, 17, 185, 211, 19, 184, 187, 215};


//: msg
Byte k_tableProvinceValue[] = {6, 3, 55, 11, 187, 135, 172, 83, 108, 226, 212, 164, 170, 158, 127};


//: LFCSocialGuessLikeHead
Byte kMilkAntiText[] = {82, 22, 62, 5, 204, 138, 132, 129, 145, 173, 161, 167, 159, 170, 133, 179, 163, 177, 177, 138, 167, 169, 163, 134, 163, 159, 162, 193};


//: 网络开小差了，请重试~
Byte k_airmanWithData[] = {6, 31, 65, 13, 222, 221, 86, 160, 119, 253, 200, 207, 181, 40, 254, 210, 40, 252, 221, 38, 253, 193, 38, 241, 208, 38, 248, 239, 37, 251, 199, 48, 253, 205, 41, 240, 248, 42, 200, 206, 41, 240, 214, 191, 235};


//: value
Byte kDeriveTitle[] = {18, 5, 78, 8, 238, 36, 218, 103, 196, 175, 186, 195, 179, 121};


//: 取消
Byte k_punishmentContent[] = {72, 6, 52, 10, 111, 244, 167, 50, 238, 28, 25, 195, 202, 26, 234, 188, 121};


//: isShowError
Byte kViewMuseumName[] = {26, 11, 54, 13, 4, 145, 14, 80, 196, 238, 57, 219, 86, 159, 169, 137, 158, 165, 173, 123, 168, 168, 165, 168, 34};

// __DEBUG__
// __CLOSE_PRINT__
//
//  LFCSocialLikeController.m
//  ShanLian
//
//  Created by Hemming on 2022/7/25.
//  Copyright © 2022 app. All rights reserved.
//
//: 
//: 
//: 
//: 
//: 
//: 
//: @interface LFCSocialGuessLikeController ()<UICollectionViewDelegate,UICollectionViewDataSource,LFCSocialGuessLikeCellDelegate>

// __M_A_C_R_O__
#import "SocialPanelBbbbViewController.h"
#import "UIScrollView+LFCReFresh.h"
#import "UpBbbb.h"
#import "TrailMax.h"
#import "ViewCell.h"
#import "ListControllerBbbb.h"

@interface SocialPanelBbbbViewController ()<UICollectionViewDelegate,UICollectionViewDataSource,ErrorBbbb>

//: @property (nonatomic, strong) UICollectionView    *collectView;
@property (nonatomic, strong) UICollectionView *color;
//: @property (nonatomic, strong) UIButton            *cancelBtn;
@property (nonatomic, strong) UIButton *punctuate;
//: @property (nonatomic, strong) AtControl            *freshBtn;
@property (nonatomic, strong) AtControl *listBbbb;
//: @property (nonatomic, strong) UIView            *rightBackView;
@property (nonatomic, strong) UIView *name;
//: @property (nonatomic, strong) LFCEmptyDataHandler *emptyHandler;
@property (nonatomic, strong) TrailMax *shared;

//: @property (nonatomic, strong) NSMutableArray *listArr;
@property (nonatomic, strong) NSMutableArray *oralCommunication;

//: @property (nonatomic, strong)   UIScrollView *scrollView;
@property (nonatomic, strong) UIScrollView *state;
//: @property(nonatomic, copy)      NSArray *playerCell;   
@property(nonatomic, copy) NSArray *panoply; //播放介绍视频
//: @property(nonatomic, assign)    NSInteger cunrrenplayerIndex;   
@property(nonatomic, assign) NSInteger top; //播放介绍视频位置
//: @property(nonatomic, assign)    BOOL isgetPlayerCell;
@property(nonatomic, assign) BOOL family;
//: @property(nonatomic, assign)    BOOL isFreshPlayerCell;  
@property(nonatomic, assign) BOOL request; //刷新时加载介绍视频播放
//: @property(nonatomic, assign)    NSInteger page;
@property(nonatomic, assign) NSInteger bluntPresent;

//: @end
@end

//: @implementation LFCSocialGuessLikeController
@implementation SocialPanelBbbbViewController

//: #pragma mark - 生命周期
#pragma mark - 生命周期

//: - (void)dealloc{
- (void)dealloc{
    ///停留时间
    //: [LFCAppCapStatistical reportEvent:[LFCAppStatHelper GuessYouLikePageDuration]
    [AppBbbb basket:[ClickUser indue]
                            //: extroInfo:@{}];
                            name_strong:@{}];
}

//: - (void)viewWillAppear:(BOOL)animated {
- (void)viewWillAppear:(BOOL)animated {
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: [self isplayerVideo:NO];
    [self request:NO];
}
//: - (void)viewDidDisappear:(BOOL)animated{
- (void)viewDidDisappear:(BOOL)animated{
    //: [super viewDidDisappear:animated];
    [super viewDidDisappear:animated];
    //: [self isplayerVideo:YES];
    [self request:YES];
}
//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
    ///首次加载时间
    //: [LFCAppCapStatistical startStatisticsId:[LFCAppStatHelper GuessYouLikePageDuration]];
    [AppBbbb finish:[ClickUser indue]];

    //: [self setupViews];
    [self faunaBbbb];
    //: [self initRefresh];
    [self initSheet];
    //: [self initnotificationObserver];
    [self initClick];
}
- (void)faunaBbbb{
    //: self.title = @"猜你喜欢";
    self.title = StringFromProudData(k_bodyThereforValue);

    //: UIBarButtonItem *ButtonItem = [[UIBarButtonItem alloc]initWithCustomView:self.rightBackView];
    UIBarButtonItem *ButtonItem = [[UIBarButtonItem alloc]initWithCustomView:self.name];
    //: self.navigationItem.rightBarButtonItem = ButtonItem;
    self.navigationItem.rightBarButtonItem = ButtonItem;

    //: [self.view addSubview:self.collectView];
    [self.view addSubview:self.color];
    //: [self.collectView mas_makeConstraints:^(MASConstraintMaker *make) {
    [self.color mas_makeConstraints:^(MASConstraintMaker *make) {
        //: make.top.left.right.bottom.mas_equalTo(0);
        make.top.left.right.bottom.mas_equalTo(0);
    //: }];
    }];
}
//: - (void)initnotificationObserver{
- (void)initClick{
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(enterBackgroundNoti)
                                             selector:@selector(buttonCheck)
                                                 //: name:UIApplicationWillResignActiveNotification
                                                 name:UIApplicationWillResignActiveNotification
                                               //: object:nil];
                                               object:nil];
    // APP进入前台
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(enterActiveNoti)
                                             selector:@selector(masculineBbbb)
                                                 //: name:UIApplicationDidBecomeActiveNotification
                                                 name:UIApplicationDidBecomeActiveNotification
                                               //: object:nil];
                                               object:nil];
}
//: #pragma mark - 数据请求
#pragma mark - 数据请求
//: - (void)initRefresh{
- (void)initSheet{
    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: [self.collectView addHeaderRefresh:^{
    [self.color mark:^{
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: self.page = 0;
        self.bluntPresent = 0;
        //: [self requestGuessLikeListData:YES];
        [self toBbbb:YES];
    //: }];
    }];
    //: [self.collectView addFooterRefresh:^{
    [self.color max:^{
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [self requestGuessLikeListData:NO];
        [self toBbbb:NO];
    //: }];
    }];
    //: [self.collectView.mj_header beginRefreshing];
    [self.color.mj_header beginRefreshing];
}
//: - (void)requestGuessLikeListData:(BOOL)isHead{
- (void)toBbbb:(BOOL)isHead{

    //: if (isHead) {
    if (isHead) {
        //: AppManager.sharedAppManager.guessLikeRound++;
        PlayColorBbbb.size.watch++;
    }
    //: [LFCGreetManager func__requestGuessLikeListWith:@{@"page":[NSString stringWithFormat:@"%d",self.page],@"round":[NSString stringWithFormat:@"%d", AppManager.sharedAppManager.guessLikeRound]} completion:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
    [UpBbbb answer:@{StringFromProudData(k_indexLabelNeighborData):[NSString stringWithFormat:@"%d",self.bluntPresent],StringFromProudData(kStrawBlinkData):[NSString stringWithFormat:@"%d", PlayColorBbbb.size.watch]} like:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
        //: [self.collectView endRefresh];        
        [self.color status];
        //: if (resultDic == nil && error != nil) {
        if (resultDic == nil && error != nil) {
            //: [self showStatusBarError:error];
            [self user:error];
            //: return;
            return;
        }
        //: if (isHead) {
        if (isHead) {
            //: [self.listArr removeAllObjects];
            [self.oralCommunication removeAllObjects];
        }
        //: NSArray *array = resultDic[@"data"];
        NSArray *array = resultDic[StringFromProudData(kNatureCandidaValue)];
        //: if (array.count == 0) {
        if (array.count == 0) {
            //: [self.collectView.mj_footer endRefreshingWithNoMoreData];
            [self.color.mj_footer endRefreshingWithNoMoreData];
        //: }else{
        }else{
            //: [self.collectView.mj_footer resetNoMoreData];
            [self.color.mj_footer resetNoMoreData];
        }
        //: for (NSDictionary *dict in array) {
        for (NSDictionary *dict in array) {
            //: LFCSocialGuessLikeModel *model = [LFCSocialGuessLikeModel modelWithDic:dict];
            ShowModel *model = [ShowModel modelWithDic:dict];
            //: [self.listArr addObject:model];
            [self.oralCommunication addObject:model];
        }
        //: self.collectView.mj_footer.hidden = (self.listArr.count == 0);
        self.color.mj_footer.hidden = (self.oralCommunication.count == 0);
        //: [self.collectView reloadData];
        [self.color reloadData];
        //: self.page++;
        self.bluntPresent++;
        //: self.isFreshPlayerCell = YES;
        self.request = YES;
    //: }];
    }];
}


//: #pragma mark - 事件私有方法
#pragma mark - 事件私有方法

//: - (void)cancelBtnClickAction:(UIButton *)sender{
- (void)headDown:(UIButton *)sender{
    //: LFCAlertButton* cancel = [[LFCAlertButton alloc] initWithTitle:@"取消" type:(AlertButtonType0) action:^{
    ImageButton* cancel = [[ImageButton alloc] initWithTimeCurrent:StringFromProudData(k_punishmentContent) merge:(AlertButtonType0) like:^{
    //: }];
    }];
    //: LFCAlertButton* openSetting = [[LFCAlertButton alloc] initWithTitle:@"不再推荐" type:(AlertButtonType1) action:^{
    ImageButton* openSetting = [[ImageButton alloc] initWithTimeCurrent:StringFromProudData(k_leyTimeData) merge:(AlertButtonType1) like:^{

        //: [MBProgressHUD showHUDAddedTo:self.view animated:YES];
        [MBProgressHUD showHUDAddedTo:self.view animated:YES];

        //: TalkingRequest *setUpModel = [[TalkingRequest alloc] init];
        HologramHead *setUpModel = [[HologramHead alloc] init];
        //: setUpModel.requestPath   = @"gu/tiqo/iqaRzmupx";
        setUpModel.user = StringFromProudData(kCellBloodyPunchTitle);
        //: setUpModel.params       = @{@"value" : @(1),
        setUpModel.pushTimeId = @{StringFromProudData(kDeriveTitle) : @(1),
                                    //: @"type":@"hide_common_hobbies"
                                    StringFromProudData(k_cotTitle):StringFromProudData(kConventText)
        //: }; 
        }; //1授权,0不授权

        //: @weakify(self);
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        //: [[AppManager sharedAppManager].dao startRequest:setUpModel withFinishBlock:^(TalkingRequest *requestModel, NSDictionary *component, NSError *error) {
        [[PlayColorBbbb size].admin with:setUpModel editFee:^(HologramHead *requestModel, NSDictionary *component, NSError *error) {
            //: @strongify(self);
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            //: [MBProgressHUD hideHUDForView:self.view animated:YES];
            [MBProgressHUD hideHUDForView:self.view animated:YES];

            //: NSString *msg = component[@"msg"];
            NSString *msg = component[StringFromProudData(k_tableProvinceValue)];
            //: if (error || component == nil) {
            if (error || component == nil) {
                //: [self showStatusBarErrorStr:(msg?msg:@"网络开小差了，请重试~")];
                [self push:(msg?msg:StringFromProudData(k_airmanWithData))];
            //: } else {
            } else {

                //: if (self.cancleShowGuessLikeBlock) {
                if (self.push) {
                    //: self.cancleShowGuessLikeBlock();
                    self.push();
                }
                //: [AppManager sharedAppManager].loginUser.hideCommonHobbies = YES;
                [PlayColorBbbb size].file.hideCommonHobbies = YES;
                //: [self showStatusBarMessageStr:@"猜你喜欢已关闭"];
                [self equivalence:StringFromProudData(kSightSuraTitle)];
                //: [[NSNotificationCenter defaultCenter] postNotificationName:[NotificationDef FreshHomeHeaderNoti] object:nil userInfo:nil];
                [[NSNotificationCenter defaultCenter] postNotificationName:[CurrentUp line] object:nil userInfo:nil];
                //: [self.navigationController popViewControllerAnimated:YES];
                [self.navigationController popViewControllerAnimated:YES];
            }

        //: }];
        }];

    //: }];
    }];
    //: LFCAlertView* alertView = [[LFCAlertView alloc] initWithTitle:nil content:@"关闭推荐后系统将隐藏“猜你喜欢”功能，你将无法看到系统为你个性化推荐的异性用户。\n\n确认不再接收系统推荐吗？" btnArray:@[cancel,openSetting]];
    MutualView* alertView = [[MutualView alloc] initWithPlanSquare:nil phone:StringFromProudData(k_speculateName) age:@[cancel,openSetting]];
    //: [alertView show];
    [alertView of];
}
//: #pragma mark - UICollectionView代理
#pragma mark - UICollectionView代理
//: - (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section {
- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section {
    //: return self.listArr.count;
    return self.oralCommunication.count;
}

//: - (__kindof UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {
- (__kindof UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {

    //: LFCSocialGuessLikeCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"LFCSocialGuessLikeCell" forIndexPath:indexPath];
    ViewCell *cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"ViewCell" forIndexPath:indexPath];
    //: LFCSocialGuessLikeModel *likeModel = (LFCSocialGuessLikeModel *)[self.listArr objectAtIndex:indexPath.row];
    ShowModel *likeModel = (ShowModel *)[self.oralCommunication objectAtIndex:indexPath.row];
    //: cell.likeModel = likeModel;
    cell.clickBbbb = likeModel;
    //: cell.greetButtonBlock = ^(NSString * _Nonnull uid) {
    cell.phoneSame = ^(NSString * _Nonnull uid) {
        //: [LFCAppCapStatistical onNewEvent:[LFCAppStatHelper ClickGuessYouLike_SayHibutton]];
        [AppBbbb userBbbb:[ClickUser key]];

        //: NSDictionary *params = @{@"toUids":uid,@"isShowError":@(1)};
        NSDictionary *params = @{StringFromProudData(k_billionData):uid,StringFromProudData(kViewMuseumName):@(1)};
        //: [[LFCGreetManager sharedInstance] requestGreetWithParams:params complete:^(BOOL success, NSError * _Nonnull error) {
        [[UpBbbb numerosity] alongStrengthStatus:params with:^(BOOL success, NSError * _Nonnull error) {

            //: if (error.code == ServerCode_LackMoney){
            if (error.code == ServerCode_LackMoney){
                //: [[AppManager sharedAppManager] func__TXChatToUserID:[uid integerValue]];
                [[PlayColorBbbb size] show:[uid integerValue]];
            }
        //: }];
        }];
    //: };
    };
    //: return cell;
    return cell;
}

//: - (UICollectionReusableView *)collectionView:(UICollectionView *)collectionView viewForSupplementaryElementOfKind:(NSString *)kind atIndexPath:(NSIndexPath *)indexPath
- (UICollectionReusableView *)collectionView:(UICollectionView *)collectionView viewForSupplementaryElementOfKind:(NSString *)kind atIndexPath:(NSIndexPath *)indexPath
{

    //: if([kind isEqualToString:UICollectionElementKindSectionHeader]){
    if([kind isEqualToString:UICollectionElementKindSectionHeader]){
        //: UICollectionReusableView *headView = [collectionView dequeueReusableSupplementaryViewOfKind:kind withReuseIdentifier:@"LFCSocialGuessLikeHead" forIndexPath:indexPath];
        UICollectionReusableView *headView = [collectionView dequeueReusableSupplementaryViewOfKind:kind withReuseIdentifier:StringFromProudData(kMilkAntiText) forIndexPath:indexPath];
        //: if(headView == nil)
        if(headView == nil)
        {
            //: headView = [[UICollectionReusableView alloc] init];
            headView = [[UICollectionReusableView alloc] init];
        }

        //: for (UIView *view in headView.subviews) {
        for (UIView *view in headView.subviews) {
            //: [view removeFromSuperview];
            [view removeFromSuperview];
        }
        //: headView.backgroundColor = [UIColor whiteColor];
        headView.backgroundColor = [UIColor whiteColor];

        //: UIImageView *colorView = [[UIImageView alloc] init];
        UIImageView *colorView = [[UIImageView alloc] init];
        //: colorView.frame = CGRectMake(actualWidth(15), 10, screenWidth()-actualWidth(30), actualHeight(34));
        colorView.frame = CGRectMake(actualWidth(15), 10, screenWidth()-actualWidth(30), actualHeight(34));
        //: NSArray* colors = @[(id)[ShowColor gradualColorStart].CGColor,(id)[ShowColor gradualColorStop].CGColor];
        NSArray* colors = @[(id)[ShowColor format].CGColor,(id)[ShowColor bbbb].CGColor];
        //: UIImage *normalImage = [UIImage gradientImageWithColors:colors size:CGSizeMake(screenWidth()-30, 34) needCover:NO];
        UIImage *normalImage = [UIImage gatefold:colors standard:CGSizeMake(screenWidth()-30, 34) mightHaveBeen:NO];
        //: colorView.image = normalImage;
        colorView.image = normalImage;
        //: colorView.layer.cornerRadius = 5;
        colorView.layer.cornerRadius = 5;
        //: colorView.clipsToBounds = YES;
        colorView.clipsToBounds = YES;
        //: [headView addSubview:colorView];
        [headView addSubview:colorView];

        //: UILabel *tipLabel = [[UILabel alloc] init];
        UILabel *tipLabel = [[UILabel alloc] init];
        //: tipLabel.frame = CGRectMake(actualWidth(7), 0, screenWidth()-actualWidth(44), actualHeight(34));
        tipLabel.frame = CGRectMake(actualWidth(7), 0, screenWidth()-actualWidth(44), actualHeight(34));
        //: tipLabel.textColor = [UIColor whiteColor];
        tipLabel.textColor = [UIColor whiteColor];
        //: tipLabel.font = [UIFont PingFangFontWithType:(PFSCTypeRegular) fontSize:13];
        tipLabel.font = [UIFont underbelly:(PFSCTypeRegular) substance:13];
        //: tipLabel.numberOfLines = 0;
        tipLabel.numberOfLines = 0;
        // 添加行间距
        //: NSMutableParagraphStyle *paragraphStyle = [NSMutableParagraphStyle new];
        NSMutableParagraphStyle *paragraphStyle = [NSMutableParagraphStyle new];
        //: NSMutableDictionary *attributes = [NSMutableDictionary dictionary];
        NSMutableDictionary *attributes = [NSMutableDictionary dictionary];
        //: [attributes setObject:paragraphStyle forKey:NSParagraphStyleAttributeName];
        [attributes setObject:paragraphStyle forKey:NSParagraphStyleAttributeName];
        //: tipLabel.attributedText = [[NSAttributedString alloc] initWithString:@"温馨提示：您聊天的妹子越多,系统推荐的会越对您胃口噢" attributes:attributes];
        tipLabel.attributedText = [[NSAttributedString alloc] initWithString:StringFromProudData(k_vehicleWithTitle) attributes:attributes];
        //: [colorView addSubview:tipLabel];
        [colorView addSubview:tipLabel];
        //: return headView;
        return headView;
    }
    //: return nil;
    return nil;
}


//: - (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath {
- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath {

    //: [LFCAppCapStatistical onNewEvent:[LFCAppStatHelper EnterGuessYouLike_PersonalHomepage]];
    [AppBbbb userBbbb:[ClickUser appBbbb]];

    //: LFCSocialGuessLikeModel *likeModel = (LFCSocialGuessLikeModel *)[self.listArr objectAtIndex:indexPath.row];
    ShowModel *likeModel = (ShowModel *)[self.oralCommunication objectAtIndex:indexPath.row];
    //: LFCUserDetailInfoController* vc = [LFCUserDetailInfoController new];
    ListControllerBbbb* vc = [ListControllerBbbb new];
    //: vc.uid = [likeModel.uid integerValue];
    vc.smallness = [likeModel.uid integerValue];
    //: vc.isGuessLikeVCPush = YES;
    vc.up = YES;
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

//: - (void)collectionView:(UICollectionView *)collectionView willDisplayCell:(UICollectionViewCell *)cell forItemAtIndexPath:(NSIndexPath *)indexPath {
- (void)collectionView:(UICollectionView *)collectionView willDisplayCell:(UICollectionViewCell *)cell forItemAtIndexPath:(NSIndexPath *)indexPath {
    //下拉刷新时
    //: if ([AppManager sharedAppManager].showVideoInList && indexPath.row ==4 && self.isFreshPlayerCell) {
    if ([PlayColorBbbb size].make && indexPath.row ==4 && self.request) {
        //: [self getallCanPlayerCell:self.scrollView istopfresh:YES];
        [self it:self.state signature:YES];
    }

}
//: #pragma mark - 视频播放
#pragma mark - 视频播放
//: - (void)isplayerVideo:(BOOL)pause {
- (void)request:(BOOL)pause {
    //: if ([AppManager sharedAppManager].showVideoInDating ) {
    if ([PlayColorBbbb size].cell ) {
        //: if (self.playerCell.count>0) {
        if (self.panoply.count>0) {
            //: LFCSocialGuessLikeCell* cell = self.playerCell[self.cunrrenplayerIndex];
            ViewCell* cell = self.panoply[self.top];
            //: if (pause) {
            if (pause) {
                //: [cell pausePlay];
                [cell can];
            //: }else {
            }else {
                //: [cell resume];
                [cell infoResume];
            }
        }
    }
}


//: -(void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate {
-(void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate {

    //: if (!decelerate ) {
    if (!decelerate ) {
        //: if (scrollView.contentOffset.y <-5 ) {
        if (scrollView.contentOffset.y <-5 ) {
            //: return;
            return;
        }
        //: [self getallCanPlayerCell:scrollView istopfresh:NO];
        [self it:scrollView signature:NO];
    }
}

//: - (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {
- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView {

    //: if (scrollView.contentOffset.y <-5 ) {
    if (scrollView.contentOffset.y <-5 ) {
        //: return;
        return;
    }
    //: [self getallCanPlayerCell:scrollView istopfresh:NO];
    [self it:scrollView signature:NO];

}

//: - (void)getallCanPlayerCell:(UIScrollView *)scrollView istopfresh:(BOOL)isfresh{
- (void)it:(UIScrollView *)scrollView signature:(BOOL)isfresh{

    //: if ([AppManager sharedAppManager].showVideoInList) {
    if ([PlayColorBbbb size].make) {
        //: if (self.isgetPlayerCell) {
        if (self.family) {
            //: return;
            return;
        }
        //: NSArray *array = [self.collectView visibleCells];
        NSArray *array = [self.color visibleCells];
        //: self.isgetPlayerCell = YES;
        self.family = YES;
        //保留完整显示cell
        //: NSMutableArray* celldataAM = [NSMutableArray array];
        NSMutableArray* celldataAM = [NSMutableArray array];
        //: for (LFCSocialGuessLikeCell* cell in array) {
        for (ViewCell* cell in array) {

            //: if (cell.y >= scrollView.contentOffset.y-10 && cell.y<scrollView.contentOffset.y+cell.height*2) {
            if (cell.textItem >= scrollView.contentOffset.y-10 && cell.textItem<scrollView.contentOffset.y+cell.height*2) {
                //: NSIndexPath* indexpath = [self.collectView indexPathForCell:cell];
                NSIndexPath* indexpath = [self.color indexPathForCell:cell];
                //: LFCSocialGuessLikeModel *model = self.listArr[indexpath.row];
                ShowModel *model = self.oralCommunication[indexpath.row];
                //: if (model.video.length>0) {
                if (model.video.length>0) {
                    //: cell.delegate = self;
                    cell.filter = self;
                    //: [celldataAM addObject:cell];
                    [celldataAM addObject:cell];
                }
            }
        }
        //交换位置
        //: for (int i = 0; i < celldataAM.count; i++) {
        for (int i = 0; i < celldataAM.count; i++) {
            //: for (int j = 0; j < celldataAM.count - 1 - i; j++) {
            for (int j = 0; j < celldataAM.count - 1 - i; j++) {
                //: LFCSocialGuessLikeCell* tNumber1 = celldataAM[j];
                ViewCell* tNumber1 = celldataAM[j];
                //: LFCSocialGuessLikeCell* tNumber2 = celldataAM[j+1];
                ViewCell* tNumber2 = celldataAM[j+1];

                //: if ( tNumber1.frame.origin.y > tNumber2.frame.origin.y || (tNumber1.frame.origin.y == tNumber2.frame.origin.y && tNumber1.frame.origin.x > tNumber2.frame.origin.x)) {
                if ( tNumber1.frame.origin.y > tNumber2.frame.origin.y || (tNumber1.frame.origin.y == tNumber2.frame.origin.y && tNumber1.frame.origin.x > tNumber2.frame.origin.x)) {
                    //: LFCSocialGuessLikeModel* tmp = celldataAM[j] ;
                    ShowModel* tmp = celldataAM[j] ;
                    //: celldataAM[j] = tNumber2;
                    celldataAM[j] = tNumber2;
                    //: celldataAM[j+1]= tmp;
                    celldataAM[j+1]= tmp;
                }
            }
        }

        //: if (celldataAM.count>0) {
        if (celldataAM.count>0) {

            //: if (![self.playerCell isEqualToArray:[celldataAM copy]]) {
            if (![self.panoply isEqualToArray:[celldataAM copy]]) {

                //去掉之前播放
                //: if (self.playerCell.count>0) {
                if (self.panoply.count>0) {
                    //: LFCSocialGuessLikeCell* cell = self.playerCell[self.cunrrenplayerIndex];
                    ViewCell* cell = self.panoply[self.top];
                    //: [cell stopPlay];
                    [cell play];
                }
                //: self.playerCell  = [celldataAM copy];
                self.panoply = [celldataAM copy];
                //: self.cunrrenplayerIndex = 0;
                self.top = 0;
                //: LFCSocialGuessLikeCell* cell = self.playerCell[self.cunrrenplayerIndex];
                ViewCell* cell = self.panoply[self.top];
                //: NSIndexPath* indexpath = [self.collectView indexPathForCell:cell];
                NSIndexPath* indexpath = [self.color indexPathForCell:cell];
                //: LFCSocialGuessLikeModel *model = self.listArr[indexpath.row];
                ShowModel *model = self.oralCommunication[indexpath.row];
                //: [cell startPlayVideo:model.video];
                [cell since:model.video];
            }
        //: }else {
        }else {
            //: if (self.playerCell.count>0 ) {
            if (self.panoply.count>0 ) {
                //: LFCSocialGuessLikeCell* cell = self.playerCell[self.cunrrenplayerIndex];
                ViewCell* cell = self.panoply[self.top];
                //: [cell stopPlay];
                [cell play];
                //: self.playerCell = nil;
                self.panoply = nil;
            }
        }
        //: self.isgetPlayerCell = NO;
        self.family = NO;
        //: self.isFreshPlayerCell= NO;
        self.request= NO;
    }
}
//: - (void)enterBackgroundNoti {
- (void)buttonCheck {
    //: [self isplayerVideo:YES];
    [self request:YES];
}
//: - (void)enterActiveNoti {
- (void)masculineBbbb {
    //: [self isplayerVideo:NO];
    [self request:NO];
}

//: - (void)freshBtnClickAction {
- (void)giftClick {
    //: [self.collectView.mj_header beginRefreshing];
    [self.color.mj_header beginRefreshing];
}

//: #pragma mark -LFCSocialImgListCellDelegate
#pragma mark -WithName
//: - (void)cellPlayerEnd {
- (void)teenagerLocation {
    //: if (self.playerCell.count==0) {
    if (self.panoply.count==0) {
        //: return;
        return;
    }
    //: if (self.isgetPlayerCell) {
    if (self.family) {
        //: return;
        return;
    }
    //: self.isgetPlayerCell = YES;
    self.family = YES;

    //: LFCSocialGuessLikeCell* cell1 = self.playerCell[self.cunrrenplayerIndex];
    ViewCell* cell1 = self.panoply[self.top];
    //: [cell1 stopPlay];
    [cell1 play];

    //: if (self.cunrrenplayerIndex+1 <self.playerCell.count ) {
    if (self.top+1 <self.panoply.count ) {
        //: self.cunrrenplayerIndex += 1;
        self.top += 1;
    //: }else {
    }else {
        //: self.cunrrenplayerIndex = 0;
        self.top = 0;
    }
    //: LFCSocialGuessLikeCell* cell2 = self.playerCell[self.cunrrenplayerIndex];
    ViewCell* cell2 = self.panoply[self.top];
    //: NSIndexPath* indexpath = [self.collectView indexPathForCell:cell2];
    NSIndexPath* indexpath = [self.color indexPathForCell:cell2];
    //: LFCSocialGuessLikeModel *model = self.listArr[indexpath.row];
    ShowModel *model = self.oralCommunication[indexpath.row];
    //: [cell2 startPlayVideo:model.video];
    [cell2 since:model.video];

    //: dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.2 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(0.2 * 1000000000ull)), dispatch_get_main_queue(), ^{
        //: self.isgetPlayerCell = NO;
        self.family = NO;
    //: });
    });
}

//: #pragma mark - 懒加载
#pragma mark - 懒加载
//: - (UICollectionView *)collectView{
- (UICollectionView *)color{
    //: if (!_collectView) {
    if (!_color) {
        //: UICollectionViewFlowLayout * layout = [[UICollectionViewFlowLayout alloc] init];
        UICollectionViewFlowLayout * layout = [[UICollectionViewFlowLayout alloc] init];
        //: layout.minimumLineSpacing = 0;
        layout.minimumLineSpacing = 0;
        //: layout.minimumInteritemSpacing = 0;
        layout.minimumInteritemSpacing = 0;
        //: CGFloat width = floor((screenWidth()-18)/2);
        CGFloat width = floor((screenWidth()-18)/2);
        //: layout.itemSize = CGSizeMake(width, width+60);
        layout.itemSize = CGSizeMake(width, width+60);
        //: layout.headerReferenceSize = CGSizeMake(screenWidth(), 64);
        layout.headerReferenceSize = CGSizeMake(screenWidth(), 64);
        //: layout.sectionInset = UIEdgeInsetsMake(4, 9, MAX(safeAreaBottomHeight(), 10), screenWidth()-9-width*2);
        layout.sectionInset = UIEdgeInsetsMake(4, 9, ((safeAreaBottomHeight()) > (10) ? (safeAreaBottomHeight()) : (10)), screenWidth()-9-width*2);
        //: _collectView = [[UICollectionView alloc]initWithFrame:CGRectZero collectionViewLayout:layout];
        _color = [[UICollectionView alloc]initWithFrame:CGRectZero collectionViewLayout:layout];
        //: _collectView.backgroundColor        = [UIColor whiteColor];
        _color.backgroundColor = [UIColor whiteColor];
        //: _collectView.delegate               = self;
        _color.delegate = self;
        //: _collectView.dataSource             = self;
        _color.dataSource = self;
        //: _collectView.emptyDataSetSource     = self.emptyHandler;
        _color.emptyDataSetSource = self.shared;
        //: _collectView.emptyDataSetDelegate   = self.emptyHandler;
        _color.emptyDataSetDelegate = self.shared;
        //: [_collectView registerClass:[LFCSocialGuessLikeCell class] forCellWithReuseIdentifier:@"LFCSocialGuessLikeCell"];
        [_color registerClass:[ViewCell class] forCellWithReuseIdentifier:@"ViewCell"];
        //: [_collectView registerClass:[UICollectionReusableView class] forSupplementaryViewOfKind:UICollectionElementKindSectionHeader withReuseIdentifier:@"LFCSocialGuessLikeHead"];
        [_color registerClass:[UICollectionReusableView class] forSupplementaryViewOfKind:UICollectionElementKindSectionHeader withReuseIdentifier:StringFromProudData(kMilkAntiText)];

        //: if (@available(iOS 11.0, *)) {
        if (@available(iOS 11.0, *)) {
            //: [_collectView setContentInsetAdjustmentBehavior:UIScrollViewContentInsetAdjustmentNever];
            [_color setContentInsetAdjustmentBehavior:UIScrollViewContentInsetAdjustmentNever];
        }
    }
    //: return _collectView;
    return _color;
}

//: - (UIView *)rightBackView {
- (UIView *)name {
    //: if (!_rightBackView) {
    if (!_name) {
        //: _rightBackView = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 100, 40)];
        _name = [[UIView alloc]initWithFrame:CGRectMake(0, 0, 100, 40)];
        //: self.cancelBtn.frame = CGRectMake(0, 0, 60, 40);
        self.punctuate.frame = CGRectMake(0, 0, 60, 40);
        //: [_rightBackView addSubview:self.cancelBtn];
        [_name addSubview:self.punctuate];
        //: self.freshBtn.frame = CGRectMake(76, 10, 20, 20);
        self.listBbbb.frame = CGRectMake(76, 10, 20, 20);
        //: [_rightBackView addSubview:self.freshBtn];
        [_name addSubview:self.listBbbb];
    }
    //: return _rightBackView;
    return _name;
}

//: -(UIButton *)cancelBtn{
-(UIButton *)punctuate{
    //: if (!_cancelBtn) {
    if (!_punctuate) {
        //: _cancelBtn = [UIButton buttonWithType:UIButtonTypeCustom];
        _punctuate = [UIButton buttonWithType:UIButtonTypeCustom];
        //: NSMutableAttributedString *attr = [[NSMutableAttributedString alloc] initWithString:@"不再推荐" attributes:@{NSFontAttributeName:[UIFont PingFangRegularFontWith:15],NSForegroundColorAttributeName:[ShowColor appDetailTextColor],NSUnderlineStyleAttributeName:[NSNumber numberWithInteger:NSUnderlineStyleSingle],}];
        NSMutableAttributedString *attr = [[NSMutableAttributedString alloc] initWithString:StringFromProudData(k_leyTimeData) attributes:@{NSFontAttributeName:[UIFont regularShared:15],NSForegroundColorAttributeName:[ShowColor input],NSUnderlineStyleAttributeName:[NSNumber numberWithInteger:NSUnderlineStyleSingle],}];

        //: [_cancelBtn setAttributedTitle:attr forState:UIControlStateNormal];
        [_punctuate setAttributedTitle:attr forState:UIControlStateNormal];
        //: [_cancelBtn addTarget:self action:@selector(cancelBtnClickAction:) forControlEvents:UIControlEventTouchUpInside];
        [_punctuate addTarget:self action:@selector(headDown:) forControlEvents:UIControlEventTouchUpInside];
    }
    //: return _cancelBtn;
    return _punctuate;
}

//: -(AtControl *)freshBtn{
-(AtControl *)listBbbb{
    //: if (!_freshBtn) {
    if (!_listBbbb) {
        //: _freshBtn = [AtControl buttonWithType:UIButtonTypeCustom];
        _listBbbb = [AtControl buttonWithType:UIButtonTypeCustom];
        //: [_freshBtn setImage:[UserTextImage imageNamed:@"btn_youlike_shua"] forState:UIControlStateNormal];
        [_listBbbb setImage:[UserTextImage imageNamed:StringFromProudData(k_openlyBodyTitle)] forState:UIControlStateNormal];
        //: _freshBtn.clickSize = CGSizeMake(40, 40);
        _listBbbb.send = CGSizeMake(40, 40);
        //: [_freshBtn addTarget:self action:@selector(freshBtnClickAction) forControlEvents:UIControlEventTouchUpInside];
        [_listBbbb addTarget:self action:@selector(giftClick) forControlEvents:UIControlEventTouchUpInside];
    }
    //: return _freshBtn;
    return _listBbbb;
}


//: - (NSMutableArray *)listArr{
- (NSMutableArray *)oralCommunication{
    //: if (!_listArr) {
    if (!_oralCommunication) {
        //: _listArr = [[NSMutableArray alloc] init];
        _oralCommunication = [[NSMutableArray alloc] init];
    }
    //: return _listArr;
    return _oralCommunication;
}
//: - (LFCEmptyDataHandler *)emptyHandler{
- (TrailMax *)shared{
    //: if (!_emptyHandler) {
    if (!_shared) {
        //: _emptyHandler = [LFCEmptyDataHandler emptyDataHandler];
        _shared = [TrailMax manager];
        //: _emptyHandler.config.text = @"目前还没发现你可能喜欢的人，\n多多跟异性聊天就会有推荐啦～";
        _shared.representationLevel.cycleData = StringFromProudData(k_realistOpenFortunateTitle);
    }
    //: return _emptyHandler;
    return _shared;
}


//: @end
@end


Byte * ProudDataToCache(Byte *data) {
    int contactWipe = data[0];
    int fish = data[1];
    Byte situationState = data[2];
    int nominationRiot = data[3];
    if (!contactWipe) return data + nominationRiot;
    for (int i = nominationRiot; i < nominationRiot + fish; i++) {
        int value = data[i] - situationState;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[nominationRiot + fish] = 0;
    return data + nominationRiot;
}

NSString *StringFromProudData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)ProudDataToCache(data)];
}
