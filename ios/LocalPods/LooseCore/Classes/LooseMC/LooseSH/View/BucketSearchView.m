
#import <Foundation/Foundation.h>
typedef struct {
    Byte simplySparEmission;
    Byte *establishMagnitudeelPop;
    unsigned int decisionMote;
    bool findNightmare;
} WithMagneticData;

NSString *StringFromMagneticData(WithMagneticData *data);



WithMagneticData k_mentationData = (WithMagneticData){253, (Byte []){148, 139, 147, 201, 137, 150, 132, 196, 162, 147, 148, 156, 144, 162, 147, 146, 137, 148, 158, 152, 84}, 20, false};



WithMagneticData k_throughoutServeContent = (WithMagneticData){191, (Byte []){221, 203, 209, 134, 136, 238, 207, 211, 199, 224, 209, 222, 214, 213, 214, 202, 203, 224, 204, 219, 209, 218, 214, 205, 217, 224, 220, 211, 208, 204, 218, 184}, 31, false};



WithMagneticData k_swellPunchMatedTitle = (WithMagneticData){23, (Byte []){242, 153, 172, 242, 171, 151, 242, 135, 184, 17}, 9, false};



WithMagneticData kNiteContent = (WithMagneticData){120, (Byte []){22, 23, 12, 17, 30, 39, 11, 12, 10, 29, 25, 21, 25, 20, 30, 12, 29, 10, 86, 11, 14, 31, 25, 37}, 23, false};



WithMagneticData k_pageText = (WithMagneticData){227, (Byte []){6, 77, 121, 7, 94, 110, 5, 126, 96, 10, 122, 115, 27}, 12, false};



WithMagneticData k_impactValue = (WithMagneticData){190, (Byte []){91, 2, 62, 91, 46, 17, 88, 8, 54, 88, 63, 17, 88, 48, 22, 87, 62, 63, 239}, 18, false};



WithMagneticData kSurveyValue = (WithMagneticData){206, (Byte []){40, 76, 102, 40, 82, 71, 40, 83, 77, 39, 87, 94, 40, 82, 100, 43, 114, 78, 43, 94, 97, 199}, 21, false};



WithMagneticData kTrapMailPhenomName = (WithMagneticData){49, (Byte []){215, 191, 153, 216, 177, 176, 216, 177, 171, 214, 174, 148, 215, 172, 178, 216, 168, 161, 59, 212, 159, 171, 213, 140, 188, 215, 172, 178, 216, 168, 161, 117}, 31, false};



WithMagneticData kDependingContent = (WithMagneticData){82, (Byte []){180, 220, 250, 187, 210, 211, 187, 210, 200, 181, 205, 247, 180, 207, 209, 187, 203, 194, 21}, 18, false};



WithMagneticData kCenterData = (WithMagneticData){76, (Byte []){171, 231, 199, 169, 193, 255, 169, 240, 204, 169, 220, 227, 221}, 12, false};



WithMagneticData k_developTitle = (WithMagneticData){198, (Byte []){35, 122, 70, 35, 86, 105, 33, 117, 125, 33, 125, 89, 32, 72, 110, 47, 70, 71, 47, 70, 92, 33, 89, 99, 41, 122, 74, 135, 150, 150, 35, 78, 65, 35, 86, 72, 35, 73, 118, 34, 127, 89, 46, 69, 123, 35, 73, 76, 32, 81, 112, 32, 82, 112, 35, 78, 118, 32, 80, 118, 32, 112, 78, 32, 71, 105, 37, 70, 68, 41, 122, 78, 46, 105, 113, 32, 79, 85, 35, 122, 70, 32, 79, 70, 32, 90, 79, 47, 70, 92, 33, 89, 99, 35, 122, 70, 35, 67, 117, 35, 85, 96, 41, 122, 79, 110}, 105, false};



WithMagneticData k_modeValue = (WithMagneticData){35, (Byte []){198, 159, 163, 198, 179, 140, 196, 184, 155, 198, 166, 144, 197, 190, 160, 202, 186, 179, 198, 179, 173, 198, 159, 161, 197, 163, 132, 197, 184, 151, 198, 141, 154, 197, 187, 176, 197, 170, 157, 198, 171, 147, 199, 158, 131, 198, 176, 133, 93, 84}, 49, false};
















#import "BucketSearchView.h"
#import <UserNotifications/UserNotifications.h>
#import "SVGA.h"

@interface BucketSearchView ()<UIGestureRecognizerDelegate>


@property(nonatomic,strong,readwrite) UIImageView* data;

@property(nonatomic,strong,readwrite) UIView* crop;

@property(nonatomic,strong,readwrite) UILabel* withNet;

@property(nonatomic,strong,readwrite) UILabel* age;

@property(nonatomic,strong,readwrite) AtControl* message;

@property(nonatomic,strong,readwrite) AtControl* instance;

@property(nonatomic,strong,readwrite) UILabel* systemFeature;

@property(nonatomic,strong,readwrite) Display* need;


@property(nonatomic,assign,readwrite) BOOL male ;

@property(nonatomic,assign,readwrite) BOOL day ;


@property (nonatomic, strong) SVGAPlayer *wrap;


@end


@implementation BucketSearchView




- (void)appBlock {
    
    self.need = [Display new];
    
    self.need.request = 0.6;

    
    if (self.flag) {
        
        self.need.lumbarVertebra = [UIColor colorWithRGB:0x000000 alpha:0.6];

    }
    
    [self.need voice:self name:0.3 springMoment:YES inTime:nil selectPicture:100000];
}


- (void)guestListWith{
    
    [self.need aaaa:0.3 conversationMax:YES];
}


- (instancetype)initWithFrame:(CGRect)frame{
    
    if (self = [super initWithFrame:frame]) {
        
        [self title];
        
        [self heritage];
        
        [self cell];
    }
    
    return self;
}


- (void)dealloc{
    
}


- (void)cell{
    
    CGSize imageSize = self.data.image.size;
    
    CGFloat width = actualWidth(imageSize.width);
    
    CGFloat height = actualHeight(imageSize.height);
    
    [self.data mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.size.mas_equalTo(CGSizeMake(width, height));
        
        make.centerX.equalTo(self);
        
        make.bottom.equalTo(self.crop.mas_top).offset(actualHeight(28));
    
    }];

    
    [self.crop mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.centerY.offset(73 * 0.5);
        
        make.left.offset(actualWidth(39));
        
        make.right.offset(-actualWidth(39));
    
    }];

    
    [self.withNet mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.top.offset(actualHeight(35));
        
        (void)make.centerX;
    
    }];

    
    [self.age mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.top.equalTo(self.withNet.mas_bottom).offset(actualHeight(11));
        
        make.left.offset(actualWidth(30));
        
        make.right.offset(-actualWidth(30));
    
    }];

    
    [self.systemFeature mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.top.equalTo(self.age.mas_bottom).offset(actualHeight(11));
        
        make.left.offset(actualWidth(30));
        
        make.right.offset(-actualWidth(30));
    
    }];

    
    [self.instance mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.size.mas_equalTo(CGSizeMake(30, 30));
        
        make.right.offset(-8);
        
        make.top.offset(8);
    
    }];

    
    [self.message mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.top.equalTo(self.systemFeature.mas_bottom).offset(actualHeight(25));
        
        make.left.offset(actualWidth(15));
        
        make.right.offset(-actualWidth(15));
        
        make.height.mas_equalTo(50);
        
        make.bottom.offset(-actualHeight(18));
    
    }];

    
    [self bringSubviewToFront:self.data];

    
    UITapGestureRecognizer* tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(quantityPrice:)];
    
    tap.delegate = self;
    
    [self addGestureRecognizer:tap];
}


- (void)heritage{

    
    [[UNUserNotificationCenter currentNotificationCenter] getNotificationSettingsWithCompletionHandler:^(UNNotificationSettings * _Nonnull settings) {

        
        [WritingGrantBbbb of:^{
            
            BOOL result = settings.authorizationStatus == UNAuthorizationStatusDenied;
            
            self.male = result;
            
            [self enableList];
        
        }];
    
    }];
}


- (void)title{
    
    CLAuthorizationStatus status = [CLLocationManager authorizationStatus];
    
    if (!([CLLocationManager locationServicesEnabled])) {
        
        self.day = YES;
    }
    
    else if ((status == kCLAuthorizationStatusAuthorizedWhenInUse || status == kCLAuthorizationStatusAuthorizedAlways)) {
        
        self.day = NO;
    
    } else {
        //NSLog(@"手机gps定位未开启");
        
        self.day = YES;
    }
}


- (void)enableList{
    
    NSString* string = @"";

    
    if (self.male && self.day) {
        
        string = StringFromMagneticData(&kTrapMailPhenomName);
    }
    
    else if (self.male && !self.day) {
        
        string = (StringFromMagneticData(&kDependingContent));
    
    }else if (!self.male
              
              && self.day){
        
        string = (StringFromMagneticData(&k_pageText));
    }

    
    if (self.flag) {
        
        string = (StringFromMagneticData(&k_pageText));
    }

    
    if (self.enablely) {
        
        string = (StringFromMagneticData(&kDependingContent));
    }
    
    NSMutableParagraphStyle* style = [[NSMutableParagraphStyle alloc] init];
    
    style.alignment = NSTextAlignmentCenter;
    
    style.lineBreakMode = NSLineBreakByWordWrapping;
    
    style.lineSpacing = 8;

    
    NSAttributedString* attr = [[NSAttributedString alloc] initWithString:string attributes:@{NSForegroundColorAttributeName:[ShowColor send],NSFontAttributeName:[UIFont underbelly:(PFSCTypeMedium) substance:17.0f],NSParagraphStyleAttributeName:style.copy}];
    
    self.systemFeature.attributedText = attr;


    
    if (self.enablely || (self.male && !self.day)) {
        
        [self voice];
    }
}


- (void)voice {
    
    self.data.hidden = YES;
    
    self.withNet.text = StringFromMagneticData(&k_impactValue);
    
    self.age.text = StringFromMagneticData(&k_developTitle);
    
    [self.message setTitle:StringFromMagneticData(&k_swellPunchMatedTitle) forState:UIControlStateNormal];
    
    self.systemFeature.hidden = YES;

    
    self.wrap.hidden = NO;
    
    [self.wrap mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.left.offset(actualWidth(100));
        
        make.right.offset(-actualWidth(100));
        
        make.height.offset((screenWidth()-100*2)*203/175);
        
        make.centerX.equalTo(self);
        
        make.top.equalTo(self.crop.mas_top).offset(actualHeight(-45));
    
    }];

    
    [self.withNet mas_remakeConstraints:^(MASConstraintMaker *make) {
        
        make.top.offset(actualHeight(172));
        
        (void)make.centerX;
    
    }];

    
    [self.message mas_remakeConstraints:^(MASConstraintMaker *make) {
        
        make.top.equalTo(self.age.mas_bottom).offset(actualHeight(25));
        
        make.left.offset(actualWidth(15));
        
        make.right.offset(-actualWidth(15));
        
        make.height.mas_equalTo(50);
        
        make.bottom.offset(-actualHeight(18));
    
    }];

    
    [self actionBy];
}

- (void)actionBy {
    
    SVGAParser* parser = [[SVGAParser alloc] init];
    
    NSString *filePath = [UtilBbbb showBbbb:StringFromMagneticData(&kNiteContent)];

    
    NSData *data = [NSData dataWithContentsOfFile:filePath];
    
    NSString *key = nil;
    
    [parser parseWithData:data cacheKey:key completionBlock:^(SVGAVideoEntity * _Nonnull videoItem) {
         
         if (videoItem) {
             
             self.wrap.videoItem = videoItem;
             
             [self.wrap startAnimation];
         }
    
    } failureBlock:^(NSError * _Nonnull error) {

    
    }];
}



+ (void)gesture {
    
    [AppBbbb userBbbb:[ClickUser loadShared]];
    
    NSURL * url = [NSURL URLWithString:UIApplicationOpenSettingsURLString];
    
    if (@available(iOS 10 , *)) {
        
        if ([[UIApplication sharedApplication] canOpenURL:url]) {
            
            [[UIApplication sharedApplication]openURL:url options:@{} completionHandler:^(BOOL success) {
            
            }];
        }
    }
}


- (void)inheritanceInterest{
    
    [BucketSearchView gesture];

    
    if (self.logNoticeBbbb) {
        
        self.logNoticeBbbb();
    }
    
    [self guestListWith];
}


- (void)springSend{
    
    if (self.logNoticeBbbb) {
        
        self.logNoticeBbbb();
    }
    
    [self guestListWith];
}


- (void)quantityPrice:(UITapGestureRecognizer*)tap{
    
    if (!self.to) {
        
        [self springSend];
    }
}


#pragma mark - UIGestureRecognizerDelegate

- (BOOL)gestureRecognizerShouldBegin:(UIGestureRecognizer *)gestureRecognizer{
    
    CGPoint point = [gestureRecognizer locationInView:self];
    
    if (CGRectContainsPoint(self.crop.frame, point)) {
        
        return NO;
    }
    
    if (CGRectContainsPoint(self.data.frame, point)) {
        
        return NO;
    }
    
    if (CGRectContainsPoint(self.wrap.frame, point)) {
        
        return NO;
    }
    
    return YES;
}


#pragma mark - subviews

- (UIImageView *)data{
    
    if (!_data) {
        
        _data = [[UIImageView alloc] initWithImage:[UserTextImage imageNamed:StringFromMagneticData(&k_mentationData)]];
        
        _data.contentMode = UIViewContentModeScaleAspectFit;
        
        [self addSubview:_data];
    }
    
    return _data;
}


- (UIView *)crop{
    
    if (!_crop) {
        
        _crop = [[UIView alloc] init];
        
        _crop.backgroundColor = [UIColor whiteColor];
        
        _crop.layer.cornerRadius = 8;
        
        [self addSubview:_crop];
    }
    
    return _crop;
}


- (AtControl *)instance{
    
    if (!_instance) {
        
        _instance = [AtControl new];
        
        [_instance setImage:[UserTextImage imageNamed:StringFromMagneticData(&k_throughoutServeContent)] forState:(UIControlStateNormal)];
        
        [_instance addTarget:self action:@selector(springSend) forControlEvents:(UIControlEventTouchUpInside)];
        
        [self.crop addSubview:_instance];
    }
    
    return _instance;
}


- (UILabel *)withNet{
    
    if (!_withNet) {
        
        _withNet = [[UILabel alloc] init];
        
        _withNet.textColor = [ShowColor current];
        
        _withNet.font = [UIFont underbelly:(PFSCTypeMedium) substance:17.0];
        
        _withNet.text = (StringFromMagneticData(&kSurveyValue));
        
        [self.crop addSubview:_withNet];
    }
    
    return _withNet;
}


- (UILabel *)age{
    
    if (!_age) {
        
        _age = [[UILabel alloc] init];

        
        NSString* str = (StringFromMagneticData(&k_modeValue));
        
        NSMutableParagraphStyle* style = [[NSMutableParagraphStyle alloc] init];
        
        style.alignment = NSTextAlignmentCenter;
        
        style.lineSpacing = 3;
        
        style.lineBreakMode = NSLineBreakByWordWrapping;

        
        NSAttributedString* attrStr = [[NSAttributedString alloc] initWithString:str attributes:@{NSForegroundColorAttributeName:[ShowColor input],NSFontAttributeName:[UIFont underbelly:(PFSCTypeMedium) substance:14.0f],NSParagraphStyleAttributeName:style.copy}];
        
        _age.attributedText = attrStr;
        
        _age.numberOfLines = 0;
        
        _age.textAlignment = NSTextAlignmentCenter;
        
        _age.preferredMaxLayoutWidth = screenWidth() - 2 * actualWidth(69);
        
        [self.crop addSubview:_age];
    }
    
    return _age;
}


- (UILabel *)systemFeature{
    
    if (!_systemFeature) {
        
        _systemFeature = [[UILabel alloc] init];
        
        _systemFeature.numberOfLines = 0;
        
        _systemFeature.textAlignment = NSTextAlignmentCenter;
        
        _systemFeature.preferredMaxLayoutWidth = screenWidth() - 2 * actualWidth(69);
        
        [self.crop addSubview:_systemFeature];
    }
    
    return _systemFeature;
}


- (AtControl *)message{
    
    if (!_message) {
        
        _message = [AtControl new];
        
        [_message setTitle:(StringFromMagneticData(&kCenterData)) forState:(UIControlStateNormal)];
        
        _message.titleLabel.font = [UIFont underbelly:(PFSCTypeMedium) substance:15.0];

        
        NSArray* colors = @[(id)ShowColor.format.CGColor,(id)ShowColor.bbbb.CGColor];
        
        CGFloat width = screenWidth() - 2 * actualWidth(54);
        
        UIImage* norImage = [UIImage gatefold:colors standard:CGSizeMake(width, 50) mightHaveBeen:NO];
        
        UIImage* highImage = [UIImage gatefold:colors standard:CGSizeMake(width, 50) mightHaveBeen:YES];
        
        [_message setBackgroundImage:norImage forState:(UIControlStateNormal)];
        
        [_message setBackgroundImage:highImage forState:(UIControlStateHighlighted)];
        
        _message.layer.cornerRadius = 25.0f;
        
        _message.layer.masksToBounds = YES;
        
        [_message addTarget:self action:@selector(inheritanceInterest) forControlEvents:(UIControlEventTouchUpInside)];
        
        [self.crop addSubview:_message];
    }
    
    return _message;
}

- (SVGAPlayer *)wrap{
    
    if (!_wrap) {
        
        _wrap = [[SVGAPlayer alloc] init];
        
        _wrap.loops = 1.7976931348623157e+308;
        
        _wrap.clearsAfterStop = NO;
        
        _wrap.userInteractionEnabled = NO;
        
        _wrap.contentMode = UIViewContentModeScaleToFill;
        
        _wrap.hidden = YES;
        
        [self addSubview:_wrap];
    }
    
    return _wrap;
}


@end


Byte *MagneticDataToByte(WithMagneticData *data) {
    if (data->findNightmare) return data->establishMagnitudeelPop;
    for (int i = 0; i < data->decisionMote; i++) {
        data->establishMagnitudeelPop[i] ^= data->simplySparEmission;
    }
    data->establishMagnitudeelPop[data->decisionMote] = 0;
    data->findNightmare = true;
    return data->establishMagnitudeelPop;
}

NSString *StringFromMagneticData(WithMagneticData *data) {
    return [NSString stringWithUTF8String:(char *)MagneticDataToByte(data)];
}
