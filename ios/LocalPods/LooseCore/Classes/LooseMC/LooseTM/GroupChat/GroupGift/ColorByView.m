
#import <Foundation/Foundation.h>
typedef struct {
    Byte share;
    Byte *gainUnfortunately;
    unsigned int aggressionLightning;
    bool degenerative;
	int punishmentGrant;
} ToPush;

NSString *StringFromLampData(ToPush *data);



ToPush kTotOverseeGirlName = (ToPush){242, (Byte []){134, 157, 167, 155, 150, 165}, 5, false, 54};



ToPush kListSpineContent = (ToPush){43, (Byte []){70, 88, 76, 98, 69, 77, 68, 4}, 7, false, 203};



ToPush kSearchUserData = (ToPush){157, (Byte []){194, 194, 254, 232, 238, 233, 194, 248, 235, 248, 243, 233, 194, 175, 107}, 14, false, 23};



ToPush kBoringCapitalValue = (ToPush){194, (Byte []){36, 93, 103, 37, 94, 73, 42, 109, 100, 37, 121, 68, 42, 109, 118, 36, 90, 76, 226, 252, 97}, 20, false, 213};



ToPush k_trapToonData = (ToPush){9, (Byte []){224, 137, 128, 239, 130, 160, 224, 137, 136, 238, 173, 181, 236, 166, 176, 225, 184, 168, 151}, 18, false, 47};



ToPush kIssueData = (ToPush){91, (Byte []){178, 219, 218, 188, 224, 194, 126, 27, 4}, 8, false, 125};



ToPush kBuildValue = (ToPush){159, (Byte []){248, 246, 249, 235, 209, 234, 242, 117}, 7, false, 175};



ToPush kChiefViewValue = (ToPush){195, (Byte []){43, 68, 105, 38, 109, 89, 39, 122, 74, 3}, 9, false, 13};



ToPush kThickLabelCarefullyContent = (ToPush){155, (Byte []){238, 232, 254, 233, 204}, 4, false, 204};



ToPush kUserConventTitle = (ToPush){164, (Byte []){197, 200, 200, 195}, 3, false, 115};



ToPush k_nightmareLeyText = (ToPush){84, (Byte []){179, 215, 249, 189, 195, 252, 97}, 6, false, 73};



ToPush kLoonTitle = (ToPush){179, (Byte []){218, 220, 192, 246, 213, 213, 214, 208, 199, 98}, 9, false, 136};



ToPush kTimePageTitle = (ToPush){51, (Byte []){84, 90, 85, 71, 148}, 4, false, 169};



ToPush k_penalLicenseEvaluationText = (ToPush){211, (Byte []){178, 180, 182, 143}, 3, false, 38};



ToPush kDropData = (ToPush){126, (Byte []){11, 23, 26, 117}, 3, false, 85};



ToPush kRealistText = (ToPush){255, (Byte []){145, 150, 156, 148, 145, 158, 146, 154, 159}, 8, false, 180};



ToPush k_portfolioLeyData = (ToPush){13, (Byte []){229, 184, 173, 228, 141, 140, 89}, 6, false, 78};



ToPush k_supportOnValue = (ToPush){103, (Byte []){143, 200, 208, 142, 231, 238, 129, 236, 206, 128, 195, 219, 128, 238, 206, 128}, 15, false, 196};



ToPush k_listCountData = (ToPush){52, (Byte []){83, 93, 82, 64, 125, 80, 207}, 6, false, 245};



ToPush kEvaluationData = (ToPush){69, (Byte []){40, 35, 6, 42, 44, 43, 178}, 6, false, 95};



ToPush kPunishmentName = (ToPush){220, (Byte []){181, 191, 179, 178, 146, 157, 180, 132, 234, 151, 131, 190, 189, 191, 183, 230}, 15, false, 123};



ToPush k_issueName = (ToPush){8, (Byte []){97, 108, 39}, 2, false, 229};



ToPush kImpossibleChronicData = (ToPush){33, (Byte []){83, 78, 78, 76, 104, 69, 197}, 6, false, 40};



ToPush k_agingContent = (ToPush){187, (Byte []){210, 212, 216, 213, 222, 207, 211, 241, 140, 137, 228, 213, 222, 203, 212, 228, 220, 206, 218, 201, 223, 148}, 21, false, 73};



ToPush k_fundamentalData = (ToPush){245, (Byte []){151, 129, 155, 148, 190, 177, 198, 165, 156, 170, 129, 147, 156, 146, 170, 152, 154, 135, 144, 52}, 19, false, 8};



ToPush kFastTitle = (ToPush){81, (Byte []){34, 52, 41, 178}, 3, false, 172};



ToPush kExplodeValue = (ToPush){149, (Byte []){242, 224, 186, 231, 236, 249, 244, 218, 239, 239, 242, 186, 252, 228, 248, 230, 205, 229, 224, 244, 175, 176, 213, 102}, 23, false, 165};



ToPush kMatedName = (ToPush){8, (Byte []){96, 109, 105, 108, 88, 97, 107, 245}, 7, false, 43};



ToPush k_cityTeamValue = (ToPush){177, (Byte []){213, 208, 197, 208, 93}, 4, false, 153};



ToPush kKillingText = (ToPush){210, (Byte []){53, 118, 110, 53, 91, 123, 52, 71, 98, 59, 85, 93, 54, 106, 95, 58, 81, 111, 55, 98, 67, 54, 104, 92, 227, 179}, 25, false, 59};



ToPush kOmitVivoElevenValue = (ToPush){199, (Byte []){34, 66, 66, 34, 71, 123, 253, 231, 226, 135, 157}, 10, false, 29};



ToPush k_adequateText = (ToPush){26, (Byte []){242, 181, 173, 243, 154, 147, 252, 145, 179, 243, 154, 155, 253, 190, 166, 255, 181, 163, 242, 171, 187, 14}, 21, false, 239};



ToPush k_departureExplodeTitle = (ToPush){75, (Byte []){63, 36, 30, 56, 46, 57, 121}, 6, false, 91};












#import "ColorByView.h"

#import "ToViewLayout.h"

#import "CiteViewCell.h"

#import "ColorBbbb.h"

#import "ToResultModelBbbb.h"

#import "ShadowTo.h"


#import "WritingButton.h"

#import "BbbbAt.h"

#import "SearchView.h"

#import "ReceiveView.h"

#import "ImageView.h"

#import "TheoreticalAccountBbbb.h"

#import "NSDictionary+Info.h"

#import "RoomMsgModel.h"

#import "SelectLabel.h"

#import "MaxTask.h"


#import "PopulationJsonModel.h"


@interface ColorByView ()<UICollectionViewDelegate,UICollectionViewDataSource,CurrentDisplay,ShowList,ReachingShowReplacementLabel>


@property (nonatomic, strong) UIView* messageInfo;


@property (nonatomic, strong) UILabel* fiftyCentPiece;


@property (nonatomic,strong) UICollectionView* con;


@property (nonatomic, strong) ToResultModelBbbb* futurismBbbb;


@property (nonatomic, strong) UIPageControl* headingLeafSizeWaft;


@property (nonatomic, strong) CollectionReplacement* displayLastBbbb;


@property (nonatomic, assign) NSInteger groupBackground;


@property (nonatomic, strong) WritingButton* button;


@property (nonatomic,strong) UIView *social;

@property (nonatomic,strong) SearchView *sheet;


@property (nonatomic,strong) UILabel *examine;


@property (nonatomic,strong) UILabel *push;


@property (nonatomic, strong) WritingButton* bbbb;


@property (nonatomic,assign) NSInteger user;


@property (nonatomic, copy) void(^package)(NSString* extra,ToRankModelBbbb* resp);


@property (nonatomic, strong) TheoreticalAccountBbbb* server;


@property (nonatomic, strong) ImageView* choose;



@property (nonatomic,strong) UIView *bigness;


@property (nonatomic,strong) YYLabel *piecemeal;


@property (nonatomic,strong) UILabel *bbbbFace;



@property (nonatomic, assign) BOOL userBox;


@property (nonatomic, strong) PopulationJsonModel *someone;


@end


@implementation ColorByView


+ (ColorByView*) app:(NSInteger)roomId holdUpView:(PopulationJsonModel *)userInfo crownedHead:(UIView *)inView relate:(BOOL)isFamily female:(void(^_Nullable)(NSString*_Nullable extra,ToRankModelBbbb*_Nullable resp))completion {
    
    
    ColorByView* listView = [ColorByView new];
    
    listView.package = completion;
    
    listView.user = roomId;
    
    listView.frame = CGRectMake(0, 0, screenWidth(), screenHeight());
   
    
    listView.someone = userInfo;
    
    [listView setInfo:isFamily];

    
    [inView addSubview:listView];
    
    [inView bringSubviewToFront:listView];
    
    
    [UIView animateWithDuration:0.25 animations:^{
        
        listView.messageInfo.textItem = screenHeight()-listView.messageInfo.height;
        
        listView.price.textItem = screenHeight()-listView.price.height-listView.messageInfo.height;
    
    }];
    
    return listView;
}

- (void)setInfo:(BOOL)isFamily {

    
    BOOL isSelf = ([PlayColorBbbb size].file.id == [self.someone.uid integerValue]);
    
    if (isSelf == NO) {
        
        [self objectHead];
    }
    
    
    BOOL showCard = (self.someone != nil);
    
    
    BOOL isHideGift = (isFamily && PlayColorBbbb.size.familyDescriptionAddtion.giftOf) || (!isFamily && PlayColorBbbb.size.familyDescriptionAddtion.reply);
        
    
    NSInteger giftHeight;
    
    if (isSelf || isHideGift) {
        
        giftHeight = safeAreaBottomHeight();
    
    }else {
        
        giftHeight = (showCard?246:296) + safeAreaBottomHeight();
    }

    
    self.price = [[ThemeVersionView alloc]init];
    
    if (showCard) {
        
        self.price.take = self.someone;
    }
    
    self.price.frame = CGRectMake(0, screenHeight(), screenWidth(), showCard?self.price.showTotal:0);
    
    
    self.price.hidden = !showCard;
    
    [self addSubview:self.price];
    
   
    
    self.messageInfo = [UIView new];
    
    self.messageInfo.backgroundColor = RGBA(0, 0, 0, 0.8);
    
    self.messageInfo.frame = CGRectMake(0, CGRectGetHeight(self.price.frame) + screenHeight(), screenWidth(), giftHeight);
    
    
    [self addSubview:self.messageInfo];

    
    UILabel* hotLab = [UILabel new];
    
    hotLab.text = StringFromLampData(&k_nightmareLeyText);
    
    hotLab.font = [UIFont systemFontOfSize:14];
    
    hotLab.textColor = [UIColor whiteColor];
    
    UIImageView* coinArrowImageV = [[UIImageView alloc]initWithImage:[UserTextImage imageNamed:StringFromLampData(&k_fundamentalData)]];
    
    
    UIView* sliderView = [UIView new];
    
    sliderView.backgroundColor = UIColorHex(#ff6973);
    
    [self.messageInfo addSubview:hotLab];
    
    [self.messageInfo addSubview:coinArrowImageV];
    
    [self.messageInfo addSubview:sliderView];
    
    [self.messageInfo addSubview:self.con];
    
    [self.messageInfo addSubview:self.fiftyCentPiece];
    
    hotLab.frame = CGRectMake(12, 0, 60, 36);
    
    sliderView.frame = CGRectMake(0, 34, 60, 2);
    
    [coinArrowImageV mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.centerY.mas_equalTo(hotLab);
        
        make.trailing.mas_equalTo(-12);
        
        make.width.mas_equalTo(6);
        
        make.height.mas_equalTo(9);
    
    }];
    
    
    [self.fiftyCentPiece mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.centerY.mas_equalTo(hotLab);
        
        make.trailing.mas_equalTo(coinArrowImageV.mas_leading).mas_offset(-6);
    
    }];
    
    [self.messageInfo addSubview:self.headingLeafSizeWaft];
    
    [self.headingLeafSizeWaft mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.height.mas_equalTo(16);
        
        make.top.mas_equalTo(self.con.mas_bottom).mas_offset(2);
        
        make.centerX.mas_equalTo(self.messageInfo);
    
    }];
    
    
    UIButton* rechargeButton = [UIButton buttonWithType:UIButtonTypeCustom];
    
    [rechargeButton addTarget:self action:@selector(toolBbbb) forControlEvents:UIControlEventTouchUpInside];
    
    [self.messageInfo addSubview:rechargeButton];
    
    [rechargeButton mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.trailing.top.mas_equalTo(self.messageInfo);
        
        make.height.mas_equalTo(36);
        
        make.leading.mas_equalTo(self.fiftyCentPiece);
    
    }];
    
    
    self.button = [WritingButton buttonWithType:UIButtonTypeCustom];
    
    [self.button setTitle:@"1" forState:UIControlStateNormal];
    
    [self.button setImage:[UserTextImage imageNamed:StringFromLampData(&k_agingContent)] forState:UIControlStateNormal];
    
    self.button.titleLabel.font = [UIFont systemFontOfSize:14];
    
    self.button.titleLabel.lineBreakMode = NSLineBreakByTruncatingTail;
    
    [self.button setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    
    [self.button addTarget:self action:@selector(attentionBbbb:) forControlEvents:UIControlEventTouchUpInside];
    
    UIButton* sendButton = [UIButton buttonWithType:UIButtonTypeCustom];
    
    [sendButton setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
    
    [sendButton setTitle:StringFromLampData(&k_portfolioLeyData) forState:UIControlStateNormal];
    
    sendButton.backgroundColor = [ShowColor send];
    
    sendButton.titleLabel.font = [UIFont systemFontOfSize:15];
    
    [sendButton addTarget:self action:@selector(castsed:) forControlEvents:UIControlEventTouchUpInside];
    
    
    
    UIView* rightBottomView = [UIView new];
    
    rightBottomView.layer.borderColor = [ShowColor send].CGColor;
    
    rightBottomView.layer.borderWidth = 1;
    
    rightBottomView.layer.cornerRadius = 4;
    
    rightBottomView.layer.masksToBounds = YES;
    
    [rightBottomView addSubview:self.button];
    
    [rightBottomView addSubview:sendButton];
    
    self.button.frame = CGRectMake(0, 0, 60, 30);
    
    sendButton.frame = CGRectMake(60, 0, 60, 30);
    
    [self.messageInfo addSubview:rightBottomView];
    
    [rightBottomView mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.trailing.mas_equalTo(-9);
        
        make.bottom.mas_equalTo(-7-safeAreaBottomHeight());
        
        make.width.mas_equalTo(120);
        
        make.height.mas_equalTo(30);
    
    }];
   
    
    [self.messageInfo addSubview:self.bbbb];
    
    [self.bbbb mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.leading.mas_equalTo(9);
        
        make.centerY.mas_equalTo(rightBottomView);
        
        make.height.mas_equalTo(30);
        
        make.width.mas_equalTo(112);
    
    }];
    
    
    UIButton* exitButton = [UIButton buttonWithType:UIButtonTypeCustom];
    
    [exitButton addTarget:self action:@selector(guessSelect) forControlEvents:UIControlEventTouchUpInside];
    
    [self insertSubview:exitButton atIndex:0];
    
    [exitButton mas_makeConstraints:^(MASConstraintMaker *make) {
        
        make.edges.mas_equalTo(self);
    
    }];
    
    
    self.futurismBbbb = [ToResultModelBbbb  new];
    
    self.futurismBbbb.gifts = [[ColorBbbb info].res.gifts copy];
    
    for (CollectionReplacement* itemM in self.futurismBbbb.gifts) {
        
        itemM.isSelect = NO;
    }
    
    self.futurismBbbb.giftSendItem = [[ColorBbbb info].res.giftSendItem copy];
    
    CollectionReplacement* firstM = [self.futurismBbbb.gifts firstObject];
    
    firstM.isSelect = YES;
    
    self.displayLastBbbb = firstM;
    
    self.groupBackground = 1;
    
    _userBox = (firstM.showType == GJChatGiftType_myStery);
    
    self.button.enabled = !_userBox;
    
    [self.button setTitleColor:_userBox ?[UIColor lightGrayColor]:[UIColor whiteColor] forState:UIControlStateNormal];
    
    
    self.headingLeafSizeWaft.numberOfPages = ceil(self.futurismBbbb.gifts.count/8.0);
    
    [self.con reloadData];
    
    
    if (self.someone) {
        
        [self setExtend:nil];
    
    }else{
        
        if ([ColorBbbb info].sainthoodView) {
            
            [self setExtend:[ColorBbbb info].sainthoodView];
        }
    }
    
    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
        
        [self optic:firstM];
    
    });
    
    
    if (showCard) {
        
        
        sliderView.hidden = YES;
        
        hotLab.hidden = YES;
        
        self.bbbb.hidden = YES;
        
        
        if (isSelf || isHideGift) {
        
            
            self.fiftyCentPiece.hidden = YES;
            
            rechargeButton.hidden = YES;
            
            rightBottomView.hidden = YES;
            
            coinArrowImageV.hidden = YES;
            
        
        }else{
            
            
            [self.fiftyCentPiece mas_remakeConstraints:^(MASConstraintMaker *make) {
                
                
                make.centerY.mas_equalTo(sendButton);
                
                make.left.mas_equalTo(12);
                
            
            }];
            
            
            [rechargeButton mas_remakeConstraints:^(MASConstraintMaker *make) {
                
                make.left.mas_equalTo(9);
                
                make.bottom.mas_equalTo(-7-safeAreaBottomHeight());
                
                make.height.mas_equalTo(36);
                
                make.right.mas_equalTo(self.fiftyCentPiece.mas_right);
            
            }];
            
            
            [coinArrowImageV mas_remakeConstraints:^(MASConstraintMaker *make) {
                
                make.centerY.mas_equalTo(self.fiftyCentPiece);
                
                make.left.mas_equalTo(rechargeButton.mas_right).mas_equalTo(6);
            
            }];
            
            self.con.frame = CGRectMake(0, 0, screenWidth(), 200);
        }
    }
}


- (void) objectHead {
    
    
    @weakify(self);
    
    [PersonWritingAttentionBbbb picIn:@{} modelAcross:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
        
        if (error) {
           
           return;
        }
        
        @strongify(self);
        
        NSDictionary *dic = resultDic[StringFromLampData(&k_cityTeamValue)];
        
        if (dic[StringFromLampData(&kEvaluationData)]) {
            
            NSString* coin = [NSString stringWithFormat:@"%@",dic[StringFromLampData(&kEvaluationData)]];
            
            [self haPennyMic:coin];
        }
    
    }];
}




- (void) haPennyMic:(NSString*) coin {
    
    self.fiftyCentPiece.text = [NSString stringWithFormat:StringFromLampData(&kOmitVivoElevenValue),coin];
    
    [[PlayColorBbbb size] viewFor:coin];
}

#pragma mark:--------点击事件

- (void) attentionBbbb:(UIButton*) sender {
    
    
    [[BbbbAt benchItem] setEvent:self];
    
    [[BbbbAt benchItem] setAgeIdentify:@"ColorByView"];
    
    [[BbbbAt benchItem] setFeedback:RGBA(255, 255, 255, 1)];
    
    [[BbbbAt benchItem] setOutline:RGBA(255, 255, 255, 1)];
    
    [[BbbbAt benchItem] setRid:RGBA(230, 230, 230, 1)];
    
    [[BbbbAt benchItem] setFamilyUser:YES];
    
    [[BbbbAt benchItem] admin:[UIApplication sharedApplication].delegate.window
                               
                               demonstrateImageRows:CGRectMake(self.width-90, screenHeight() -44-safeAreaBottomHeight(), 10, 10)
                                   
                                   isRequest:self.futurismBbbb.giftSendItem.count+1];
}




- (void) castsed:(UIButton*) sender {
    
    if (self.groupBackground < 1) {
        
        [self push:(StringFromLampData(&kKillingText))];
        
        return;
    }
    
    if (!self.displayLastBbbb) {
        
        [self push:StringFromLampData(&k_supportOnValue)];
        
        return;
    }
    
    if (!self.server) {
        
        [self push:StringFromLampData(&k_adequateText)];
        
        return;
    }
    
    NSString* uid = [NSString stringWithFormat:@"%ld",self.server.uid];
    
    if (self.server.isALL) {
        
        uid = StringFromLampData(&kUserConventTitle);
    }
    
    sender.userInteractionEnabled = NO;
    
    @weakify(self)
    
    NSString* roomidStr = [NSString stringWithFormat:@"%ld",self.user];
    
    NSString* giftNumStr = [NSString stringWithFormat:@"%ld",self.groupBackground];
    
    NSDictionary* params = @{StringFromLampData(&kImpossibleChronicData):roomidStr,StringFromLampData(&kTotOverseeGirlName):uid,StringFromLampData(&k_listCountData):self.displayLastBbbb.giftId,StringFromLampData(&kBuildValue):giftNumStr};
    
    
    [MomentColor gift:params find:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
       
        
        ToRankModelBbbb* resp = nil;
        
        if (error) {
            
            resp = [[ToRankModelBbbb alloc]initShared:error];
        
        }else {
            
            resp = [ToRankModelBbbb modelWithDictionary:resultDic];
        }
        
        NSString *jsonStr = [NSString age:resultDic];
        
        [[MomentBbbb time] conjugalFamily:DebugMessage file:[NSString stringWithFormat:StringFromLampData(&kExplodeValue),jsonStr]];
        
        @strongify(self)
        
        sender.userInteractionEnabled = YES;
        
        if (resp && resp.error == nil) {
            
            [[ColorBbbb info] with:self.server];
            
            [self haPennyMic:resp.totalMfCoin];
        }
        
        if (resp && resp.errnoNumber == 0) {
            
            
            NSMutableDictionary* dictM = [NSMutableDictionary dictionaryWithCapacity:0];
            
            dictM[StringFromLampData(&kListSpineContent)] = [NSDictionary center:[resp.msgInfo modelToJSONString]];
            
            NSMutableDictionary* giftDict = [NSMutableDictionary dictionaryWithDictionary:[NSDictionary center:[resp.gift modelToJSONString]]];
            
            giftDict[StringFromLampData(&k_issueName)] = resp.gift.giftId;
            
            if (resp.gift.iosEffect.length > 0) {
               
               giftDict[StringFromLampData(&kLoonTitle)] = resp.gift.iosEffect;
            
            }else if (resp.gift.effect.length > 0) {
               
               giftDict[StringFromLampData(&kLoonTitle)] = resp.gift.effect;
            }
            
            dictM[StringFromLampData(&kTimePageTitle)] = giftDict;
            
            if (!self.server.isALL) {
                
                NSDictionary* userInfo = @{StringFromLampData(&kDropData):@(self.server.uid),StringFromLampData(&kRealistText):self.server.nickname?:@"",StringFromLampData(&kMatedName):self.server.headPic?:@""};
                
                dictM[StringFromLampData(&k_departureExplodeTitle)] = userInfo;
            }
            
            if ([PlayColorBbbb size].file) {
                
                dictM[StringFromLampData(&kThickLabelCarefullyContent)] = @{StringFromLampData(&kDropData):@([PlayColorBbbb size].file.id),StringFromLampData(&kRealistText):[PlayColorBbbb size].file.nickname,StringFromLampData(&kMatedName):[PlayColorBbbb size].file.headPic,StringFromLampData(&kFastTitle):@([PlayColorBbbb size].file.sex),StringFromLampData(&k_penalLicenseEvaluationText):[PlayColorBbbb size].file.age};

            }
            
            NSString* extra = [NSString age:dictM];
            
            if (self.package) {
                
                self.package(extra,resp);
            }
        
        }else {
            
            if (self.package) {
                
                self.package(nil,resp);
            }
        }
    
    }];
    
}


- (void)toolBbbb{
    
    [self guessSelect];
    
    [[PlayColorBbbb size] duringRank];
    
    [AppBbbb userBbbb:[ClickUser  user]];
    
    [AppBbbb userBbbb:[ClickUser kickBbbb]];
    
    [AppBbbb userBbbb:StringFromLampData(&kSearchUserData)];
    
}



- (void) plans:(UIButton*) sender {
    
    if (!self.choose) {
        
        ImageView* chooseView = [ImageView new];
        
        self.choose = chooseView;
        
        @weakify(self);
        
        chooseView.headBbbb = ^(TheoreticalAccountBbbb * _Nonnull model) {
            
            @strongify(self);
            
            [self setExtend:model];
        
        };
    }
    
    [self addSubview:self.choose];
    
    [self.choose pastTap:self.user];

}

- (void) setExtend:(TheoreticalAccountBbbb*) model {
    
    self.server = model;
    
    if (self.someone) {
        
        TheoreticalAccountBbbb* chooseMember = [TheoreticalAccountBbbb modelWithDictionary:[self.someone toDictionary]];
        
        self.server = chooseMember;
    
    }else{
        
        [ColorBbbb info].sainthoodView = self.server;
    }
    
    NSString* nikeName = self.server.nickname;
    
    [self.bbbb setTitle:[NSString stringWithFormat:StringFromLampData(&kIssueData),nikeName] forState:UIControlStateNormal];
}


- (void)tap{
    
    [self.button setTitle:[NSString stringWithFormat:@"%ld",self.groupBackground] forState:UIControlStateNormal];
}



- (void)optic:(CollectionReplacement*)model{

    
    
    NSString *tips = model.giftDescription;
    
    if (FZUtils.isEmptyString(tips)) {
        
        
        [_bigness.layer removeAllAnimations];
        
        _bigness.hidden = YES;
        
        
        return;
    }
    
    
    YYTextLayout *yyLayout = model.yyLayout;
    
    
    if (!yyLayout) {
        
        NSMutableArray *attrbutedArray   = [NSMutableArray new];
        
        NSMutableParagraphStyle * para   = nil;
        
        para                = [[NSMutableParagraphStyle alloc] init];
        
        para.lineBreakMode  = NSLineBreakByCharWrapping;
        
        para.alignment      = NSTextAlignmentCenter;
        
        
        [WithModel reply:tips
                                                 
                                                 pointBlankCard:attrbutedArray];
        
        
        MaxTask *config = [ColorByView timePage];
        
        
        yyLayout = [SelectLabel concealed:attrbutedArray
                                             
                                             lineFloat:config.placeFloat
                                                      
                                                      goopPara:config
                                                        
                                                        streetwise:para];
        
        
        model.yyLayout = yyLayout;
    }
    
    
    self.piecemeal.layer.contents    = nil;
    
    self.piecemeal.textLayout        = yyLayout;
    
    [self.piecemeal sizeThatFits:self.piecemeal.textLayout.textBoundingSize];
    
    
    self.piecemeal.textAlignment     = NSTextAlignmentCenter;
    
    CGFloat height                          = yyLayout.textBoundingSize.height + 12;
    
    CGFloat width                           = yyLayout.textBoundingSize.width + 30;
    
    self.bigness.layer.cornerRadius = height/2.0;
    
    self.bigness.width              = width;
    
    self.bigness.height             = height;
    
    self.bigness.center             = CGPointMake(self.messageInfo.center.x,
                                                          
                                                          self.messageInfo.center.y-32);
    
    
    [self.bigness.layer removeAllAnimations];
    
    
    self.bigness.alpha              = 1.0;
    
    self.bigness.hidden             = NO;
    
    
    
    if (self.userBox) {
        
        
        UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(freshInfo)];
        
        [self.bigness addGestureRecognizer:tap];
        
        
        self.piecemeal.textColor = UIColor.whiteColor;
        
        self.piecemeal.textAlignment = NSTextAlignmentLeft;
        
        self.bbbbFace.hidden = NO;
    
    
    }else{
        
        
        self.bbbbFace.hidden = YES;
        
        [UIView animateWithDuration:0.3
                              
                              delay:5.0
                            
                            options:UIViewAnimationOptionLayoutSubviews
                         
                         animations:^{
            
            self.bigness.alpha = 0.0;
        
        } completion:NULL];
    }
    
    
}


- (void)freshInfo{
    
    if (self.perplexity) {
        
        self.perplexity();
    }
}



- (void) guessSelect {
    
    self.backgroundColor = [UIColor clearColor];
    
    if (self.app) {
        
        self.app();
    }
    
    
    if (!self.bigness.hidden) {
        
        self.bigness.hidden = YES;
    }
    
    [UIView animateWithDuration:0.25 animations:^{
        
        self.price.textItem = screenHeight();
        
        self.messageInfo.textItem = screenHeight()+CGRectGetHeight(self.price.frame);
    
    } completion:^(BOOL finished) {
        
        [self removeFromSuperview];
    
    }];
}


-(void)finish {
    
    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.3 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
        
        self.bigness.hidden = YES;
    
    });
}



+ (MaxTask*)timePage{
    
    
    MaxTask *config = [[MaxTask alloc] init];
    
    config.placeFloat                = 220;
    
    config.info                 = [UIFont systemFontOfSize:12];
    
    config.rivetLine            = 4;
    
    config.removeMessage            = [UIColor whiteColor];
    
    
    return config;
}



#pragma mark:---------FZMenuDeleagte

- (CGFloat)page:(BbbbAt*)fzMenu terrace:(NSInteger)row {
    
    return 28;
}

- (CGFloat)send:(BbbbAt*)fzMenu guess:(NSInteger)row {
    
    return 145;
}

- (UIView*)atExplainRow:(BbbbAt*)fzMenu masterKey:(NSInteger)row {
    
    UIView *itemView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 150, 28)];
    
    if (row<self.futurismBbbb.giftSendItem.count) {
        
        AtNext* itemModel = self.futurismBbbb.giftSendItem[row];
        
        NSString *text = [NSString stringWithFormat:@"%ld%@",itemModel.num,NSLocalizedString(@"个", @"")];
        
        UILabel *indexLabel     = [UILabel new];
        
        indexLabel.textColor    = RGBA(51, 51, 51, 1);
        
        indexLabel.font         = [UIFont systemFontOfSize:14];
        
        indexLabel.text         = text;
        
        [itemView addSubview:indexLabel];
        
        [indexLabel mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.left.equalTo(itemView).offset(17);
            
            make.centerY.equalTo(itemView);
        
        }];
       
        
        NSString *descString    = itemModel.tag;
        
        UILabel *descLabel      = [UILabel new];
        
        descLabel.textColor     = RGBA(102, 102, 102, 1);
        
        descLabel.font          = [UIFont systemFontOfSize:14];
        
        descLabel.text          = descString;
        
        [itemView addSubview:descLabel];
        
        
        [descLabel mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.left.equalTo(indexLabel.mas_right).offset(15);
            
            make.centerY.equalTo(itemView);
        
        }];
        
        if (itemModel.targetPid > 0) {
            
            descLabel.textColor  = [UIColor redColor];
            
            indexLabel.textColor = [UIColor redColor];
        
        }else{
            
            descLabel.textColor  = RGBA(102, 102, 102, 1);
            
            indexLabel.textColor = RGBA(51, 51, 51, 1);
        }
    
    }else{
        
        UILabel *descLabel      = [UILabel new];
        
        descLabel.textColor     = RGBA(102, 102, 102, 1);
        
        descLabel.font          = [UIFont systemFontOfSize:14];
        
        descLabel.text          = (StringFromLampData(&kChiefViewValue));
        
        descLabel.textAlignment = NSTextAlignmentCenter;
        
        [itemView addSubview:descLabel];
        
        [descLabel mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.centerX.equalTo(itemView);
            
            make.centerY.equalTo(itemView);
        
        }];
    }
    
    return itemView;
}

- (BOOL)acceptBy:(BbbbAt*)fzMenu next:(NSInteger)row {
    
    return YES;
}

- (void)show:(BbbbAt*)fzMenu family:(NSInteger)row {
    
    if (row < self.futurismBbbb.giftSendItem.count) {
        
        AtNext* itemModel = self.futurismBbbb.giftSendItem[row];
        
        self.groupBackground = itemModel.num;
        
        [self.button setTitle:[NSString stringWithFormat:@"%ld",self.groupBackground] forState:UIControlStateNormal];
        
        [self.con reloadData];
    
    }else {
        
        
        self.examine.text = self.displayLastBbbb.name;
        
        self.push.text = [NSString stringWithFormat:@"%ld个",self.groupBackground];
        
        self.sheet = [[SearchView alloc] initWithShow:self.social
                                                      
                                                      putUpFloat:260
                                                   
                                                   guide:UIInterfaceOrientationPortrait];
        
        self.sheet.withTargetPush = self;
        
        [self.sheet comment:[UIApplication sharedApplication].keyWindow];
    }
   
}

#pragma mark - actionSheet delegate

- (void)somebody:(SearchView *)actionSheet
                
                size:(__kindof UIView *)subView{
    
    
    self.groupBackground = self.groupBackground == 0 ? 1 : self.groupBackground;
    
    [self.button setTitle:[NSString stringWithFormat:@"%zd", self.groupBackground]
                        
                        forState:UIControlStateNormal];
    
    [self.con reloadData];
}

#pragma mark - ReceiveView delegate

- (void) pic:(NSInteger) number{
    
    self.groupBackground = MIN(9999, self.groupBackground*10+number);
    
    self.push.text = [NSString stringWithFormat:@"%ld个",self.groupBackground];
    
    [self.con reloadData];
}

- (void) activity{
    
    self.groupBackground = self.groupBackground/10;
    
    self.push.text = [NSString stringWithFormat:@"%ld个",self.groupBackground];
    
    [self.con reloadData];
}

- (void)beforeConversation {
    
}

#pragma mark:-----------UICollectionView

- (NSInteger)collectionView:(UICollectionView *)collectionView numberOfItemsInSection:(NSInteger)section {
    
    return self.futurismBbbb.gifts.count;
}

- (__kindof UICollectionViewCell *)collectionView:(UICollectionView *)collectionView cellForItemAtIndexPath:(NSIndexPath *)indexPath {
    
    CiteViewCell* cell = [collectionView dequeueReusableCellWithReuseIdentifier:@"CiteViewCell" forIndexPath:indexPath];
    
    cell.rankTheme = self.groupBackground;
    
    cell.quit = self.futurismBbbb.gifts[indexPath.item];
    
    return cell;
}

- (void)collectionView:(UICollectionView *)collectionView didSelectItemAtIndexPath:(NSIndexPath *)indexPath {

    
    CollectionReplacement* model = self.futurismBbbb.gifts[indexPath.item];
    
    
    if (self.displayLastBbbb == model) {
        
        
        if (self.userBox) {
            
            return;
        }
        
        
        __block BOOL equest = NO;
        
        [self.futurismBbbb.giftSendItem enumerateObjectsUsingBlock:^(AtNext * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
            
            if (obj.num == self.groupBackground) {
                
                equest = YES;
                
                *stop = YES;
            }
        
        }];
        
        if (!equest) {
            
            self.groupBackground = 1;
            
            [self.con reloadData];
            
            [self tap];
            
            return;
        }
        
        
        [self.futurismBbbb.giftSendItem enumerateObjectsUsingBlock:^(AtNext * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
            
            if (obj.num > self.groupBackground) {
                
                self.groupBackground = obj.num;
                
                [self.con reloadData];
                
                [self tap];
                
                *stop = YES;
        
            
            }else if(self.futurismBbbb.giftSendItem.count == idx+1) {
                
                
                self.groupBackground = 1;
                
                [self.con reloadData];
                
                [self tap];
                
                *stop = YES;
                
            }
        
        }];

    
    }else{
        
        self.groupBackground = 1;
        
        self.displayLastBbbb.isSelect = NO;
        
        model.isSelect = YES;
        
        self.displayLastBbbb = model;
        
        [self.con reloadData];
        
        [self tap];
        
        
        _userBox = (model.showType == GJChatGiftType_myStery);
        
        self.button.enabled = !_userBox;
        
        [self.button setTitleColor:_userBox ?[UIColor lightGrayColor]:[UIColor whiteColor] forState:UIControlStateNormal];
        
        
        [self optic:model];
        
    }
    
}

- (void)scrollViewDidScroll:(UIScrollView *)scrollView {
    
    NSInteger page = scrollView.contentOffset.x/screenWidth()+0.5;
    
    self.headingLeafSizeWaft.currentPage = page;
}


-(UICollectionView *)con {
    
    if (!_con) {
        
        ToViewLayout* layout = [ToViewLayout new];
        
        layout.nuclearFamily = 2;
        
        layout.message = 4;
        
        layout.scrollDirection = UICollectionViewScrollDirectionHorizontal;
        
        layout.minimumLineSpacing = 0;
        
        layout.minimumInteritemSpacing = 0;
        
        layout.sectionInset = UIEdgeInsetsZero;
        
        layout.itemSize  =CGSizeMake(screenWidth()/4, 100);
        
        _con = [[UICollectionView alloc]initWithFrame:CGRectMake(0, 36, screenWidth(), 215) collectionViewLayout:layout];
        
        _con.backgroundColor = [UIColor clearColor];
        
        _con.showsHorizontalScrollIndicator = NO;
        
        _con.delegate = self;
        
        _con.dataSource = self;
        
        _con.pagingEnabled = YES;
        
        [_con registerClass:[CiteViewCell class] forCellWithReuseIdentifier:@"CiteViewCell"];
    }
    
    return _con;
}

- (UILabel *)fiftyCentPiece {
    
    if (!_fiftyCentPiece) {
        
        _fiftyCentPiece = [UILabel new];
        
        _fiftyCentPiece.textColor = [UIColor whiteColor];
        
        _fiftyCentPiece.font = [UIFont systemFontOfSize:14];
        
        _fiftyCentPiece.textAlignment =  NSTextAlignmentRight;
    }
    
    return _fiftyCentPiece;
}

- (UIPageControl *)headingLeafSizeWaft {
    
    if (!_headingLeafSizeWaft) {
        
        _headingLeafSizeWaft = [UIPageControl new];
        
        _headingLeafSizeWaft.hidesForSinglePage             = YES;
        
        _headingLeafSizeWaft.defersCurrentPageDisplay       = YES;
        
        _headingLeafSizeWaft.currentPageIndicatorTintColor  = RGBA(180, 180, 180, 1);
        
        _headingLeafSizeWaft.pageIndicatorTintColor         = RGBA(60, 60, 60, 1);
    }
    
    return _headingLeafSizeWaft;
}

- (UIView*)social{
    
    
    if (!_social) {
        
        
        _social = [[UIView alloc] initWithFrame:CGRectMake(0, 0, self.width, 260)];
        
        _social.backgroundColor = [UIColor blackColor];
        
        
        UIButton *backButton = [UIButton buttonWithType:UIButtonTypeCustom];
        
        [backButton setImage:[UserTextImage imageNamed:StringFromLampData(&kPunishmentName)]
                    
                    forState:UIControlStateNormal];
        
        [_social addSubview:backButton];
        
        
        [backButton mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.left.and.top.equalTo(_social);
            
            make.width.and.height.mas_equalTo(44);
        
        }];
        
        
        @weakify(self);
        
        backButton.rac_command = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) {
            
            @strongify(self);
            
            [self.sheet guestListWith];
            
            return [RACSignal empty];
        
        }];
        
        
        UIButton *sendButton            = [UIButton buttonWithType:UIButtonTypeCustom];
        
        sendButton.backgroundColor      = RGBA(251, 161, 41, 1);
        
        sendButton.titleLabel.textColor = [UIColor whiteColor];
        
        
        sendButton.rac_command = [[RACCommand alloc] initWithSignalBlock:^RACSignal *(id input) {
            
            @strongify(self);
            
            [self castsed:nil];
            
            return [RACSignal empty];
        
        }];
        
        
        [sendButton setTitle:NSLocalizedString(StringFromLampData(&k_portfolioLeyData), @"")
                    
                    forState:UIControlStateNormal];
        
        
        [_social addSubview:sendButton];
        
        
        [sendButton mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.right.and.top.equalTo(_social);
            
            make.width.mas_equalTo(106);
            
            make.height.mas_equalTo(44);
        
        }];
        
        
        ReceiveView *keyboard = [[ReceiveView alloc]
                                        
                                        initWithFrame:CGRectMake(0, 200, self.width, 216)];
        
        keyboard.lastClick = self;
        
        [_social addSubview:keyboard];
        
        
        [keyboard mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.left.and.right.and.bottom.equalTo(_social);
            
            make.height.mas_equalTo(216);
        
        }];
    }
    
    
    return _social;
}

- (UILabel*)examine{
    
    if (!_examine) {
        
        _examine             = [UILabel new];
        
        _examine.textColor   = [ShowColor send];
        
        [self.social addSubview:_examine];
        
        
        [_examine mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.left.mas_equalTo(44);
            
            make.top.equalTo(self.social);
            
            make.height.mas_equalTo(44);
        
        }];
    }
    
    
    return _examine;
}


- (UILabel*)push{
    
    
    if (!_push) {
        
        _push = [UILabel new];
        
        _push.textAlignment = NSTextAlignmentCenter;
        
        _push.textColor     = [UIColor whiteColor];
        
        [self.social addSubview:_push];
        
        
        [_push mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.centerX.mas_equalTo(self.social.mas_centerX);
            
            make.top.equalTo(self.social);
            
            make.height.mas_equalTo(44);
            
            make.width.mas_equalTo(100);
        
        }];
    }
    
    
    return _push;
}

- (WritingButton *)bbbb {
    
    if (!_bbbb) {
        
        _bbbb = [WritingButton buttonWithType:UIButtonTypeCustom];
        
        [_bbbb setTitle:StringFromLampData(&k_trapToonData) forState:UIControlStateNormal];
        
        [_bbbb setTitleColor:[UIColor whiteColor] forState:UIControlStateNormal];
        
        _bbbb.titleLabel.font = [UIFont systemFontOfSize:14];
        
        _bbbb.layer.borderColor = [ShowColor send].CGColor;
        
        _bbbb.layer.borderWidth = 1;
        
        _bbbb.layer.cornerRadius = 4;
        
        _bbbb.layer.masksToBounds = YES;
        
        _bbbb.titleLabel.lineBreakMode = NSLineBreakByTruncatingTail;
        
        _bbbb.push = 90;
        
        [_bbbb setImage:[UserTextImage imageNamed:StringFromLampData(&k_agingContent)] forState:UIControlStateNormal];
        
        [_bbbb addTarget:self action:@selector(plans:) forControlEvents:UIControlEventTouchUpInside];
    }
    
    return _bbbb;
}


- (UIView*)bigness{
    
    
    if (!_bigness) {
        
        _bigness = [[UIView alloc] init];
        
        _bigness.layer.cornerRadius  = 14.0;
        
        _bigness.layer.borderWidth   = 1.0;
        
        _bigness.layer.masksToBounds = YES;
        
        _bigness.layer.borderColor   = [ShowColor send].CGColor;
        
        _bigness.backgroundColor     = RGBA(0, 0, 0, 0.8);
        
        _bigness.hidden              = YES;
        
        _bigness.center              = CGPointMake(self.center.x, self.center.y-32);
        
        _bigness.size                = CGSizeMake(30, 30);
        
        [self addSubview:_bigness];
    }
    
    
    return _bigness;
}


- (YYLabel*)piecemeal{
    
    
    if (!_piecemeal) {
        
        _piecemeal = [[YYLabel alloc] init];
        
        _piecemeal.font          = [UIFont systemFontOfSize:12];
        
        _piecemeal.textColor     = [UIColor whiteColor];
        
        _piecemeal.textAlignment = NSTextAlignmentCenter;
        
        _piecemeal.numberOfLines = 0;
        
        _piecemeal.backgroundColor = RGBA(0, 0, 0, 0.8);
        
        [self.bigness addSubview:_piecemeal];
        
        
        [_piecemeal mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.left.equalTo(self.bigness.mas_left).offset(16);
            
            make.right.equalTo(self.bigness.mas_right).offset(-16);
            
            make.top.and.bottom.equalTo(self.bigness);
        
        }];
    }
    
    
    return _piecemeal;
}


-(UILabel *)bbbbFace{
    
    if (!_bbbbFace) {
        
        _bbbbFace = [[UILabel alloc]init];
        
        _bbbbFace.text = StringFromLampData(&kBoringCapitalValue);
        
        _bbbbFace.textColor = UIColorHex(#73F7CD);
        
        _bbbbFace.font = [UIFont regularShared:12];
        
        _bbbbFace.hidden = YES;
        
        [self.bigness addSubview:_bbbbFace];
        
        [_bbbbFace mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.bottom.mas_equalTo(-7);
            
            make.right.mas_equalTo(-16);
            
            make.height.mas_equalTo(17);
        
        }];
        
        
        UIView *line = [[UIView alloc]init];
        
        line.backgroundColor = _bbbbFace.textColor;
        
        [_bbbbFace addSubview:line];
        
        [line mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.height.mas_equalTo(1);
            
            make.bottom.mas_equalTo(-1);
            
            make.left.mas_equalTo(0);
            
            make.right.mas_equalTo(-12);
        
        }];
    }
    
    return _bbbbFace;
}


@end

Byte *LampDataToByte(ToPush *data) {
    if (data->degenerative) return data->gainUnfortunately;
    for (int i = 0; i < data->aggressionLightning; i++) {
        data->gainUnfortunately[i] ^= data->share;
    }
    data->gainUnfortunately[data->aggressionLightning] = 0;
    data->degenerative = true;
	if (data->aggressionLightning >= 1) {
		data->punishmentGrant = data->gainUnfortunately[0];
	}
    return data->gainUnfortunately;
}

NSString *StringFromLampData(ToPush *data) {
    return [NSString stringWithUTF8String:(char *)LampDataToByte(data)];
}
