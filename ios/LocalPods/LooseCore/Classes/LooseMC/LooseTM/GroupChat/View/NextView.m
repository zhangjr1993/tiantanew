
#import <Foundation/Foundation.h>

NSString *StringFromShoeData(Byte *data);        



Byte kWalkingSoftlyName[] = {83, 8, 76, 12, 208, 3, 48, 102, 47, 157, 97, 250, 215, 250, 250, 247, 229, 234, 236, 212, 40};



Byte k_defineData[] = {91, 7, 64, 8, 99, 20, 193, 26, 40, 37, 33, 36, 16, 41, 35, 80};



Byte k_houseAbroadValue[] = {22, 17, 59, 4, 39, 44, 36, 52, 53, 42, 51, 36, 55, 42, 41, 53, 38, 40, 48, 42, 57, 219};



Byte k_voiceSocialName[] = {3, 33, 31, 8, 100, 115, 174, 35, 197, 153, 108, 199, 106, 108, 198, 133, 139, 199, 102, 131, 200, 155, 131, 198, 109, 102, 202, 100, 158, 201, 131, 140, 199, 107, 131, 198, 102, 106, 197, 155, 103, 170};



Byte k_centerText[] = {37, 24, 89, 10, 106, 220, 145, 160, 197, 251, 9, 14, 6, 25, 12, 11, 23, 8, 10, 18, 12, 27, 6, 22, 23, 12, 21, 6, 25, 12, 26, 28, 19, 27, 148};



Byte kKnowledgeData[] = {96, 7, 98, 14, 242, 189, 138, 35, 149, 57, 43, 198, 58, 34, 193, 228, 228, 227, 208, 224, 207, 136};



Byte k_mentionTitle[] = {94, 10, 92, 4, 22, 9, 8, 244, 5, 7, 15, 5, 11, 9, 211};



Byte kSoftlyIncludeData[] = {90, 14, 58, 7, 106, 174, 232, 235, 6, 171, 86, 84, 171, 85, 117, 171, 130, 70, 172, 80, 104, 95};



Byte kHotelPathData[] = {34, 23, 83, 14, 209, 240, 147, 37, 78, 162, 173, 17, 230, 79, 22, 16, 28, 27, 12, 31, 18, 17, 29, 14, 16, 24, 18, 33, 12, 28, 29, 18, 27, 12, 27, 28, 31, 78};



Byte kLicenseText[] = {49, 5, 11, 10, 104, 218, 116, 119, 198, 147, 105, 94, 98, 90, 103, 83};



Byte kPiName[] = {42, 27, 68, 11, 218, 42, 124, 74, 236, 78, 44, 161, 115, 110, 161, 105, 84, 161, 65, 97, 164, 112, 98, 161, 75, 115, 165, 78, 119, 163, 91, 111, 160, 121, 85, 165, 94, 89, 179};



Byte kResignContent[] = {34, 8, 43, 10, 194, 148, 215, 193, 122, 238, 72, 58, 67, 57, 41, 62, 66, 58, 118};



Byte k_knowledgeName[] = {79, 5, 89, 11, 181, 9, 246, 32, 4, 144, 77, 27, 16, 27, 19, 12, 116};



Byte k_flagGrantValue[] = {77, 16, 22, 14, 88, 77, 74, 152, 219, 55, 134, 140, 95, 58, 92, 79, 78, 58, 75, 77, 85, 75, 81, 79, 15, 86, 78, 73, 15, 42, 110};



Byte k_buyerTitle[] = {81, 6, 29, 9, 200, 34, 81, 249, 150, 85, 82, 82, 80, 44, 71, 156};



Byte k_popOuterValue[] = {91, 18, 94, 13, 26, 126, 212, 175, 17, 4, 135, 171, 148, 22, 20, 3, 16, 21, 8, 17, 20, 15, 208, 20, 17, 22, 3, 22, 11, 17, 16, 121};



Byte k_wildlifeName[] = {52, 5, 12, 7, 96, 122, 43, 45, 45, 45, 45, 45, 31};



Byte k_sternLoopLightningData[] = {39, 24, 43, 12, 250, 22, 194, 239, 52, 9, 41, 78, 187, 87, 125, 186, 140, 135, 188, 144, 100, 190, 119, 91, 189, 148, 92, 189, 132, 122, 188, 143, 119, 186, 97, 90, 130};



Byte k_pathCurrentData[] = {87, 4, 48, 7, 176, 19, 231, 52, 49, 68, 49, 145};



Byte kDivideName[] = {63, 4, 95, 9, 91, 32, 230, 225, 168, 4, 16, 10, 15, 30};



Byte k_areaAmazingData[] = {15, 23, 50, 9, 246, 63, 244, 195, 30, 55, 49, 61, 60, 45, 64, 51, 50, 62, 47, 49, 57, 51, 66, 45, 61, 62, 51, 60, 45, 62, 64, 51, 21};



Byte k_markData[] = {28, 8, 66, 7, 121, 115, 100, 44, 39, 33, 41, 44, 31, 43, 35, 116};



Byte k_maximBlockData[] = {81, 2, 78, 10, 43, 115, 230, 56, 77, 48, 27, 22, 182};



Byte k_compoundName[] = {8, 5, 47, 11, 85, 48, 200, 189, 90, 44, 5, 68, 57, 50, 60, 54, 220};



Byte kMagnitudeTitle[] = {3, 4, 68, 8, 186, 101, 214, 153, 49, 47, 33, 46, 252};














#import "NextView.h"

typedef enum : NSUInteger {
    
    redPackageStatusType_success = 0, 
    
    redPackageStatusType_got = 102, 
    
    redPackageStatusType_nothing = 103, 
    
    redPackageStatusType_overdue = 104, 

} redPackageStatusType;



typedef enum : NSUInteger {
    
    redPackageOpenStatusType_firstTime,
    
    redPackageOpenStatusType_moreTime,

} redPackageOpenStatusType;


@interface NextView ()



@property (nonatomic, strong) Display* titles;


@property (nonatomic, strong) UIImageView *user;

@property (nonatomic, strong) UIImageView *pic;

@property (nonatomic, strong) UILabel *title;

@property (nonatomic, strong) UILabel *show;

@property (nonatomic, strong) UILabel *searchLevel;

@property (nonatomic, strong) UIButton *openTexture;


@property (nonatomic, strong) UIImageView *target;

@property (nonatomic, strong) UILabel *full;

@property (nonatomic, strong) UILabel *view;

@property (nonatomic, strong) UILabel *tips;

@property (nonatomic, strong) UILabel *fade;


@property (nonatomic, copy) NSString *album;

@property (nonatomic, copy) NSDictionary *file;


@property (nonatomic, strong) RACDisposable *finish;


@end


@implementation NextView



-(instancetype)initWithFrame:(CGRect)frame{
    
    self = [super initWithFrame:frame];

    
    if (self) {

    }

    
    return self;
}


-(instancetype)init{
    
    self = [super init];
    
    if (self) {
        
        self.bounds = CGRectMake(0, 0, screenWidth(), screenHeight());
    }
    
    return self;

}



- (void)on{
    
    NSDictionary *user = _file[StringFromShoeData(kMagnitudeTitle)];
    
    NSDictionary *redPackage = _file[StringFromShoeData(k_mentionTitle)];
    
    [self user];
    
    [self openTexture];
    
    [self searchLevel];
    
    self.title.text = [NSString stringWithFormat:@"%@",user[StringFromShoeData(k_markData)]];
    
    [self.pic sd_setImageWithURL:[NSURL URLWithString:user[StringFromShoeData(k_defineData)]]];
    
    self.show.text = [NSString stringWithFormat:@"%@",redPackage[StringFromShoeData(k_knowledgeName)]];

    
    self.searchLevel.hidden = YES;
    
    long timerScope = [[NSString stringWithFormat:@"%@",redPackage[StringFromShoeData(kLicenseText)]] longLongValue];
    
    if (timerScope > 0) {
        
        long current = [[NSDate date] timeIntervalSince1970];
        
        long msgTime = [[NSString stringWithFormat:@"%@",redPackage[StringFromShoeData(kResignContent)]] longLongValue];
        
        long d_value = current - msgTime;
        
        if(d_value >= 0 && d_value < timerScope){
            
            self.searchLevel.hidden = NO;
            
            __block long countDown = timerScope - d_value;
            
            self.searchLevel.text = [NSString stringWithFormat:StringFromShoeData(kSoftlyIncludeData),[NSString statusGroup:countDown]];
            
            self.finish = [[RACSignal interval:1.0 onScheduler:[RACScheduler mainThreadScheduler]] subscribeNext:^(NSDate * _Nullable x) {
                
                countDown --;
                
                self.searchLevel.text = [NSString stringWithFormat:StringFromShoeData(kSoftlyIncludeData),[NSString statusGroup:countDown]];
                
                if (countDown == 0) {
                    
                    self.searchLevel.hidden = YES;
                    
                    [self.finish dispose];
                }
            
            }];
        }
    }
}



- (void)up:(redPackageStatusType)type voiceFor_strong:(NSDictionary *)info{
    
    if (info[StringFromShoeData(k_pathCurrentData)] == nil) {
        
        return;
    }

    
    NSString *coin = [NSString stringWithFormat:@"%@",info[StringFromShoeData(k_pathCurrentData)][StringFromShoeData(kDivideName)]];

    
    self.user.hidden = YES;
    
    [self target];

    
    switch (type) {
        
        case redPackageStatusType_success:
        {
            
            self.full.text = coin;
            
            self.tips.text = StringFromShoeData(kPiName);
            
            [self view];

            
            if (coin.length > 8) {
                
                self.full.font = [UIFont underbelly:PFSCTypeMedium substance:43];
            }
        }
            
            break;
        
        case redPackageStatusType_got:
        {

            
            self.full.text = coin;
            
            self.tips.text = StringFromShoeData(k_sternLoopLightningData);
            
            [self view];

            
            if (coin.length > 8) {
                
                self.full.font = [UIFont underbelly:PFSCTypeMedium substance:43];
            }

        }
            
            break;
        
        case redPackageStatusType_nothing:{
            
            [self fade];
        }

            
            break;
        
        default:
            
            break;
    }

}


- (void)replyBbbb:(redPackageOpenStatusType)type{

    
    NSDictionary* params = @{StringFromShoeData(k_maximBlockData):_file[StringFromShoeData(k_mentionTitle)][StringFromShoeData(k_maximBlockData)],
                          
                          StringFromShoeData(k_buyerTitle):_file[StringFromShoeData(k_buyerTitle)]};

    
    [MBProgressHUD showHUDAddedTo:self animated:YES];
    
    [MomentColor quantity:params number:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {

        
        [MBProgressHUD hideHUDForView:self animated:YES];

        
        
        if (error.code == redPackageStatusType_success) {

            
            [self bbbbComplete];

            
            dispatch_after(dispatch_time((0ull), (int64_t)(0.53 * 1000000000ull)), dispatch_get_main_queue(), ^{

                
                [self up:error.code voiceFor_strong:resultDic];
            
            });

            
            [[NSUserDefaults standardUserDefaults] setBool:YES forKey:_album];

        
        }else if(error.code == redPackageStatusType_got || error.code == redPackageStatusType_nothing){

            
            [[NSUserDefaults standardUserDefaults] setBool:YES forKey:_album];

            
            [self up:error.code voiceFor_strong:resultDic];

        
        }else{

            
            [self user:error];
            
            
            if (type == redPackageOpenStatusType_moreTime) {
                
                dispatch_after(dispatch_time((0ull), (int64_t)(0.3 * 1000000000ull)), dispatch_get_main_queue(), ^{
                    
                    [self guestListWith];
                
                });
            }
        }


        
        BOOL update = (error.code == redPackageStatusType_success || error.code == redPackageStatusType_got || error.code == redPackageStatusType_nothing || error.code == redPackageStatusType_overdue);

        
        
        if (update) {
            
            if (self.pushShared) {
                
                self.pushShared();
            }
        }

    
    }];


}




- (void)metadata:(NSDictionary *)data{
    
    _file = data;
    
    _album = [NSString stringWithFormat:StringFromShoeData(k_flagGrantValue),[PlayColorBbbb size].file.id,_file[StringFromShoeData(k_mentionTitle)][StringFromShoeData(k_maximBlockData)]];
    
    
    BOOL isOpen = [[NSUserDefaults standardUserDefaults] boolForKey:_album];
    
    if (isOpen) {
        
        [self replyBbbb:redPackageOpenStatusType_moreTime];
    
    }else{
        
        [self on];
    }

    
    self.titles = [Display new];
    
    self.titles.request = 0.6;

    
    [self.titles voice:self name:0.3 springMoment:YES inTime:nil selectPicture:100000];

}


- (void)guestListWith{
    
    [self.titles aaaa:0.3 conversationMax:YES];
    
    [self.finish dispose];
    
    [[NSNotificationCenter defaultCenter] removeObserver:self];
}


-(void)compartmentSilver{
    
    [self replyBbbb:redPackageOpenStatusType_firstTime];
}


-(UIView *)hitTest:(CGPoint)point withEvent:(UIEvent *)event{
    
    UIView *view = [super hitTest:point withEvent:event];
    
    if ([view isKindOfClass:self.class]) {
        
        [self guestListWith];
    }
    
    return view;
}



- (void)bbbbComplete{

    
    CGFloat angle1 = DegreesToRadians(0);
    
    CGFloat angle2 = DegreesToRadians(-10);
    
    CGFloat angle3 = DegreesToRadians(0);
    
    CGFloat angle4 = DegreesToRadians(10);
    
    CGFloat angle5 = DegreesToRadians(0);
    
    CGFloat angle6 = DegreesToRadians(-5);
    
    CGFloat angle7 = DegreesToRadians(0);
    
    CGFloat angle8 = DegreesToRadians(5);
    
    CGFloat angle9 = DegreesToRadians(0);

    
    CGFloat du1 = 0;
    
    CGFloat du2 = 0.06;
    
    CGFloat du3 = 0.13;
    
    CGFloat du4 = 0.2;
    
    CGFloat du5 = 0.27;
    
    CGFloat du6 = 0.33;
    
    CGFloat du7 = 0.4;
    
    CGFloat du8 = 0.47;
    
    CGFloat du9 = 0.53;

    
    
    CAKeyframeAnimation *roate = [CAKeyframeAnimation animationWithKeyPath:StringFromShoeData(k_popOuterValue)];
    
    roate.values = @[@(angle1),@(angle2),@(angle3),@(angle4),@(angle5),@(angle6),@(angle7),@(angle8),@(angle9),];
    
    roate.keyTimes = @[@(du1),@(du2),@(du3),@(du4),@(du5),@(du6),@(du7),@(du8),@(du9),];

    
    
    CAAnimationGroup *groupAnnimation = [CAAnimationGroup animation];
    
    groupAnnimation.autoreverses = NO;
    
    groupAnnimation.animations = @[roate];
    
    groupAnnimation.duration = 1.f;
    
    groupAnnimation.repeatCount = 1;
    
    groupAnnimation.removedOnCompletion = NO;
    
    groupAnnimation.fillMode = kCAFillModeForwards;
    
    [self.user.layer addAnimation:groupAnnimation forKey:StringFromShoeData(k_compoundName)];

}



#pragma mark - lazy load


- (UIImageView *)user{
    
    if (!_user) {
        
        _user = [[UIImageView alloc]initWithImage:[UserTextImage imageNamed:StringFromShoeData(k_houseAbroadValue)]];
        
        _user.userInteractionEnabled = YES;
        
        _user.backgroundColor = UIColor.clearColor;
        
        [self addSubview:_user];
        
        [_user mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.centerX.mas_equalTo(0);
            
            make.centerY.mas_equalTo(0);
            
            make.size.mas_equalTo(CGSizeMake(315, 330));
        
        }];
    }
    
    return _user;
}



-(UIImageView *)pic{
    
    if (!_pic) {
        
        _pic = [[UIImageView alloc]init];
        
        _pic.contentMode = UIViewContentModeScaleAspectFill;
        
        _pic.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#eeeeee"))];
        
        _pic.layer.cornerRadius = 27;
        
        _pic.layer.borderWidth = 2;
        
        _pic.layer.borderColor = [ShowColor color:StringFromShoeData(kWalkingSoftlyName)].CGColor;
        
        _pic.layer.masksToBounds = YES;
        
        [self.user addSubview:_pic];
        
        [_pic mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(18);
            
            make.centerX.mas_equalTo(0);
            
            make.size.mas_equalTo(CGSizeMake(54, 54));
        
        }];
    }
    
    return _pic;
}


-(UILabel *)title{
    
    if (!_title) {
        
        _title = [[UILabel alloc]init];
        
        _title.textColor = [ShowColor color:StringFromShoeData(kKnowledgeData)];
        
        _title.font = [UIFont regularShared:15];
        
        _title.textAlignment = NSTextAlignmentCenter;
        
        [self.user addSubview:_title];
        
        [_title mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(self.pic.mas_bottom).mas_equalTo(8);
            
            make.left.mas_equalTo(12);
            
            make.right.mas_equalTo(-12);
            
            make.height.mas_equalTo(20);
        
        }];
    }
    
    return _title;
}


-(UILabel *)show{
    
    if (!_show) {
        
        _show = [[UILabel alloc]init];
        
        _show.textColor = [ShowColor color:StringFromShoeData(kKnowledgeData)];
        
        _show.font = [UIFont underbelly:(PFSCTypeMedium) substance:16];
        
        _show.textAlignment = NSTextAlignmentCenter;
        
        [self.user addSubview:_show];
        
        [_show mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(self.title.mas_bottom).mas_equalTo(14);
            
            make.left.mas_equalTo(12);
            
            make.right.mas_equalTo(-12);
        
        }];
    }
    
    return _show;
}

-(UILabel *)searchLevel{
    
    if (!_searchLevel) {
        
        _searchLevel = [[UILabel alloc]init];
        
        _searchLevel.backgroundColor = [[UIColor blackColor] colorWithAlphaComponent:0.2];
        
        _searchLevel.textColor = [ShowColor color:StringFromShoeData(kKnowledgeData)];
        
        _searchLevel.font = [UIFont regularShared:15];
        
        _searchLevel.layer.cornerRadius = 15;
        
        _searchLevel.textAlignment = NSTextAlignmentCenter;
        
        _searchLevel.clipsToBounds = YES;
        
        [self.user addSubview:_searchLevel];
        
        [_searchLevel mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(self.title.mas_bottom).mas_equalTo(55);
            
            make.centerX.mas_equalTo(0);
            
            make.height.mas_equalTo(30);
            
            make.width.mas_equalTo(130);
        
        }];
    }
    
    return _searchLevel;
}



-(UIButton *)openTexture{
    
    if (!_openTexture) {
        
        _openTexture = [[UIButton alloc]init];
        
        [_openTexture setImage:[UserTextImage imageNamed:StringFromShoeData(kHotelPathData)] forState:UIControlStateNormal];
        
        [_openTexture setImage:[UserTextImage imageNamed:StringFromShoeData(k_areaAmazingData)] forState:UIControlStateHighlighted];
        
        [_openTexture addTarget:self action:@selector(compartmentSilver) forControlEvents:UIControlEventTouchUpInside];
        
        [self.user addSubview:_openTexture];
        
        [_openTexture mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.bottom.mas_equalTo(-30);
            
            make.centerX.mas_equalTo(0);
            
            make.size.mas_equalTo(CGSizeMake(111, 111));
        
        }];
    }
    
    return _openTexture;
}


-(UIImageView *)target{
    
    if (!_target) {
        
        _target = [[UIImageView alloc]initWithImage:[UserTextImage imageNamed:StringFromShoeData(k_centerText)]];
        
        _target.hidden = NO;
        
        _target.userInteractionEnabled = YES;
        
        _target.backgroundColor = UIColor.clearColor;
        
        [self addSubview:_target];
        
        [_target mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.centerX.mas_equalTo(0);
            
            make.centerY.mas_equalTo(0);
            
            make.size.mas_equalTo(CGSizeMake(315, 273));
        
        }];
    }
    
    return _target;
}


-(UILabel *)full{
    
    if (!_full) {
        
        _full = [[UILabel alloc]init];
        
        _full.textColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#E53E4D"))];
        
        _full.font = [UIFont underbelly:PFSCTypeMedium substance:54];
        
        [self.target addSubview:_full];
        
        [_full mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(46);
            
            make.centerX.mas_equalTo(0);
            
            make.height.mas_equalTo(75);
        
        }];
        
        _full.text = StringFromShoeData(k_wildlifeName);
    }
    
    return _full;
}


-(UILabel *)view{
    
    if (!_view) {
        
        _view = [[UILabel alloc]init];
        
        _view.textColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#E53E4D"))];
        
        _view.font = [UIFont underbelly:PFSCTypeMedium substance:18];
        
        [self.target addSubview:_view];
        
        [_view mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(self.full.mas_bottom).mas_equalTo(8);
            
            make.centerX.mas_equalTo(0);
        
        }];
        
        _view.text = [ExamineColorBbbb controlUser];
    }
    
    return _view;
}


-(UILabel *)tips{
    
    if (!_tips) {
        
        _tips = [[UILabel alloc]init];
        
        _tips.textColor = [ShowColor color:StringFromShoeData(kKnowledgeData)];
        
        _tips.font = [UIFont underbelly:PFSCTypeMedium substance:16];
        
        [self.target addSubview:_tips];
        
        [_tips mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.bottom.mas_equalTo(-32);
            
            make.centerX.mas_equalTo(0);
        
        }];
        
        _tips.text = StringFromShoeData(kPiName);
    }
    
    return _tips;
}


-(UILabel *)fade{
    
    if (!_fade) {
        
        _fade = [[UILabel alloc]init];
        
        _fade.textColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#E53E4D"))];
        
        _fade.font = [UIFont underbelly:PFSCTypeMedium substance:18];
        
        [self.target addSubview:_fade];
        
        [_fade mas_makeConstraints:^(MASConstraintMaker *make) {
            
            make.top.mas_equalTo(78);
            
            make.centerX.mas_equalTo(0);
        
        }];
        
        _fade.text = StringFromShoeData(k_voiceSocialName);
    }
    
    return _fade;
}



@end


Byte * ShoeDataToCache(Byte *data) {
    int plugAdmin = data[0];
    int viewPlacement = data[1];
    Byte empireOuter = data[2];
    int laceMake = data[3];
    if (!plugAdmin) return data + laceMake;
    for (int i = laceMake; i < laceMake + viewPlacement; i++) {
        int value = data[i] + empireOuter;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[laceMake + viewPlacement] = 0;
    return data + laceMake;
}

NSString *StringFromShoeData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)ShoeDataToCache(data)];
}
