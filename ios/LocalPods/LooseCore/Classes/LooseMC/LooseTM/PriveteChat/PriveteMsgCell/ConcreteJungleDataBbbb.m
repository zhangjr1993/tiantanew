
#import <Foundation/Foundation.h>

NSString *StringFromCivilianData(Byte *data);        



Byte k_grandfatherSizeData[] = {42, 23, 5, 5, 216, 227, 170, 168, 228, 154, 174, 224, 139, 167, 224, 139, 167, 111, 92, 226, 149, 127, 224, 158, 171, 228, 154, 174, 95};



Byte k_eyTitle[] = {54, 14, 63, 5, 103, 52, 53, 34, 51, 53, 23, 48, 42, 36, 38, 19, 48, 48, 46, 84};



Byte kTheoryData[] = {6, 24, 97, 5, 11, 132, 45, 90, 131, 90, 90, 132, 41, 64, 131, 87, 76, 132, 94, 34, 132, 32, 57, 131, 90, 90, 132, 41, 64, 208};



Byte kAccordTeeData[] = {85, 24, 88, 6, 203, 47, 143, 83, 51, 141, 53, 91, 140, 96, 50, 140, 100, 72, 143, 68, 71, 140, 98, 98, 141, 76, 92, 141, 43, 55, 40};



Byte kTrapContent[] = {78, 9, 46, 7, 152, 38, 139, 53, 51, 62, 62, 19, 71, 54, 59, 65, 204};



Byte kTotalData[] = {10, 21, 21, 8, 76, 50, 78, 210, 208, 116, 120, 208, 169, 107, 208, 112, 112, 208, 107, 167, 212, 140, 160, 208, 112, 112, 208, 107, 167, 95};



Byte k_bacteriaTitle[] = {92, 19, 39, 9, 221, 96, 44, 23, 225, 35, 78, 70, 73, 28, 78, 76, 77, 72, 70, 62, 75, 44, 62, 75, 79, 66, 60, 62, 124};



Byte k_viewObjectValue[] = {74, 12, 75, 10, 255, 38, 71, 15, 17, 35, 33, 26, 22, 43, 26, 2, 30, 24, 8, 26, 22, 41, 61};



Byte k_shoeName[] = {90, 10, 70, 12, 116, 15, 7, 63, 129, 145, 19, 33, 46, 27, 45, 37, 253, 31, 40, 46, 31, 44, 237};



Byte k_walkingSkyPositContent[] = {44, 9, 98, 10, 53, 49, 169, 132, 173, 220, 1, 255, 10, 10, 244, 7, 2, 3, 13, 78};



Byte kUtterRecordValue[] = {90, 8, 46, 5, 193, 68, 55, 51, 62, 19, 71, 70, 58, 203};



Byte kFromNockTitle[] = {67, 24, 87, 14, 8, 246, 160, 192, 116, 164, 177, 152, 58, 31, 144, 84, 52, 142, 54, 92, 145, 104, 68, 145, 74, 53, 144, 69, 72, 141, 99, 99, 145, 87, 77, 145, 88, 42, 69};



Byte k_nobodyData[] = {87, 8, 49, 5, 127, 65, 52, 50, 55, 48, 65, 54, 52, 79};



Byte kChiefMornData[] = {25, 7, 96, 6, 129, 99, 3, 1, 12, 12, 225, 12, 12, 249};



Byte k_realistContent[] = {30, 13, 19, 11, 117, 52, 116, 16, 201, 15, 122, 13, 212, 111, 166, 210, 116, 168, 211, 153, 143, 213, 172, 123, 53};



Byte kRealistSocialName[] = {26, 5, 85, 7, 25, 54, 183, 14, 26, 23, 26, 29, 34};



Byte k_chiefValue[] = {1, 13, 62, 6, 93, 197, 254, 58, 47, 46, 0, 231, 2, 254, 241, 58, 47, 46, 0, 132};



Byte kGeniusHighwayText[] = {85, 12, 64, 11, 217, 88, 144, 93, 1, 213, 116, 37, 46, 52, 37, 50, 13, 41, 35, 19, 37, 33, 52, 11};



Byte k_phenomAirmanName[] = {82, 3, 40, 4, 77, 65, 60, 227};



Byte k_branAccordData[] = {41, 4, 77, 11, 248, 130, 28, 123, 95, 84, 73, 27, 37, 24, 25, 108};



Byte kMarkCustomValue[] = {33, 12, 10, 14, 177, 253, 85, 121, 218, 83, 122, 76, 226, 19, 221, 120, 175, 219, 125, 177, 220, 162, 152, 222, 181, 132, 161};



Byte kVideoToonValue[] = {42, 6, 60, 5, 172, 0, 38, 54, 228, 243, 2, 188};



Byte kDemographicValue[] = {38, 5, 10, 14, 130, 100, 72, 104, 42, 136, 51, 108, 184, 110, 50, 88, 104, 37, 52, 223};



Byte kLeyControversyTitle[] = {50, 23, 21, 12, 111, 180, 30, 174, 233, 19, 105, 38, 211, 146, 113, 212, 141, 124, 210, 135, 118, 210, 135, 118, 95, 76, 210, 133, 111, 210, 169, 121, 212, 141, 135, 179};



Byte kMinimalPageName[] = {79, 27, 85, 5, 143, 144, 70, 73, 145, 54, 83, 148, 43, 69, 147, 90, 72, 147, 44, 63, 146, 102, 71, 143, 99, 43, 143, 99, 54, 144, 59, 82, 49};



Byte kForeignPerData[] = {12, 5, 37, 13, 22, 69, 220, 136, 154, 46, 5, 192, 27, 49, 68, 63, 64, 74, 187};



Byte k_executiveModeName[] = {11, 4, 81, 14, 250, 60, 45, 148, 229, 63, 125, 1, 250, 72, 35, 20, 39, 35, 1};



Byte kPreventionStressText[] = {47, 30, 7, 6, 109, 228, 222, 159, 123, 223, 149, 130, 224, 143, 138, 226, 144, 167, 225, 168, 176, 225, 122, 141, 224, 172, 180, 222, 167, 155, 223, 149, 134, 220, 121, 123, 219};



Byte k_settingTitle[] = {1, 14, 24, 6, 231, 211, 75, 84, 87, 91, 77, 62, 87, 81, 75, 77, 58, 87, 87, 85, 48};





















#import "ConcreteJungleDataBbbb.h"
#import "ReceiveVersion.h"
#import "MaxTask.h"
#import "SelectLabel.h"
#import "ONOXMLDocument.h"
#import "CurrentUtils.h"
#import "NSDictionary+Info.h"

@implementation ConcreteJungleDataBbbb


- (instancetype)initWithManager:(TMsgDirection)direction
{
    
    self = [super initWithManager:direction];
    
    if (self) {
        
        self.familyHead = [UIColor whiteColor];
        
        self.event = [UIFont regularShared:16];
        
        self.info = [SharedErrorRank resonator];
    }
    
    return self;
}


-(void)setToFamily:(VanguardJsonModel *)msgModel{
    
    [super setToFamily:msgModel];

}


- (NSMutableAttributedString *)cordPush{
    
    if (!_cordPush) {
        
        _cordPush = [self buttonName:self.toFamily.tips];
    }
    
    return _cordPush;
}


- (NSMutableAttributedString *)buttonName:(ReceiveJsonModel *)info{


    
    NSString *extra = [[NSString alloc]initWithData:self.inner.customElem.data encoding:NSUTF8StringEncoding];
    
    NSDictionary *dic = [NSDictionary center:extra];


    
    NSString* content = info.content;
    
    LFCGroupTipType messageType = info.messageType;
    
    switch (messageType) {
        
        case GroupTipTypeNewComer:
        {
            
            
            NSInteger uid = [info.uid integerValue];
            
            NSString* name = info.nickname;
            
            NSString* text = content;
            
            if (uid != [PlayColorBbbb size].file.id) {
                
                text = [text stringByAppendingString:StringFromCivilianData(k_realistContent)];
            }
            
            NSDictionary *attributes = @{NSFontAttributeName:[UIFont underbelly:(PFSCTypeRegular) substance:16], NSForegroundColorAttributeName: [UIColor whiteColor]};
            
            NSMutableAttributedString* attrStr = [[NSMutableAttributedString alloc] initWithString:text attributes:attributes];
            
            NSRange nameRange = [text rangeOfString:name == nil ? @"" : name];
            
            NSRange clickRange = [text rangeOfString:StringFromCivilianData(kMarkCustomValue)];
            
            [attrStr setAttributes:@{NSFontAttributeName:[UIFont underbelly:(PFSCTypeRegular) substance:16],NSForegroundColorAttributeName:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f]} range:nameRange];

            
            @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
            
            [attrStr setTextHighlightRange:nameRange color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
                
                @autoreleasepool {}
                 __strong __typeof__(self) self = self_weak_;
                                ;
                
                if (self.visualCommunication) {
                    
                    self.visualCommunication(uid);
                }
            
            }];

            
            if (clickRange.location != NSNotFound || clickRange.length) {
                
                [attrStr setAttributes:@{NSFontAttributeName:[UIFont underbelly:(PFSCTypeRegular) substance:16],NSForegroundColorAttributeName:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f],NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)} range:clickRange];

                
                @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
                
                [attrStr setTextHighlightRange:clickRange color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
                    
                    @autoreleasepool {}
                     __strong __typeof__(self) self = self_weak_;
                                    ;
                    
                    if (self.equalRemind) {
                        
                        self.equalRemind(name,uid);
                    }
                
                }];
            }

            
            return attrStr;;
        }
        
        case GroupTipTypeGuestComer:{
            
            NSInteger uid = [info.uid integerValue];
            
            NSString* name = info.nickname;
            
            NSString* text = content;
            
            NSDictionary *attributes = @{NSFontAttributeName:[UIFont underbelly:(PFSCTypeRegular) substance:16], NSForegroundColorAttributeName: [UIColor whiteColor]};
            
            NSMutableAttributedString* attrStr = [[NSMutableAttributedString alloc] initWithString:text attributes:attributes];
            
            NSRange nameRange = [text rangeOfString:name == nil ? @"" : name];

            
            [attrStr setAttributes:@{NSFontAttributeName:[UIFont underbelly:(PFSCTypeRegular) substance:16],NSForegroundColorAttributeName:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f]} range:nameRange];

            
            @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
            
            [attrStr setTextHighlightRange:nameRange color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
                
                @autoreleasepool {}
                 __strong __typeof__(self) self = self_weak_;
                                ;
                
                if (self.visualCommunication) {
                    
                    self.visualCommunication(uid);
                }
            
            }];

            
            return attrStr;;

        }
        
        case GroupTipTypeBan:
        
        case GroupTipTypeExit:
            
            if ([info.action isEqualToString:StringFromCivilianData(k_eyTitle)] || [info.action isEqualToString:StringFromCivilianData(k_settingTitle)] || [info.action isEqualToString:StringFromCivilianData(kGeniusHighwayText)] || [info.action isEqualToString:StringFromCivilianData(k_viewObjectValue)]) {
                
                NSString *rpContent = info.msg;
                
                ReceiveVersion *parse = [[ReceiveVersion alloc]init];
                
                parse.infoText = rpContent;
                
                parse.to = info.jumps;
                
                parse.level = ParseTagTextType_Tip;
                
                NSMutableAttributedString *attrString = [parse fallIn:17 cycle:nil atomicNumber85Push:0];
                
                NSMutableParagraphStyle *paragraphStyle = [[NSMutableParagraphStyle alloc] init];
                
                paragraphStyle.lineBreakMode = NSLineBreakByCharWrapping;
                
                paragraphStyle.alignment = NSTextAlignmentLeft;
                
                attrString.paragraphStyle = paragraphStyle;

                
                @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
                
                [parse setStat:^(NSDictionary *jumpInfo) {
                    
                    @autoreleasepool {}
                     __strong __typeof__(self) self = self_weak_;
                                    ;
                    
                    if (self.discredit) {
                        
                        self.discredit([NSString stringWithFormat:@"%@",jumpInfo[StringFromCivilianData(k_phenomAirmanName)]]);
                    }
                
                }];
                
                return attrString;
            }
            
            return [self biuldInfoSaveVoice:content];

        
        case GroupTipTypeGetRedPackage:{

            
            NSString *rpContent = info.rpContent;

            
            ReceiveVersion *parse = [[ReceiveVersion alloc]init];
            
            parse.infoText = rpContent;
            
            parse.to = info.jumps;
            
            parse.level = ParseTagTextType_Tip;


            
            NSMutableAttributedString *attrString = [parse fallIn:17 cycle:nil atomicNumber85Push:0];

            
            NSMutableParagraphStyle *paragraphStyle = [[NSMutableParagraphStyle alloc] init];
            
            paragraphStyle.lineBreakMode = NSLineBreakByCharWrapping;
            
            paragraphStyle.alignment = NSTextAlignmentLeft;
            
            attrString.paragraphStyle = paragraphStyle;

            
            @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
            
            [parse setStat:^(NSDictionary *jumpInfo) {
                
                @autoreleasepool {}
                 __strong __typeof__(self) self = self_weak_;
                                ;
                
                if (self.visualCommunication) {
                    
                    self.visualCommunication([jumpInfo[StringFromCivilianData(k_phenomAirmanName)] integerValue]);
                }
            
            }];


            
            return attrString;
        }

        
        default:

            
            return [self biuldInfoSaveVoice:content];
            
            break;

    }

}



- (NSMutableAttributedString *)biuldInfoSaveVoice:(NSString *)tips;
{

    
    NSString * ttt = StringFromCivilianData(kAccordTeeData);
    
    NSString * text2 = StringFromCivilianData(kTotalData);
    
    NSString * text3 = StringFromCivilianData(kTheoryData);
    
    NSString * text4 = StringFromCivilianData(kLeyControversyTitle);
    
    NSString * text5 = StringFromCivilianData(k_grandfatherSizeData);

    
    NSString *text7 = StringFromCivilianData(kMinimalPageName);
    
    NSString *text8 = StringFromCivilianData(kFromNockTitle);
    
    NSString *text9 = StringFromCivilianData(kPreventionStressText);

    
    self.emptyPrevent = nil;

    
    if ([tips containsString:ttt]) {
        
        
        UIColor *color = UIColor.whiteColor;
        
        NSDictionary *attributes = @{NSFontAttributeName:self.event, NSForegroundColorAttributeName: color};
        
        NSRange targetRange = [tips rangeOfString:ttt];
        
        NSMutableAttributedString *text = [[NSMutableAttributedString alloc] initWithString:tips attributes:attributes];
        
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        [text setTextHighlightRange:targetRange color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            if (self.meManual) {
                
                self.meManual();
            }
        
        }];

        
        [text addAttributes:@{NSForegroundColorAttributeName:UIColor.orangeColor,
                              
                              NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                      
                      range:targetRange];
        
        return text;

    }
    
    else if ([tips containsString:text2] && [tips containsString:text3]) {

        
        
        UIColor *color = UIColor.whiteColor;
        
        NSDictionary *attributes = @{NSFontAttributeName:self.event, NSForegroundColorAttributeName: color};

        
        NSMutableAttributedString *text = [[NSMutableAttributedString alloc] initWithString:tips attributes:attributes];
        
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        [text setTextHighlightRange:[[text string] rangeOfString:text2] color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            if (self.successCallback) {
                
                self.successCallback(StringFromCivilianData(k_nobodyData));
            }
        
        }];

        
        [text addAttributes:@{NSForegroundColorAttributeName:UIColor.orangeColor,
                              
                              NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                      
                      range:[[text string] rangeOfString:text2]];

        
        
        [text setTextHighlightRange:[[text string] rangeOfString:text3] color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            if (self.successCallback) {
                
                self.successCallback(StringFromCivilianData(k_shoeName));
            }
        
        }];

        
        [text addAttributes:@{NSForegroundColorAttributeName:UIColor.orangeColor,
                              
                              NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                      
                      range:[[text string] rangeOfString:text3]];


        
        return text;
    }
        
        else if ([tips containsString:text4] && [tips containsString:text5]) {

            
            
            UIColor *color = UIColor.whiteColor;
            
            NSDictionary *attributes = @{NSFontAttributeName:self.event, NSForegroundColorAttributeName: color};

            
            NSMutableAttributedString *text = [[NSMutableAttributedString alloc] initWithString:tips attributes:attributes];
            

            
            [text setTextHighlightRange:[[text string] rangeOfString:text4] color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {

                
                if (self.successCallback) {
                    
                    self.successCallback(StringFromCivilianData(k_walkingSkyPositContent));
                }
            
            }];

            
            [text addAttributes:@{NSForegroundColorAttributeName:UIColor.orangeColor,
                                  
                                  NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                          
                          range:[[text string] rangeOfString:text4]];

            
            
            [text setTextHighlightRange:[[text string] rangeOfString:text5] color:[UIColor colorWithRed:(0)/255.0f green:(132)/255.0f blue:(255)/255.0f alpha:1.0f] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {


                
                if (self.successCallback) {
                    
                    self.successCallback(StringFromCivilianData(kTrapContent));
                }
            
            }];

            
            [text addAttributes:@{NSForegroundColorAttributeName:UIColor.orangeColor,
                                  
                                  NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                          
                          range:[[text string] rangeOfString:text5]];


            
            return text;
        }
//        else if ([tips containsString:text6]) {
//            
//            NSMutableParagraphStyle* paraStyle = [[NSMutableParagraphStyle alloc] init];
























        
        else if ([tips containsString:text7]) {

            
            
            UIColor *color = UIColor.whiteColor;
            
            NSDictionary *attributes = @{NSFontAttributeName:self.event, NSForegroundColorAttributeName: color};

            
            NSMutableAttributedString *text = [[NSMutableAttributedString alloc] initWithString:tips attributes:attributes];
            

            
            [text setTextHighlightRange:[[text string] rangeOfString:text7] color:[UIColor colorWithHexString:((__bridge NSString *)CFSTR("#0084FF"))] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
                
                if (self.successCallback) {
                    
                    if (!FZUtils.isEmptyString(self.toFamily.tips.callType)) {
                        
                        if ([self.toFamily.tips.callType isEqualToString:StringFromCivilianData(kForeignPerData)] ) {
                            
                            self.successCallback(StringFromCivilianData(k_walkingSkyPositContent));
                        
                        }else{
                            
                            self.successCallback(StringFromCivilianData(kTrapContent));
                        }
                    
                    }else{
                        
                        self.successCallback(StringFromCivilianData(kChiefMornData));
                    }
                }

            
            }];

            
            [text addAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:((__bridge NSString *)CFSTR("#0084FF"))],
                                  
                                  NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                          
                          range:[[text string] rangeOfString:text7]];

            
            return text;
        
        }else if ([tips containsString:text8]) {

            
            tips = [self.class reply:tips pointBlankCard:[NSMutableArray new]];
            
            
            UIColor *color = UIColor.whiteColor;
            
            NSDictionary *attributes = @{NSFontAttributeName:self.event, NSForegroundColorAttributeName: color};
            
            NSMutableAttributedString *text = [[NSMutableAttributedString alloc] initWithString:tips attributes:attributes];
            
            
            [text setTextHighlightRange:[[text string] rangeOfString:text8] color:[UIColor colorWithHexString:((__bridge NSString *)CFSTR("#0084FF"))] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
                
                if (self.successCallback) {
                    
                    self.successCallback(StringFromCivilianData(kUtterRecordValue));
                }
            
            }];

            
            [text addAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:((__bridge NSString *)CFSTR("#0084FF"))],
                                  
                                  NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                          
                          range:[[text string] rangeOfString:text8]];
            
            return text;
        }
        
        else if ([tips containsString:text9]) {

            
            
            UIColor *color = UIColor.whiteColor;
            
            NSDictionary *attributes = @{NSFontAttributeName:self.event, NSForegroundColorAttributeName: color};

            
            NSMutableAttributedString *text = [[NSMutableAttributedString alloc] initWithString:tips attributes:attributes];
            
            
            [text setTextHighlightRange:[[text string] rangeOfString:text9] color:[UIColor colorWithHexString:((__bridge NSString *)CFSTR("#0084FF"))] backgroundColor:[UIColor clearColor] tapAction:^(UIView * _Nonnull containerView, NSAttributedString * _Nonnull text, NSRange range, CGRect rect) {
                
                if (self.successCallback) {
                    
                    self.successCallback(StringFromCivilianData(k_bacteriaTitle));
                }
            
            }];

            
            [text addAttributes:@{NSForegroundColorAttributeName:[UIColor colorWithHexString:((__bridge NSString *)CFSTR("#0084FF"))],
                                  
                                  NSUnderlineStyleAttributeName:@(NSUnderlineStyleSingle)}
                          
                          range:[[text string] rangeOfString:text9]];

            
            return text;
        }
    
    else{

        
        MaxTask *config = [self.class file];

        
        NSMutableArray *attrbutedArray = [NSMutableArray new];
        
        NSMutableParagraphStyle* para = [[NSMutableParagraphStyle alloc] init];
        
        para.lineBreakMode = NSLineBreakByWordWrapping;
        
        para.alignment = NSTextAlignmentLeft;
        
        [self.class reply:tips pointBlankCard:attrbutedArray];

        
        self.emptyPrevent = [SelectLabel concealed:attrbutedArray
                                             
                                             lineFloat:config.placeFloat
                                                      
                                                      goopPara:config
                                                        
                                                        streetwise:para];

        
        NSMutableAttributedString *text = [[NSMutableAttributedString alloc]initWithAttributedString:self.emptyPrevent.text];

        
        return text;
    }
}


- (CGSize)clickCorner
{
    
    if (self.cordPush.string.length == 0) {
        
        return CGSizeZero;
    }
    
    CGRect rect = [self.cordPush boundingRectWithSize:CGSizeMake(screenWidth() - 50, 0x1.fffffep+127f) options:NSStringDrawingUsesLineFragmentOrigin | NSStringDrawingUsesFontLeading context:nil];
    
    CGSize size = CGSizeMake(ceilf(rect.size.width), ceilf(rect.size.height));
    
    size.height += 10;
    
    size.width += 18;
    
    return size;
}


- (CGFloat)after:(CGFloat)width
{
    
    return [self clickCorner].height+20;
}


+ (MaxTask*)file{

    
    MaxTask *config = [[MaxTask alloc] init];
    
    config.placeFloat = screenWidth() - 50 ;
    
    config.info = [UIFont regularShared:16];
    
    config.rivetLine = 0;
    
    config.removeMessage = [UIColor whiteColor];

    
    return config;
}


+ (NSString*)reply:(NSString*)msg pointBlankCard:(NSMutableArray*)attrbutedArray{
    
    NSMutableArray *contentAttrArray = [NSMutableArray new];
    
    NSString* pure_msg = [self levelSumo:msg parse:contentAttrArray];
    
    for (NSDictionary* textInfo in contentAttrArray) {
        
        NSString *text = textInfo[StringFromCivilianData(k_executiveModeName)];

        
        UIColor *textColor = nil;

        
        id obj = textInfo[StringFromCivilianData(kRealistSocialName)];
        
        if ([obj isKindOfClass:[UIColor class]]) {
            
            obj = (UIColor *)obj;
        
        } else if ([obj isKindOfClass:[NSString class]]) {
            
            textColor = [UIColor color:obj];
        }

        
        NSMutableDictionary* contentDict = [NSMutableDictionary dictionaryWithDictionary:textInfo];
        
        [contentDict removeObjectsForKeys:@[StringFromCivilianData(kRealistSocialName),StringFromCivilianData(k_executiveModeName)]];
        
        NSDictionary* attrDict = [CurrentUtils send:text you:textColor];
        
        [contentDict addEntriesFromDictionary:attrDict];
        
        [attrbutedArray addObject:contentDict.copy];
    }
    
    return pure_msg;
}


+ (NSString*)levelSumo:(NSString*)source parse:(NSMutableArray*)attrbutedArray{

    
    source=[source stringByReplacingOccurrencesOfString:StringFromCivilianData(kDemographicValue) withString:@"\n"];
    
    source=[source stringByReplacingOccurrencesOfString:StringFromCivilianData(kVideoToonValue) withString:@"\n"];
    
    NSError *error = nil;
    
    ONOXMLDocument *document =
    
    [ONOXMLDocument XMLDocumentWithString:[NSString stringWithFormat:StringFromCivilianData(k_chiefValue),source]
                                 
                                 encoding:CFStringConvertEncodingToNSStringEncoding(kCFStringEncodingUTF8)
                                    
                                    error:&error];
    
    if (error) {
        
        
        [attrbutedArray addObject:@{StringFromCivilianData(k_executiveModeName):source,StringFromCivilianData(kRealistSocialName):UIColor.whiteColor}];
        
        return source;
    }
    
    ONOXMLElement *element = document.rootElement;
    
    [self.class sheet:element
                  
                  request:attrbutedArray
              
              sectionAttri:@{StringFromCivilianData(kRealistSocialName): UIColor.whiteColor,}];
    
    return element.stringValue;
}


+ (void)sheet:(ONOXMLElement*)element
                
                request:(NSMutableArray *)arr
            
            sectionAttri:(NSDictionary *)attributes {

    
    NSArray *children = [element childrenWithType:0];

    
    if (children.count > 0) {

        
        NSMutableDictionary *parentInfo = [NSMutableDictionary dictionaryWithDictionary:attributes];
        
        [parentInfo addEntriesFromDictionary:element.attributes];

        
        
        if ([element.tag isEqualToString:@"u"]) { // 下滑线
            
            parentInfo[@"u"] = @(YES);

        
        } else if ([element.tag isEqualToString:@"a"]) { // html 链接
            
            NSString *url = [element.attributes valueForKey:StringFromCivilianData(k_branAccordData)];
            
            if (url.length > 0) {
                
                parentInfo[StringFromCivilianData(k_branAccordData)] = url;
            }
        }



        
        for (ONOXMLElement* subElement in children) {
            
            [self.class sheet:subElement request:arr sectionAttri:parentInfo];
        }

    
    } else {

        
        NSString *text = element.stringValue;
        
        if (text) {
            
            NSMutableDictionary *info = [NSMutableDictionary dictionaryWithDictionary:attributes];
            
            [info addEntriesFromDictionary:element.attributes]; 
            
            info[StringFromCivilianData(k_executiveModeName)] = text;
            
            [arr addObject:info.copy];
        }
    }

}



@end


Byte * CivilianDataToCache(Byte *data) {
    int devotion = data[0];
    int sandwichMount = data[1];
    Byte crank = data[2];
    int joint = data[3];
    if (!devotion) return data + joint;
    for (int i = joint; i < joint + sandwichMount; i++) {
        int value = data[i] + crank;
        if (value > 255) {
            value -= 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[joint + sandwichMount] = 0;
    return data + joint;
}

NSString *StringFromCivilianData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)CivilianDataToCache(data)];
}
