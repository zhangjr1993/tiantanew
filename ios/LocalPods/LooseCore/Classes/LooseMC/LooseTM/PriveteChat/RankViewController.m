
#import <Foundation/Foundation.h>
typedef struct {
    Byte valueLassSettingStraw;
    Byte *cycleDust;
    unsigned int judge;
    bool objectHotel;
	int loopMessage;
} ReceiveNameData;

NSString *StringFromAdminWorldData(ReceiveNameData *data);


//: onlineStatus
ReceiveNameData k_disappointedTitle = (ReceiveNameData){18, (Byte []){125, 124, 126, 123, 124, 119, 65, 102, 115, 102, 103, 97, 39}, 12, false, 3};


//: 取消家族对话免打扰
ReceiveNameData kMuseumText = (ReceiveNameData){139, (Byte []){110, 4, 29, 109, 61, 3, 110, 37, 61, 109, 28, 4, 110, 36, 50, 99, 36, 22, 110, 14, 6, 109, 2, 24, 109, 2, 59, 36}, 27, false, 42};


//: 取消置顶
ReceiveNameData kInsertTitle = (ReceiveNameData){92, (Byte []){185, 211, 202, 186, 234, 212, 187, 225, 242, 181, 253, 234, 214}, 12, false, 227};


//: 折叠置顶聊天
ReceiveNameData k_dominateSilkValue = (ReceiveNameData){167, (Byte []){65, 45, 63, 66, 40, 7, 64, 26, 9, 78, 6, 17, 79, 38, 45, 66, 3, 14, 160}, 18, false, 192};


//: icon_message_fold
ReceiveNameData k_walkingGrayTitle = (ReceiveNameData){86, (Byte []){63, 53, 57, 56, 9, 59, 51, 37, 37, 55, 49, 51, 9, 48, 57, 58, 50, 242}, 17, false, 57};


//: taskList_open_icon
ReceiveNameData kModelDoingdName = (ReceiveNameData){218, (Byte []){174, 187, 169, 177, 150, 179, 169, 174, 133, 181, 170, 191, 180, 133, 179, 185, 181, 180, 140}, 18, false, 55};


//: 取消密友
ReceiveNameData k_socialPermitValue = (ReceiveNameData){45, (Byte []){200, 162, 187, 203, 155, 165, 200, 130, 171, 200, 162, 166, 68}, 12, false, 60};


//: btn_message_fold_packup
ReceiveNameData k_punchName = (ReceiveNameData){46, (Byte []){76, 90, 64, 113, 67, 75, 93, 93, 79, 73, 75, 113, 72, 65, 66, 74, 113, 94, 79, 77, 69, 91, 94, 20}, 23, false, 225};


//: family_notify
ReceiveNameData k_alienEffortTitle = (ReceiveNameData){155, (Byte []){253, 250, 246, 242, 247, 226, 196, 245, 244, 239, 242, 253, 226, 148}, 13, false, 29};


//: name
ReceiveNameData k_positData = (ReceiveNameData){198, (Byte []){168, 167, 171, 163, 146}, 4, false, 151};


//: type
ReceiveNameData kIssueText = (ReceiveNameData){168, (Byte []){220, 209, 216, 205, 184}, 4, false, 22};


//: %d个置顶聊天
ReceiveNameData k_preventionAbroadValue = (ReceiveNameData){91, (Byte []){126, 63, 191, 227, 241, 188, 230, 245, 178, 250, 237, 179, 218, 209, 190, 255, 242, 244}, 17, false, 81};


//: 已取消密友
ReceiveNameData k_efficiencyTotName = (ReceiveNameData){109, (Byte []){136, 218, 223, 136, 226, 251, 139, 219, 229, 136, 194, 235, 136, 226, 230, 67}, 15, false, 120};


//: 所有对话标为已读
ReceiveNameData k_succeedPunchData = (ReceiveNameData){7, (Byte []){225, 142, 135, 225, 155, 142, 226, 168, 190, 239, 168, 154, 225, 167, 128, 227, 191, 189, 226, 176, 181, 239, 168, 188, 29}, 24, false, 86};


//: 删除所有对话
ReceiveNameData k_residentData = (ReceiveNameData){159, (Byte []){122, 23, 63, 118, 6, 59, 121, 22, 31, 121, 3, 22, 122, 48, 38, 119, 48, 2, 194}, 18, false, 159};


//: userStatus
ReceiveNameData k_listAcidValue = (ReceiveNameData){156, (Byte []){233, 239, 249, 238, 207, 232, 253, 232, 233, 239, 66}, 10, false, 139};


//: 家族对话免打扰
ReceiveNameData k_demographicName = (ReceiveNameData){141, (Byte []){104, 35, 59, 107, 26, 2, 104, 34, 52, 101, 34, 16, 104, 8, 0, 107, 4, 30, 107, 4, 61, 138}, 21, false, 48};


//: roomId
ReceiveNameData k_executiveSumelValue = (ReceiveNameData){171, (Byte []){217, 196, 196, 198, 226, 207, 56}, 6, false, 172};


//: 删除
ReceiveNameData kBoxSlapData = (ReceiveNameData){169, (Byte []){76, 33, 9, 64, 48, 13, 30}, 6, false, 65};


//: 已设置为密友
ReceiveNameData k_abroadData = (ReceiveNameData){223, (Byte []){58, 104, 109, 55, 113, 97, 56, 98, 113, 59, 103, 101, 58, 112, 89, 58, 80, 84, 218}, 18, false, 79};


//: btn_message_fold_openup
ReceiveNameData k_findText = (ReceiveNameData){100, (Byte []){6, 16, 10, 59, 9, 1, 23, 23, 5, 3, 1, 59, 2, 11, 8, 0, 59, 11, 20, 1, 10, 17, 20, 246}, 23, false, 221};


//: 取消
ReceiveNameData kGearName = (ReceiveNameData){123, (Byte []){158, 244, 237, 157, 205, 243, 158}, 6, false, 199};


//: value
ReceiveNameData kAheadValue = (ReceiveNameData){134, (Byte []){240, 231, 234, 243, 227, 245}, 5, false, 33};


//: 设为密友
ReceiveNameData k_weekNonethelessName = (ReceiveNameData){123, (Byte []){147, 213, 197, 159, 195, 193, 158, 212, 253, 158, 244, 240, 145}, 12, false, 132};


//: 置顶
ReceiveNameData k_objectRequestName = (ReceiveNameData){144, (Byte []){119, 45, 62, 121, 49, 38, 93}, 6, false, 85};

// __DEBUG__
// __CLOSE_PRINT__
//
//  RankViewController.m
//  Talking
//
//  Created by Jeremy on 2021/8/6.
//  Copyright © 2021 app. All rights reserved.
//
//: 
//: 
//: 
//: 
//: 
//: 
//: 
//: 
//: 
//: @interface LFCTXChatListController ()<UITableViewDataSource, UITableViewDelegate,HZActionSheetDelegate>

// __M_A_C_R_O__
#import "RankViewController.h"
#import "UIScrollView+LFCReFresh.h"
#import "ColorBbbb.h"
#import "MoveViewCell.h"
#import "NameCodexError.h"
#import "GrantViewCell.h"
#import "EyeglassesViewController.h"
#import "PenningViewController.h"
#import "MenageATroisViewController.h"

@interface RankViewController ()<UITableViewDataSource, UITableViewDelegate,HeadIdentity>

//: @property (nonatomic, strong)LFCTXChatListViewModel* viewModel;
@property (nonatomic, strong)NameCodexError* resModel;

//: @property (nonatomic, strong) UILabel *unconnectedLabel; 
@property (nonatomic, strong) UILabel *select; // IM未连接

//: @end
@end

//: @implementation LFCTXChatListController
@implementation RankViewController

//: - (void)dealloc{
- (void)dealloc{

    //: [self removeNotificationObservers];
    [self occurrence];
}
//: - (instancetype)init {
- (instancetype)init {
    //: self = [super init];
    self = [super init];
    //: if (self) {
    if (self) {
        //: _viewModel = [[LFCTXChatListViewModel alloc]init];
        _resModel = [[NameCodexError alloc]init];
        //: LFCTXIMManager.sharedManager.isTXIMTopFold = [NSUserDefaults boolForKey:[CacheDef TXChatTopListFoldState]];
        NameSelect.guess.title = [NSUserDefaults distinguishedFlyingCross:[AuthorShadow stat]];
    }
    //: return self;
    return self;
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {

    //: [super viewDidLoad];
    [super viewDidLoad];
    //: self.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
    self.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;
    //: [self installNotificationObservers];
    [self onAtHand];
    //: [self func__viewModelDetailSubject];
    [self keyStart];
    //: [self.viewModel func__groupConversionDetail];
    [self.resModel content];

    //: dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(1.2 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(1.2 * 1000000000ull)), dispatch_get_main_queue(), ^{
        //: [self func__getConversationList];
        [self listingKick];
    //: });
    });

    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(settopNoti:)
                                             selector:@selector(setUserSystem:)
                                                 //: name:[NotificationDef SetConversationTopNoti]
                                                 name:[CurrentUp title]
                                               //: object:nil];
                                               object:nil];
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(tabTouchClickNoTif:)
                                             selector:@selector(totals:)
                                                 //: name:[NotificationDef TouchChatTabVCNoti]
                                                 name:[CurrentUp start]
                                               //: object:nil];
                                               object:nil];
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(updateUserStatusNotif:) name:[NotificationDef PushChatUserStatusUpdateNoti]
                                             selector:@selector(notiffed:) name:[CurrentUp achromaticColor]
                                               //: object:nil];
                                               object:nil];
    //在消息列表收到，被踢出家族
    //: [[NSNotificationCenter defaultCenter] addObserver:self
    [[NSNotificationCenter defaultCenter] addObserver:self
                                             //: selector:@selector(receiveKickFamilyMsg)
                                             selector:@selector(pushAside)
                                                 //: name:[NotificationDef DidReceiveKickFamilyNoti]
                                                 name:[CurrentUp fleshedOut]
                                               //: object:nil];
                                               object:nil];

}

//: - (void)viewWillAppear:(BOOL)animated {
- (void)viewWillAppear:(BOOL)animated {

    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: self.viewModel.hideFamilyNotify = [AppManager sharedAppManager].loginUser.hideFamilyNotify;
    self.resModel.hideFamilyNotify = [PlayColorBbbb size].file.hideFamilyNotify;
    ///请求广场人数和家族信息
    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: [[LFCSocialChatManager sharedGiftManager] requestAllChatRoomInfo:^(LFCChatRoomInfoResp * _Nullable resp) {
    [[ColorBbbb info] mediumToBbbb:^(ViewModelBbbb * _Nullable resp) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [self.viewModel func__setupGroupList];
        [self.resModel save];
    //: }];
    }];

    // 刷新系统消息
    //: [[LFCTXIMManager sharedManager] func__refreshSystemMsg];
    [[NameSelect guess] carryOut];
    //: [self.viewModel.getgroupConverCom_Signal execute:nil];
    [self.resModel.getgroupConverCom_Signal execute:nil];

    //: [self reloadData];
    [self limitItem];
}
//: - (void)viewDidAppear:(BOOL)animated {
- (void)viewDidAppear:(BOOL)animated {
    //: [super viewDidAppear:animated];
    [super viewDidAppear:animated];
    //: [[LFCPopupManager sharedInstance] addPreventCheatView];
    [[ByPush instance] add];
    //: if (self.viewModel.topArr.count>5) {
    if (self.resModel.topArr.count>5) {
        //: self.tableView.contentInset = UIEdgeInsetsMake(0, 0,self.tableBottomInset,0);
        self.requestTo.contentInset = UIEdgeInsetsMake(0, 0,self.tableRank,0);
    }
}

//信号处理
//: - (void)func__viewModelDetailSubject {
- (void)keyStart {

    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: [self.viewModel.didUpdateDataArray_Signal subscribeNext:^(id  _Nullable x) {
    [self.resModel.didUpdateDataArray_Signal subscribeNext:^(id _Nullable x) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [self didUpdateDataArray];
        [self content];
    //: }];
    }];
    //: [self.viewModel.reloadData_Signal subscribeNext:^(id  _Nullable x) {
    [self.resModel.reloadData_Signal subscribeNext:^(id _Nullable x) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [self reloadData];
        [self limitItem];
    //: }];
    }];
    //: [self.viewModel.getgroupConverCom_Signal.executionSignals subscribeNext:^(id  _Nullable x) {
    [self.resModel.getgroupConverCom_Signal.executionSignals subscribeNext:^(id _Nullable x) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [x subscribeNext:^(id x) {
        [x subscribeNext:^(id x) {
            //: [self reloadData];
            [self limitItem];
        //: }];
        }];
    //: }];
    }];


    //: [self.viewModel.getunredCount_Signal.executionSignals.switchToLatest subscribeNext:^(id  _Nullable x) {
    [self.resModel.getunredCount_Signal.executionSignals.switchToLatest subscribeNext:^(id _Nullable x) {
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: self.unreadConversationCount =  [((NSNumber *) x) integerValue];
        self.unreadEraseBbbb = [((NSNumber *) x) integerValue];
        //: NSLog(@"AAAAAA");
    //: }];
    }];


}

// 加载更多会话
//: - (void)func__getConversationList {
- (void)listingKick {

    //: [self.viewModel.getconverCom_Signal execute:@[self.tableView]];
    [self.resModel.getconverCom_Signal execute:@[self.requestTo]];
}
//
//: - (void)func__scrollToNewMessageCell {
- (void)kick {

    //: [self.viewModel.scrollToNewMessageCell_Signal sendNext:@[self.tableView]];
    [self.resModel.scrollToNewMessageCell_Signal sendNext:@[self.requestTo]];
}


//获取私聊未读个数
//: - (void)func__getUnredConversationCount{
- (void)you{
    //: if ([AppManager sharedAppManager].loginUser.sex == Gender_Female) {
    if ([PlayColorBbbb size].file.sex == Gender_Female) {
        //: [self.viewModel.getunredCount_Signal execute:0];
        [self.resModel.getunredCount_Signal execute:0];
    }
}


//: #pragma mark - Action
#pragma mark - Action
///上拉刷新
//: - (void)func__getConversationListMore {
- (void)listMobile {
    //: self.tableView.mj_footer.hidden = NO;
    self.requestTo.mj_footer.hidden = NO;
    //: [self func__getConversationList];
    [self listingKick];
    //: @weakify(self);
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    //: dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.5 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
    dispatch_after(dispatch_time((0ull), (int64_t)(0.5 * 1000000000ull)), dispatch_get_main_queue(), ^{
        //: @strongify(self);
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        //: [self.viewModel.getuserListMoreStatus_Signal execute:@[self.tableView]];
        [self.resModel.getuserListMoreStatus_Signal execute:@[self.requestTo]];
    //: });
    });
}

//: - (void)reloadData {
- (void)limitItem {
    //: [self.tableView reloadData];
    [self.requestTo reloadData];
    //: [self func__getUnredConversationCount];
    [self you];
}

//: - (void)didUpdateDataArray {
- (void)content {

    //: [(MJRefreshAutoNormalFooter *)self.tableView.mj_footer setTitle:@"" forState:MJRefreshStateIdle];
    [(MJRefreshAutoNormalFooter *)self.requestTo.mj_footer setTitle:@"" forState:MJRefreshStateIdle];
    //: [(MJRefreshAutoNormalFooter *)self.tableView.mj_footer setTitle:@"" forState:MJRefreshStateNoMoreData];
    [(MJRefreshAutoNormalFooter *)self.requestTo.mj_footer setTitle:@"" forState:MJRefreshStateNoMoreData];

    //: if (self.tableView.mj_header == nil) {
    if (self.requestTo.mj_header == nil) {
        //: @weakify(self);
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        //: [self.tableView addHeaderRefresh:^{
        [self.requestTo mark:^{
            //: @strongify(self);
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;

            //: self.viewModel.indexData = 0;
            self.resModel.indexData = 0;
            //: [self.viewModel.getuserListStatus_Signal execute:@[self.tableView]];
            [self.resModel.getuserListStatus_Signal execute:@[self.requestTo]];
        //: }];
        }];
    }

    //: [self reloadData];
    [self limitItem];
    //: [self.tableView.mj_footer endRefreshing];
    [self.requestTo.mj_footer endRefreshing];
    //: if (self.viewModel.canLoadMore == NO) { 
    if (self.resModel.canLoadMore == NO) { //存在只有置顶聊天时
        //: [self.tableView.mj_footer endRefreshingWithNoMoreData];
        [self.requestTo.mj_footer endRefreshingWithNoMoreData];
    }
}

// 长按cell
//: - (void)handleLongTap:(LFCTXConversationModel *)model {
- (void)list:(TreasureBbbb *)model {

    //: if (model) {
    if (model) {

        //: NSMutableArray *titles = [NSMutableArray arrayWithArray:@[@"所有对话标为已读"]];
        NSMutableArray *titles = [NSMutableArray arrayWithArray:@[StringFromAdminWorldData(&k_succeedPunchData)]];
        //: if (model.conversationType == TXConversation_Group){
        if (model.conversationType == TXConversation_Group){
            //: if (self.viewModel.hideFamilyNotify) {
            if (self.resModel.hideFamilyNotify) {
                //: [titles insertObject:@"取消家族对话免打扰" atIndex:0];
                [titles insertObject:StringFromAdminWorldData(&kMuseumText) atIndex:0];
            //: }else{
            }else{
                //: [titles insertObject:@"家族对话免打扰" atIndex:0];
                [titles insertObject:StringFromAdminWorldData(&k_demographicName) atIndex:0];
            }
        //: }else{
        }else{
            //: if (!model.isTop) {
            if (!model.isTop) {
                //: [titles insertObject:@"删除所有对话" atIndex:0];
                [titles insertObject:StringFromAdminWorldData(&k_residentData) atIndex:0];
            }
        }

        //: HZActionSheet *sheet = [[HZActionSheet alloc] initWithTitle:nil
        SheetControl *sheet = [[SheetControl alloc] initWithFamily:nil
                                                           //: delegate:self
                                                           successful:self
                                                  //: cancelButtonTitle:@"取消"
                                                  record:StringFromAdminWorldData(&kGearName)
                                          //: destructiveButtonIndexSet:nil
                                          voice:nil
                                                  //: otherButtonTitles:titles];
                                                  message:titles];
        //: [sheet showInView:self.view];
        [sheet fellowFamily:self.view];
    }

}
// 长按cell
//: - (void)TXHandleLongTap:(LFCTXConversationModel *)model {
- (void)likeBbbb:(TreasureBbbb *)model {

    //: if (model) {
    if (model) {
        //: NSMutableArray *titles = [NSMutableArray arrayWithArray:@[@"所有对话标为已读"]];
        NSMutableArray *titles = [NSMutableArray arrayWithArray:@[StringFromAdminWorldData(&k_succeedPunchData)]];
        //: if (model.type == V2TIM_GROUP){
        if (model.type == V2TIM_GROUP){

            //: if (self.viewModel.hideFamilyNotify) {
            if (self.resModel.hideFamilyNotify) {
                //: [titles insertObject:@"取消家族对话免打扰" atIndex:0];
                [titles insertObject:StringFromAdminWorldData(&kMuseumText) atIndex:0];
            //: }else{
            }else{
                //: [titles insertObject:@"家族对话免打扰" atIndex:0];
                [titles insertObject:StringFromAdminWorldData(&k_demographicName) atIndex:0];
            }

        }
        //: HZActionSheet *sheet = [[HZActionSheet alloc] initWithTitle:nil
        SheetControl *sheet = [[SheetControl alloc] initWithFamily:nil
                                                           //: delegate:self
                                                           successful:self
                                                  //: cancelButtonTitle:@"取消"
                                                  record:StringFromAdminWorldData(&kGearName)
                                          //: destructiveButtonIndexSet:nil
                                          voice:nil
                                                  //: otherButtonTitles:titles];
                                                  message:titles];
        //: [sheet showInView:self.view];
        [sheet fellowFamily:self.view];
    }

}


// forceToGetUserInfo当用户信息不存在或无效时，是否网络获取
//: - (void)func__handleDidSelectPriveteConversationWith:(LFCTXConversationModel *)model
- (void)app:(TreasureBbbb *)model
                                     //: targetUid:(NSInteger)targetUid {
                                     mic:(NSInteger)targetUid {

    //: if (targetUid <= 0) {
    if (targetUid <= 0) {
        //: return;
        return;
    }
    /** 关注信息 */
    //: LFCMsgUserInfoCacheWrap *userInfo = [self gettXConversationTargetInfoWith:model.targetId
    RecModel *userInfo = [self quantity:model.targetId
                                                                      //: type:model.conversationType];
                                                                      nuclearFamily:model.conversationType];

    //: NSMutableDictionary *info = [NSMutableDictionary dictionaryWithDictionary:userInfo.toDictionary];    
    NSMutableDictionary *info = [NSMutableDictionary dictionaryWithDictionary:userInfo.toDictionary];
    //: [[AppManager sharedAppManager] func__TXChatToUserID:targetUid fromViewController:self userInfoDic:info];
    [[PlayColorBbbb size] show:targetUid receive:self makeQuick:info];
}


- (void)setUserSystem:(NSNotification *)noti{
    //: NSString *targetId = [NSString stringWithFormat:@"%@",noti.object];
    NSString *targetId = [NSString stringWithFormat:@"%@",noti.object];

    //: __block LFCTXConversationModel *model;
    __block TreasureBbbb *model;

    //: [self.viewModel.topArr enumerateObjectsUsingBlock:^(LFCTXConversationModel * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
    [self.resModel.topArr enumerateObjectsUsingBlock:^(TreasureBbbb * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {

        //: if ([obj.targetId isEqualToString:targetId]) {
        if ([obj.targetId isEqualToString:targetId]) {
            //: model = obj;
            model = obj;
            //: *stop = YES;
            *stop = YES;
        }
    //: }];
    }];
    //: if (model) {
    if (model) {
        //: [self.viewModel.conversationToTop_Signal sendNext:@[self.tableView,model,[NSString stringWithFormat:@"%d",self.tableBottomInset]]];
        [self.resModel.conversationToTop_Signal sendNext:@[self.requestTo,model,[NSString stringWithFormat:@"%d",self.tableRank]]];
        //: return;
        return;
    }
    //: [self.viewModel.dataArray enumerateObjectsUsingBlock:^(LFCTXConversationModel * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
    [self.resModel.dataArray enumerateObjectsUsingBlock:^(TreasureBbbb * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {

        //: if ([obj.targetId isEqualToString:targetId]) {
        if ([obj.targetId isEqualToString:targetId]) {
            //: model = obj;
            model = obj;
            //: *stop = YES;
            *stop = YES;
        }
    //: }];
    }];
    //: if (model) {
    if (model) {
        //: [self.viewModel.conversationToTop_Signal sendNext:@[self.tableView,model,[NSString stringWithFormat:@"%d",self.tableBottomInset]]];
        [self.resModel.conversationToTop_Signal sendNext:@[self.requestTo,model,[NSString stringWithFormat:@"%d",self.tableRank]]];
    }

}

//: - (void)receiveKickFamilyMsg {
- (void)pushAside {

    ///请求广场人数和家族信息
    //: [[LFCSocialChatManager sharedGiftManager] requestAllChatRoomInfo:^(LFCChatRoomInfoResp * _Nullable resp) {
    [[ColorBbbb info] mediumToBbbb:^(ViewModelBbbb * _Nullable resp) {
        //: [self.viewModel.getgroupConverCom_Signal execute:nil];
        [self.resModel.getgroupConverCom_Signal execute:nil];
        //: [self.viewModel func__setupGroupList];
        [self.resModel save];
    //: }];
    }];
}

//: - (void)tabTouchClickNoTif:(NSNotification *)noti {
- (void)totals:(NSNotification *)noti {

    //: if (self.viewModel.isFirstReq) {
    if (self.resModel.isFirstReq) {
        //: [self.viewModel.getuserListStatus_Signal execute:@[self.tableView]];
        [self.resModel.getuserListStatus_Signal execute:@[self.requestTo]];
    }
}

//: - (void)updateUserStatusNotif:(NSNotification *)noti {
- (void)notiffed:(NSNotification *)noti {
    //: self.viewModel.dataArray = LFCTXIMManager.sharedManager.conversationBank.norConversationList;
    self.resModel.dataArray = NameSelect.guess.treat.quadrateBbbb;
    //: self.viewModel.topArr = LFCTXIMManager.sharedManager.conversationBank.topConversationList;
    self.resModel.topArr = NameSelect.guess.treat.criminalize;

    //: [self.tableView reloadData];
    [self.requestTo reloadData];
}

//: - (void)topConVersationOpenAction:(UIControl *)sender{
- (void)youed:(UIControl *)sender{
    //: LFCTXIMManager.sharedManager.isTXIMTopFold = !LFCTXIMManager.sharedManager.isTXIMTopFold;
    NameSelect.guess.title = !NameSelect.guess.title;
    //: [NSUserDefaults setBool:LFCTXIMManager.sharedManager.isTXIMTopFold forKey:[CacheDef TXChatTopListFoldState]];
    [NSUserDefaults wealth:NameSelect.guess.title with:[AuthorShadow stat]];
    //: [self.tableView reloadData];
    [self.requestTo reloadData];
}
//: - (NSInteger)numOfTopConversationFoldCount{
- (NSInteger)data{
    //: NSInteger count = 0;
    NSInteger count = 0;
    //: for (LFCTXConversationModel *model in self.viewModel.topArr) {
    for (TreasureBbbb *model in self.resModel.topArr) {
        //: if (model.unreadCount == 0) {
        if (model.unreadCount == 0) {
            //: count++;
            count++;
        }
    }
    //: return count;
    return count;
}
//: #pragma mark - private
#pragma mark - private

// 删除会话
//: - (void)func__deleteChatListCell:(NSIndexPath *)indexPath withConversation:(LFCTXConversationModel *)selectedConversation {
- (void)enable:(NSIndexPath *)indexPath nose:(TreasureBbbb *)selectedConversation {

    //: [self.viewModel.deleteChatListCell_Signal sendNext:@[self.tableView,indexPath,selectedConversation]];
    [self.resModel.deleteChatListCell_Signal sendNext:@[self.requestTo,indexPath,selectedConversation]];
}

//: #pragma mark - TableViewDelegate
#pragma mark - TableViewDelegate
//: - (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {
- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView {

    //: return ConversationSection_Count;
    return ConversationSection_Count;
}

//: - (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section {

    //: switch (section) {
    switch (section) {
        //: case ConversationSection_Entry:
        case ConversationSection_Entry:
            //: return self.viewModel.squareArray.count;
            return self.resModel.squareArray.count;
            //: break;
            break;
        //: case ConversationSection_XiaoMi:
        case ConversationSection_XiaoMi:
            //: return (LFCTXIMManager.sharedManager.conversationBank.xiaoMiConModel?1:0);
            return (NameSelect.guess.treat.date?1:0);
            //: break;
            break;
        //: case ConversationSection_Top:
        case ConversationSection_Top:
            //: return self.viewModel.topArr.count;
            return self.resModel.topArr.count;
            //: break;
            break;
        //: case ConversationSection_Nor:
        case ConversationSection_Nor:
            //: return self.viewModel.dataArray.count;
            return self.resModel.dataArray.count;
            //: break;
            break;
        //: default: return 0;
        default: return 0;
            //: break;
            break;
    }

}

//: - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {

    //: if ( indexPath.section == ConversationSection_Nor) {
    if ( indexPath.section == ConversationSection_Nor) {

        //: LFCTXConversationModel * aModel = [self.viewModel conversationModelAt:indexPath];
        TreasureBbbb * aModel = [self.resModel last:indexPath];

        // 在ConversationSection_Nor的section，
        //: if (aModel == LFCTXIMManager.sharedManager.conversationBank.xiaoMiConModel) {
        if (aModel == NameSelect.guess.treat.date) {
            //: return 0; 
            return 0; //
        }

    //: }else if ( indexPath.section == ConversationSection_Top) {
    }else if ( indexPath.section == ConversationSection_Top) {

        //: LFCTXConversationModel * aModel = [self.viewModel conversationModelAt:indexPath];
        TreasureBbbb * aModel = [self.resModel last:indexPath];

        //: if (LFCTXIMManager.sharedManager.isTXIMTopFold && self.viewModel.topArr.count>5 && aModel.unreadCount==0) {
        if (NameSelect.guess.title && self.resModel.topArr.count>5 && aModel.unreadCount==0) {
            //: return 0;
            return 0;
        }
    }

    //: return 76;
    return 76;
}


//: - (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {
- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath {

    //: if (indexPath.section == ConversationSection_Entry) {
    if (indexPath.section == ConversationSection_Entry) {
        //: LFCChatEnterCell* cell = [tableView dequeueReusableCellWithIdentifier:@"LFCChatEnterCell"];
        GrantViewCell* cell = [tableView dequeueReusableCellWithIdentifier:@"GrantViewCell"];
        //: if (indexPath.row < self.viewModel.squareArray.count) {
        if (indexPath.row < self.resModel.squareArray.count) {
            //: CellEnterType type = [self.viewModel.squareArray[indexPath.row] integerValue];
            CellEnterType type = [self.resModel.squareArray[indexPath.row] integerValue];
            //: [cell reloadDataWith:type];
            [cell page:type];
        }
        //: return cell;
        return cell;
    //: }else if (indexPath.section == ConversationSection_Group) {
    }else if (indexPath.section == ConversationSection_Group) {
        //: LFCTXIMChatListCell *cell = [tableView dequeueReusableCellWithIdentifier:[RowBbbb LFCTXIMChatListCellID]];
        MoveViewCell *cell = [tableView dequeueReusableCellWithIdentifier:[RowBbbb fieldUser]];
        //: [cell updateHideFamilyNotify:self.viewModel.hideFamilyNotify];
        [cell bringHome:self.resModel.hideFamilyNotify];
        //: LFCTXConversationModel * model = [self.viewModel conversationModelAt:indexPath];
        TreasureBbbb * model = [self.resModel last:indexPath];
        //: [cell configConversationModel:model];
        [cell receive:model];
        //: __weak __typeof__(self) weakSelf = self;
        __weak __typeof__(self) weakSelf = self;
        //: cell.longTapAction = ^(LFCTXConversationModel * _Nonnull model) {
        cell.handle = ^(TreasureBbbb * _Nonnull model) {
            //: [weakSelf TXHandleLongTap:model];
            [weakSelf likeBbbb:model];
        //: };
        };
        //: return cell;
        return cell;
    //: }else {
    }else {
        //: LFCTXIMChatListCell *cell = [tableView dequeueReusableCellWithIdentifier:[RowBbbb LFCTXIMChatListCellID]];
        MoveViewCell *cell = [tableView dequeueReusableCellWithIdentifier:[RowBbbb fieldUser]];
        //: if (cell == nil) {
        if (cell == nil) {
            //: cell = [[LFCTXIMChatListCell alloc] initWithStyle:UITableViewCellStyleDefault
            cell = [[MoveViewCell alloc] initWithStyle:UITableViewCellStyleDefault
                                                //: reuseIdentifier:[RowBbbb LFCTXIMChatListCellID]];
                                                reuseIdentifier:[RowBbbb fieldUser]];

        }
        //: __weak __typeof__(self) weakSelf = self;
        __weak __typeof__(self) weakSelf = self;
        //: cell.longTapAction = ^(LFCTXConversationModel * _Nonnull model) {
        cell.handle = ^(TreasureBbbb * _Nonnull model) {
            //: [weakSelf handleLongTap:model];
            [weakSelf list:model];
        //: };
        };

        //: LFCTXConversationModel * model = [self.viewModel conversationModelAt:indexPath];
        TreasureBbbb * model = [self.resModel last:indexPath];

        //: if (model) {
        if (model) {
            //: LFCMsgUserInfoCacheWrap *userInfo = [self gettXConversationTargetInfoWith:model.targetId type:model.conversationType];
            RecModel *userInfo = [self quantity:model.targetId nuclearFamily:model.conversationType];
            //: [cell updateHideFamilyNotify:self.viewModel.hideFamilyNotify];
            [cell bringHome:self.resModel.hideFamilyNotify];
            //: if (userInfo) {
            if (userInfo) {
                //: if (model.gj_userInfo == nil ) {
                if (model.gj_userInfo == nil ) {
                    //: model.gj_userInfo = userInfo;
                    model.gj_userInfo = userInfo;
                }
            }
            //: NSDictionary *tempDict = [[LFCTXIMManager sharedManager].conversationBank.userStatusTempDict objectForKey:model.targetId];
            NSDictionary *tempDict = [[NameSelect guess].treat.objectFrom objectForKey:model.targetId];
            //: if (tempDict.count > 0) {
            if (tempDict.count > 0) {
                //: NSInteger onelineStatus = [[tempDict objectForKey:@"onlineStatus"] intValue];
                NSInteger onelineStatus = [[tempDict objectForKey:StringFromAdminWorldData(&k_disappointedTitle)] intValue];
                //: NSInteger userStatus = [[tempDict objectForKey:@"userStatus"] intValue];
                NSInteger userStatus = [[tempDict objectForKey:StringFromAdminWorldData(&k_listAcidValue)] intValue];
                //: model.gj_userInfo.onelineStatus = onelineStatus;
                model.gj_userInfo.digitiser = onelineStatus;
                //: model.gj_userInfo.userStatus = userStatus;
                model.gj_userInfo.userStatus = userStatus;
            }
            //: [cell configConversationModel:model];
            [cell receive:model];
        }
        //: return cell;
        return cell;
    }


}

//: - (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {
- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath {

    //: if (indexPath.section == ConversationSection_Entry) {
    if (indexPath.section == ConversationSection_Entry) {

        CellEnterType type = [self.resModel.squareArray[indexPath.row] integerValue];
        
        if (type == CellEnterType_ChatRoom) {
            //: LFCChatRoomPlazaModel* model = [LFCSocialChatManager sharedGiftManager].localGroupInfo.plaza;
            AtPossibilityTarget* model = [ColorBbbb info].attentionRespBbbb.plaza;

            //: if (model.onlyOneRoomId > 0) {
            if (model.onlyOneRoomId > 0) {

                //: [[AppManager sharedAppManager] func__TXChatToGroupID:model.onlyOneRoomId info:nil];
                [[PlayColorBbbb size] live:model.onlyOneRoomId stochasticProcess:nil];

            //: }else{
            }else{

                //: LFCChatRoomListViewController* vc = [LFCChatRoomListViewController new];
                EyeglassesViewController* vc = [EyeglassesViewController new];
                //: [self.navigationController pushViewController:vc animated:YES];
                [self.navigationController pushViewController:vc animated:YES];
            }
        }else{
            //: if ([AppManager sharedAppManager].loginUser.fid > 0) {
            if ([PlayColorBbbb size].file.fid > 0) {

                //: LFCFamilyDetailController *detail = [[LFCFamilyDetailController alloc]initWithFamilyId:[AppManager sharedAppManager].loginUser.fid];
                PenningViewController *detail = [[PenningViewController alloc]initWithRecId:[PlayColorBbbb size].file.fid];
                //: [self.navigationController pushViewController:detail animated:YES];
                [self.navigationController pushViewController:detail animated:YES];
            //: }else{
            }else{
                //: LFCFamilySquareController *vc = [LFCFamilySquareController new];
                MenageATroisViewController *vc = [MenageATroisViewController new];
                //: [self.navigationController pushViewController:vc animated:YES];
                [self.navigationController pushViewController:vc animated:YES];
            }
        }
        return;
    }
    //: LFCTXConversationModel * model = [self.viewModel conversationModelAt:indexPath];
    TreasureBbbb * model = [self.resModel last:indexPath];
    //: if (model == nil) {
    if (model == nil) {
        //: return;
        return;
    }

    //: NSInteger targetUid = model.targetId.integerValue;
    NSInteger targetUid = model.targetId.integerValue;
    //系统
    //: if (model.conversationType == TXConversation_System) {
    if (model.conversationType == TXConversation_System) {

        //: LFCMsgUserInfoCacheWrap *userInfo = [self gettXConversationTargetInfoWith:model.targetId
        RecModel *userInfo = [self quantity:model.targetId
                                                                          //: type:model.conversationType];
                                                                          nuclearFamily:model.conversationType];
        //: [[AppManager sharedAppManager] func__TXChatToSystemUserID:targetUid
        [[PlayColorBbbb size] request:targetUid
                                             //: fromViewController:self
                                             fromPhoto:self
                                                    //: userInfoDic:userInfo.toDictionary];
                                                    terminal:userInfo.toDictionary];
    }
    //私信
    //: else if (model.conversationType == TXConversation_Private){
    else if (model.conversationType == TXConversation_Private){
        //: [self func__handleDidSelectPriveteConversationWith:model targetUid:targetUid];
        [self app:model mic:targetUid];
    //: } else if (model.conversationType == TXConversation_Group){
    } else if (model.conversationType == TXConversation_Group){
        //群聊
        //: NSDictionary* params = @{@"roomId":model.targetId};
        NSDictionary* params = @{StringFromAdminWorldData(&k_executiveSumelValue):model.targetId};
        //: if ([LFCSocialChatManager sharedGiftManager].localGroupInfo.family.name) {
        if ([ColorBbbb info].attentionRespBbbb.family.name) {
            //: params = @{@"roomId": model.targetId,
            params = @{StringFromAdminWorldData(&k_executiveSumelValue): model.targetId,
                       //: @"name"  : [LFCSocialChatManager sharedGiftManager].localGroupInfo.family.name};
                       StringFromAdminWorldData(&k_positData) : [ColorBbbb info].attentionRespBbbb.family.name};
        }
        //: [[AppManager sharedAppManager] func__TXChatToGroupID:[model.groupID integerValue] info:params];
        [[PlayColorBbbb size] live:[model.groupID integerValue] stochasticProcess:params];
    }

}
//: - (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
- (CGFloat)tableView:(UITableView *)tableView heightForFooterInSection:(NSInteger)section{
    //: if (section == ConversationSection_Top && self.viewModel.topArr.count > 5) {
    if (section == ConversationSection_Top && self.resModel.topArr.count > 5) {
        //: return 33;
        return 33;
    }
    //: return 0;
    return 0;
}
//: - (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
- (UIView *)tableView:(UITableView *)tableView viewForFooterInSection:(NSInteger)section{
    //: UIControl *footView = [[UIControl alloc] init];
    UIControl *footView = [[UIControl alloc] init];
    //: footView.backgroundColor = UIColorHex(#EEEEEE);
    footView.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#EEEEEE"))];
    //: if (section == ConversationSection_Top && self.viewModel.topArr.count > 5) {
    if (section == ConversationSection_Top && self.resModel.topArr.count > 5) {
        //: footView.frame = CGRectMake(0, 0, screenWidth(), 33);
        footView.frame = CGRectMake(0, 0, screenWidth(), 33);
        //: [footView addTarget:self action:@selector(topConVersationOpenAction:) forControlEvents:UIControlEventTouchUpInside];
        [footView addTarget:self action:@selector(youed:) forControlEvents:UIControlEventTouchUpInside];
        //: UIImageView *iconView = [[UIImageView alloc] initWithFrame:CGRectMake(36, 7, 18, 18)];
        UIImageView *iconView = [[UIImageView alloc] initWithFrame:CGRectMake(36, 7, 18, 18)];
        //: iconView.image = [UserTextImage imageNamed:@"icon_message_fold"];
        iconView.image = [UserTextImage imageNamed:StringFromAdminWorldData(&k_walkingGrayTitle)];
        //: [footView addSubview:iconView];
        [footView addSubview:iconView];

        //: UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(85, 0, screenWidth()-120, footView.height)];
        UILabel *label = [[UILabel alloc] initWithFrame:CGRectMake(85, 0, screenWidth()-120, footView.height)];
        //: label.font = [UIFont PingFangFontWithType:PFSCTypeRegular fontSize:15];
        label.font = [UIFont underbelly:PFSCTypeRegular substance:15];
        //: label.textColor = [ShowColor appTextValeColor];
        label.textColor = [ShowColor table];
        //: [footView addSubview:label];
        [footView addSubview:label];

        //: UIImageView *arrowView = [[UIImageView alloc] initWithFrame:CGRectMake(footView.width-23, 12, 13,8)];
        UIImageView *arrowView = [[UIImageView alloc] initWithFrame:CGRectMake(footView.width-23, 12, 13,8)];
        //: arrowView.image = [UserTextImage imageNamed:@"taskList_open_icon"];
        arrowView.image = [UserTextImage imageNamed:StringFromAdminWorldData(&kModelDoingdName)];
        //: [footView addSubview:arrowView];
        [footView addSubview:arrowView];

        //: if (LFCTXIMManager.sharedManager.isTXIMTopFold) {
        if (NameSelect.guess.title) {
            //: label.text = [NSString stringWithFormat:@"%d个置顶聊天",[self numOfTopConversationFoldCount]];
            label.text = [NSString stringWithFormat:StringFromAdminWorldData(&k_preventionAbroadValue),[self data]];
            //: arrowView.image = [UserTextImage imageNamed:@"btn_message_fold_openup"];
            arrowView.image = [UserTextImage imageNamed:StringFromAdminWorldData(&k_findText)];
        //: }else{
        }else{
            //: label.text = @"折叠置顶聊天";
            label.text = StringFromAdminWorldData(&k_dominateSilkValue);
            //: arrowView.image = [UserTextImage imageNamed:@"btn_message_fold_packup"];
            arrowView.image = [UserTextImage imageNamed:StringFromAdminWorldData(&k_punchName)];
        }
    //: }else{
    }else{
        //: footView.frame = CGRectMake(0, 0, screenWidth(), 0);
        footView.frame = CGRectMake(0, 0, screenWidth(), 0);
    }
    //: return footView;
    return footView;
}
//: - (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {
- (BOOL)tableView:(UITableView *)tableView canEditRowAtIndexPath:(NSIndexPath *)indexPath {

    //: switch (indexPath.section) {
    switch (indexPath.section) {
        //: case ConversationSection_Entry:
        case ConversationSection_Entry:
            //: return NO;
            return NO;
            //: break;
            break;
        //: case ConversationSection_XiaoMi:
        case ConversationSection_XiaoMi:
            //: return YES;
            return YES;
            //: break;
            break;
        //: case ConversationSection_Top:
        case ConversationSection_Top:
            //: return YES;
            return YES;
            //: break;
            break;

        //: case ConversationSection_Nor:
        case ConversationSection_Nor:
            //: return YES;
            return YES;
            //: break;
            break;

        //: default: return NO;
        default: return NO;
            //: break;
            break;
    }

    //: return YES;
    return YES;
}

// iOS 11以前版本
//: - (nullable NSArray<UITableViewRowAction *> *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(8.0)) {
- (nullable NSArray<UITableViewRowAction *> *)tableView:(UITableView *)tableView editActionsForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(8.0)) {

    //: if (!self.viewModel.reloadFinish) {
    if (!self.resModel.reloadFinish) {
        //: return nil;
        return nil;
    }

    //: LFCTXConversationModel * conversationModel = [self.viewModel conversationModelAt:indexPath];
    TreasureBbbb * conversationModel = [self.resModel last:indexPath];
    //: if (conversationModel == nil) {
    if (conversationModel == nil) {
        //: return nil;
        return nil;
    }

    //: UITableViewRowAction *deleteRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:@"删除" handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
    UITableViewRowAction *deleteRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:StringFromAdminWorldData(&kBoxSlapData) handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {

        //: [self func__deleteChatListCell:indexPath withConversation:conversationModel];
        [self enable:indexPath nose:conversationModel];
    //: }];
    }];
    //: deleteRowAction.backgroundColor = UIColorHex(#FF506D);
    deleteRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#FF506D"))];

    //: NSString *title = (conversationModel.isTop ? @"取消置顶" : @"置顶");
    NSString *title = (conversationModel.isTop ? StringFromAdminWorldData(&kInsertTitle) : StringFromAdminWorldData(&k_objectRequestName));
    //: UITableViewRowAction *topRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:title handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
    UITableViewRowAction *topRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:title handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
        //: [self.viewModel.conversationToTop_Signal sendNext:@[self.tableView,conversationModel,[NSString stringWithFormat:@"%d",self.tableBottomInset]]];
        [self.resModel.conversationToTop_Signal sendNext:@[self.requestTo,conversationModel,[NSString stringWithFormat:@"%d",self.tableRank]]];

    //: }];
    }];

    //: topRowAction.backgroundColor = UIColorHex(#C8C8C8);
    topRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#C8C8C8"))];

    //: BOOL intimacyList = [[LFCTXIMManager sharedManager].conversationBank checkIntimacyInList:conversationModel.targetId];
    BOOL intimacyList = [[NameSelect guess].treat view:conversationModel.targetId];
    //: NSString *intimacyTitle = intimacyList?@"取消密友":@"设为密友";
    NSString *intimacyTitle = intimacyList?StringFromAdminWorldData(&k_socialPermitValue):StringFromAdminWorldData(&k_weekNonethelessName);
    //: UITableViewRowAction *intimacyRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:intimacyTitle handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
    UITableViewRowAction *intimacyRowAction = [UITableViewRowAction rowActionWithStyle:UITableViewRowActionStyleNormal title:intimacyTitle handler:^(UITableViewRowAction * _Nonnull action, NSIndexPath * _Nonnull indexPath) {
        //: if (intimacyList) {
        if (intimacyList) {
            //: [[LFCTXIMManager sharedManager].conversationBank removeIntimacyConversation:conversationModel.targetId];
            [[NameSelect guess].treat equalSignalVoice:conversationModel.targetId];
        //: }else{
        }else{
            //: [[LFCTXIMManager sharedManager].conversationBank addIntimacyWithConversation:conversationModel insertTop:NO isAuto:NO];
            [[NameSelect guess].treat conversationUser:conversationModel angelGift:NO info:NO];
        }
        //: [[LFCTXIMManager sharedManager].conversationBank func__setIntimacyListCp];
        [[NameSelect guess].treat speedOfLight];
        //: [LFCMsgConversationCacheManager func__updateUseIntimacyFlag:conversationModel.targetId.integerValue withFlag:intimacyList?1:2];
        [AccountBbbb key:conversationModel.targetId.integerValue startBbbb:intimacyList?1:2];
        //: self.tableView.editing = NO;
        self.requestTo.editing = NO;
        //: [self showStatusBarMessageStr:intimacyList?@"已取消密友":@"已设置为密友"];
        [self equivalence:intimacyList?StringFromAdminWorldData(&k_efficiencyTotName):StringFromAdminWorldData(&k_abroadData)];

    //: }];
    }];

    //: intimacyRowAction.backgroundColor = UIColorHex(#4D94FF);
    intimacyRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#4D94FF"))];
    //: NSArray *actions = nil;
    NSArray *actions = nil;
    //: if (conversationModel.conversationType == TXConversation_System){
    if (conversationModel.conversationType == TXConversation_System){
        //: actions = @[deleteRowAction];
        actions = @[deleteRowAction];
    //: } else {
    } else {
        //: actions = @[deleteRowAction,topRowAction,intimacyRowAction];
        actions = @[deleteRowAction,topRowAction,intimacyRowAction];
    }

    //: return actions;
    return actions;
}
// iOS 11及以后版本
//: - (nullable UISwipeActionsConfiguration *)tableView:(UITableView *)tableView trailingSwipeActionsConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(11.0)) {
- (nullable UISwipeActionsConfiguration *)tableView:(UITableView *)tableView trailingSwipeActionsConfigurationForRowAtIndexPath:(NSIndexPath *)indexPath API_AVAILABLE(ios(11.0)) {

    //: if (!self.viewModel.reloadFinish) {
    if (!self.resModel.reloadFinish) {
        //: return nil;
        return nil;
    }
    //: LFCTXConversationModel * conversationModel = [self.viewModel conversationModelAt:indexPath];
    TreasureBbbb * conversationModel = [self.resModel last:indexPath];
    //: if (conversationModel == nil) {
    if (conversationModel == nil) {
        //: return nil;
        return nil;
    }
    //: UIContextualAction *deleteRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:@"删除" handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
    UIContextualAction *deleteRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:StringFromAdminWorldData(&kBoxSlapData) handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
        //: [self func__deleteChatListCell:indexPath withConversation:conversationModel];
        [self enable:indexPath nose:conversationModel];
    //: }];
    }];

    //: deleteRowAction.backgroundColor = UIColorHex(#FF506D);
    deleteRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#FF506D"))];

    //: NSString *title = conversationModel.isTop ? @"取消置顶" : @"置顶";
    NSString *title = conversationModel.isTop ? StringFromAdminWorldData(&kInsertTitle) : StringFromAdminWorldData(&k_objectRequestName);
    //: UIContextualAction *topRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:title handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
    UIContextualAction *topRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:title handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
        //: [self.viewModel.conversationToTop_Signal sendNext:@[self.tableView,conversationModel,[NSString stringWithFormat:@"%d",self.tableBottomInset]]];
        [self.resModel.conversationToTop_Signal sendNext:@[self.requestTo,conversationModel,[NSString stringWithFormat:@"%d",self.tableRank]]];
    //: }];
    }];

    //: topRowAction.backgroundColor = UIColorHex(#FF9D00);
    topRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#FF9D00"))];

    //: BOOL intimacyList = [[LFCTXIMManager sharedManager].conversationBank checkIntimacyInList:conversationModel.targetId];
    BOOL intimacyList = [[NameSelect guess].treat view:conversationModel.targetId];
    //: NSString *intimacyTitle = intimacyList?@"取消密友":@"设为密友";
    NSString *intimacyTitle = intimacyList?StringFromAdminWorldData(&k_socialPermitValue):StringFromAdminWorldData(&k_weekNonethelessName);
    //: UIContextualAction *intimacyRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:intimacyTitle handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
    UIContextualAction *intimacyRowAction = [UIContextualAction contextualActionWithStyle:(UIContextualActionStyleNormal) title:intimacyTitle handler:^(UIContextualAction * _Nonnull action, __kindof UIView * _Nonnull sourceView, void (^ _Nonnull completionHandler)(BOOL)) {
        //: if (intimacyList) {
        if (intimacyList) {
            //: [[LFCTXIMManager sharedManager].conversationBank removeIntimacyConversation:conversationModel.targetId];
            [[NameSelect guess].treat equalSignalVoice:conversationModel.targetId];
        //: }else{
        }else{
            //: [[LFCTXIMManager sharedManager].conversationBank addIntimacyWithConversation:conversationModel insertTop:NO isAuto:NO];
            [[NameSelect guess].treat conversationUser:conversationModel angelGift:NO info:NO];
        }
        //: [[LFCTXIMManager sharedManager].conversationBank func__setIntimacyListCp];
        [[NameSelect guess].treat speedOfLight];
        //: [LFCMsgConversationCacheManager func__updateUseIntimacyFlag:conversationModel.targetId.integerValue withFlag:intimacyList?1:2];
        [AccountBbbb key:conversationModel.targetId.integerValue startBbbb:intimacyList?1:2];
        //: self.tableView.editing = NO;
        self.requestTo.editing = NO;
        //: [self showStatusBarMessageStr:intimacyList?@"已取消密友":@"已设置为密友"];
        [self equivalence:intimacyList?StringFromAdminWorldData(&k_efficiencyTotName):StringFromAdminWorldData(&k_abroadData)];
    //: }];
    }];
    //: intimacyRowAction.backgroundColor = UIColorHex(#4D94FF);
    intimacyRowAction.backgroundColor = [UIColor colorWithHexString:((__bridge NSString *)CFSTR("#4D94FF"))];

    //: NSArray *actions = nil;
    NSArray *actions = nil;
    //: if (conversationModel.conversationType == TXConversation_System){
    if (conversationModel.conversationType == TXConversation_System){
        //: actions = @[deleteRowAction];
        actions = @[deleteRowAction];
    //: } else {
    } else {
        //: actions = @[deleteRowAction,topRowAction,intimacyRowAction];
        actions = @[deleteRowAction,topRowAction,intimacyRowAction];
    }
    //: UISwipeActionsConfiguration *config = [UISwipeActionsConfiguration configurationWithActions:actions];
    UISwipeActionsConfiguration *config = [UISwipeActionsConfiguration configurationWithActions:actions];
    //: config.performsFirstActionWithFullSwipe = NO;
    config.performsFirstActionWithFullSwipe = NO;
    //: return config;
    return config;
}
- (void)setTableRank:(CGFloat)tableRank{
    //: _tableBottomInset = tableBottomInset;
    _tableRank = tableRank;
    //: if (self.viewModel.topArr.count>5) {
    if (self.resModel.topArr.count>5) {
        //: self.tableView.contentInset = UIEdgeInsetsMake(0, 0, _tableBottomInset,0);
        self.requestTo.contentInset = UIEdgeInsetsMake(0, 0, _tableRank,0);
    }
}
//: #pragma mark - HZActionSheetDelegate
#pragma mark - HeadIdentity
//: - (void)actionSheet:(HZActionSheet *)actionSheet clickedButtonAtIndex:(NSInteger)buttonIndex {
- (void)expanse:(SheetControl *)actionSheet stage:(NSInteger)buttonIndex {

    //: NSString* title = [actionSheet gettitleWith:buttonIndex];
    NSString* title = [actionSheet receive:buttonIndex];

    //: if ([title isEqualToString:@"删除所有对话"]) {
    if ([title isEqualToString:StringFromAdminWorldData(&k_residentData)]) {
        //: [self.viewModel.removeAllConversation_Signal sendNext:@[self.tableView]];
        [self.resModel.removeAllConversation_Signal sendNext:@[self.requestTo]];

    //: } else if ([title isEqualToString:@"所有对话标为已读"]){
    } else if ([title isEqualToString:StringFromAdminWorldData(&k_succeedPunchData)]){
        //: [self.viewModel.ignoreUnread_Signal sendNext:@[self.tableView,self.tabBarController]];
        [self.resModel.ignoreUnread_Signal sendNext:@[self.requestTo,self.tabBarController]];
    //: }else if ([title isEqualToString:@"家族对话免打扰"]){
    }else if ([title isEqualToString:StringFromAdminWorldData(&k_demographicName)]){
        //: [self requestNoDisturb:YES];
        [self view:YES];

    //: }else if ([title isEqualToString:@"取消家族对话免打扰"]){
    }else if ([title isEqualToString:StringFromAdminWorldData(&kMuseumText)]){
        //: [self requestNoDisturb:NO];
        [self view:NO];
    }

}

//: - (void)requestNoDisturb:(BOOL)noDisturb{
- (void)view:(BOOL)noDisturb{

    //: [LFCUserNetHelper func__requestSetConfigWith:@{@"type":@"family_notify",
    [PersonWritingAttentionBbbb managerCompletion:@{StringFromAdminWorldData(&kIssueText):StringFromAdminWorldData(&k_alienEffortTitle),
                                                      //: @"value":noDisturb?@"1":@"0"} completion:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
                                                      StringFromAdminWorldData(&kAheadValue):noDisturb?@"1":@"0"} head:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
        //: if (error) {
        if (error) {
            //: [self showStatusBarError:error];
            [self user:error];
            //: return;
            return;
        }

        //: [AppManager sharedAppManager].loginUser.hideFamilyNotify = noDisturb?1:0;
        [PlayColorBbbb size].file.hideFamilyNotify = noDisturb?1:0;

        //: self.viewModel.hideFamilyNotify = noDisturb;
        self.resModel.hideFamilyNotify = noDisturb;

        //: [self reloadData];
        [self limitItem];

    //: }];
    }];

}


//: #pragma mark - lazy init
#pragma mark - lazy init

//: - (UITableView*)tableView {
- (UITableView*)requestTo {

    //: if (!_tableView) {
    if (!_tableView) {
        //: [super tableView];
        [super requestTo];
        //: _tableView.delegate   = self;
        _tableView.delegate = self;
        //: _tableView.dataSource = self;
        _tableView.dataSource = self;
        //: [_tableView registerClass:[LFCTXIMChatListCell class] forCellReuseIdentifier:[RowBbbb LFCTXIMChatListCellID]];
        [_tableView registerClass:[MoveViewCell class] forCellReuseIdentifier:[RowBbbb fieldUser]];
        //: [_tableView registerClass:[LFCChatEnterCell class] forCellReuseIdentifier:@"LFCChatEnterCell"];
        [_tableView registerClass:[GrantViewCell class] forCellReuseIdentifier:@"GrantViewCell"];
        //: MJRefreshAutoNormalFooter *footer = [MJRefreshAutoNormalFooter footerWithRefreshingTarget:self refreshingAction:@selector(func__getConversationListMore)];
        MJRefreshAutoNormalFooter *footer = [MJRefreshAutoNormalFooter footerWithRefreshingTarget:self refreshingAction:@selector(listMobile)];
        //: _tableView.mj_footer=footer;
        _tableView.mj_footer=footer;
    }
    //: return _tableView;
    return _tableView;
}



//: @end
@end


Byte *AdminWorldDataToByte(ReceiveNameData *data) {
    if (data->objectHotel) return data->cycleDust;
    for (int i = 0; i < data->judge; i++) {
        data->cycleDust[i] ^= data->valueLassSettingStraw;
    }
    data->cycleDust[data->judge] = 0;
    data->objectHotel = true;
	if (data->judge >= 1) {
		data->loopMessage = data->cycleDust[0];
	}
    return data->cycleDust;
}

NSString *StringFromAdminWorldData(ReceiveNameData *data) {
    return [NSString stringWithUTF8String:(char *)AdminWorldDataToByte(data)];
}
