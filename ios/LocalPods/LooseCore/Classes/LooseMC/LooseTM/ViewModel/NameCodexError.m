
#import <Foundation/Foundation.h>

NSString *StringFromSmokeData(Byte *data);



Byte kGasolineData[] = {16, 128, 4, 215, 155, 188, 239, 157, 175, 232, 185, 175, 229, 132, 154, 231, 164, 153, 233, 160, 136, 229, 178, 183, 229, 176, 136, 229, 162, 180, 231, 156, 144, 230, 149, 179, 230, 160, 151, 230, 162, 180, 231, 156, 144, 230, 175, 129, 230, 136, 182, 230, 10, 155, 188, 239, 157, 175, 232, 185, 175, 229, 137, 156, 230, 128, 137, 230, 132, 154, 231, 150, 164, 229, 175, 129, 230, 136, 182, 230, 182, 161, 233, 174, 189, 231, 164, 153, 233, 160, 136, 229, 10, 149, 189, 229, 176, 174, 232, 169, 164, 229, 138, 129, 232, 137, 156, 230, 128, 137, 230, 132, 154, 231, 171, 144, 229, 133, 140, 229, 164, 153, 233, 160, 136, 229, 165, 173, 230, 140, 144, 229, 23};



Byte kAgingSaveName[] = {16, 3, 8, 101, 210, 69, 128, 197, 100, 105, 117, 124};



Byte k_segmentName[] = {1, 10, 9, 22, 91, 140, 13, 226, 49, 115, 117, 116, 97, 116, 83, 114, 101, 115, 117, 30};



Byte k_neverthelessValue[] = {99, 17, 4, 182, 39, 100, 108, 37, 39, 32, 61, 61, 32, 100, 73, 116, 101, 103, 114, 97, 116, 151};



Byte k_vivoBodData[] = {67, 102, 5, 162, 79, 159, 188, 239, 151, 144, 229, 157, 175, 232, 185, 175, 229, 165, 175, 232, 164, 153, 233, 160, 136, 229, 129, 166, 232, 154, 174, 229, 174, 161, 231, 140, 188, 239, 149, 189, 229, 176, 174, 232, 169, 164, 229, 138, 129, 232, 168, 131, 233, 168, 133, 229, 132, 154, 231, 171, 144, 229, 133, 140, 229, 128, 137, 230, 157, 175, 232, 185, 175, 229, 165, 175, 232, 164, 153, 233, 160, 136, 229, 165, 173, 230, 140, 144, 229, 134, 176, 229, 142, 144, 229, 157, 175, 232, 185, 175, 229, 164, 153, 233, 160, 136, 229, 19};



Byte kShoeResignTitle[] = {41, 190, 9, 205, 68, 125, 234, 4, 17, 159, 188, 239, 151, 144, 229, 157, 175, 232, 185, 175, 229, 137, 156, 230, 128, 137, 230, 164, 153, 233, 160, 136, 229, 129, 166, 232, 154, 174, 229, 174, 161, 231, 10, 155, 188, 239, 157, 175, 232, 185, 175, 229, 132, 154, 231, 164, 153, 233, 160, 136, 229, 178, 183, 229, 176, 136, 229, 162, 180, 231, 156, 144, 230, 149, 179, 230, 160, 151, 230, 162, 180, 231, 156, 144, 230, 175, 129, 230, 136, 182, 230, 10, 155, 188, 239, 157, 175, 232, 185, 175, 229, 137, 156, 230, 128, 137, 230, 132, 154, 231, 150, 164, 229, 175, 129, 230, 136, 182, 230, 182, 161, 233, 174, 189, 231, 164, 153, 233, 160, 136, 229, 10, 149, 189, 229, 176, 174, 232, 169, 164, 229, 138, 129, 232, 137, 156, 230, 128, 137, 230, 132, 154, 231, 171, 144, 229, 133, 140, 229, 164, 153, 233, 160, 136, 229, 165, 173, 230, 140, 144, 229, 10, 154, 188, 239, 154, 188, 228, 134, 176, 229, 157, 175, 232, 185, 175, 229, 137, 156, 230, 128, 137, 230, 164, 153, 233, 160, 136, 229, 207};



Byte kTotVideoTitle[] = {64, 30, 4, 208, 182, 161, 233, 174, 189, 231, 161, 157, 230, 100, 108, 37, 174, 189, 231, 190, 174, 232, 182, 151, 230, 140, 144, 229, 154, 164, 229, 128, 156, 230, 96};



Byte kAheadText[] = {6, 51, 8, 114, 236, 143, 238, 23, 149, 189, 229, 176, 174, 232, 169, 164, 229, 138, 129, 232, 168, 131, 233, 168, 133, 229, 132, 154, 231, 171, 144, 229, 133, 140, 229, 128, 137, 230, 157, 175, 232, 185, 175, 229, 165, 175, 232, 164, 153, 233, 160, 136, 229, 165, 173, 230, 140, 144, 229, 39};



Byte k_gearData[] = {33, 6, 8, 186, 175, 51, 176, 158, 136, 182, 230, 150, 143, 229, 208};



Byte kGirlContent[] = {19, 6, 9, 19, 197, 145, 33, 84, 20, 164, 153, 233, 160, 136, 229, 183};



Byte k_companyValue[] = {75, 12, 6, 230, 64, 214, 159, 138, 229, 144, 136, 230, 164, 153, 233, 160, 136, 229, 14};



Byte k_countPermitName[] = {77, 12, 4, 160, 115, 117, 116, 97, 116, 83, 101, 110, 105, 108, 110, 111, 192};



















#import "NameCodexError.h"
#import "ModelBaseBbbb.h"
#import "ReplacementBaseBbbb.h"
#import "TvReceive.h"
#import "GrantViewCell.h"
#import "ColorBbbb.h"

@interface NameCodexError ()<ToBbbb>


@end


@implementation NameCodexError


- (instancetype)init {
    
    if (self = [super init]) {
        
        [self finish];
    }
    
    return self;
}

- (void)finish {

    
    _canLoadMore = YES;
    
    _reloadFinish = YES;
    
    _topArr = NameSelect.guess.treat.criminalize;
    
    _squareArray = [NSMutableArray array];

    
    self.dataArray = NameSelect.guess.treat.quadrateBbbb; 
    
    
    [NameSelect.guess can:self];



}



#pragma mark -获取用户在线封号状态



- (void)message:(UITableView*)tableView {

    
    if (self.isUserStatusRequest) {
        
        return;
    }
    
    NSMutableArray* data = [NSMutableArray array];

    
    for (TreasureBbbb*model in self.topArr ) {
        
        if (model.userID.length>0) {
            
            [data addObject:model.userID];
        }
    }
    
    for (TreasureBbbb*model in self.dataArray ) {
        
        if (model.userID.length>0) {
            
            [data addObject:model.userID];
        }
    }
    
    self.indexData = self.dataArray.count-1;
    
    if (data.count<=0) {
        
        self.isUserStatusRequest = NO;
        
        [tableView.mj_header endRefreshing];
        
        return;
    }
    
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    
    [AccountBbbb hideGroup:data quantityervalData:^(NSArray *resultDic, NSError *error) {
        
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        
        self.isUserStatusRequest = NO;
        
        [tableView.mj_header endRefreshing];

        
        NSMutableArray* tempM = [self.dataArray mutableCopy];
        
        NSMutableArray* tempMTop = [self.topArr mutableCopy];
        
        NSArray* tempData = resultDic;

        
        if (tempData.count <=0) {
            
            [tempMTop enumerateObjectsUsingBlock:^(TreasureBbbb * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
                
                obj.gj_userInfo.digitiser = 0;
                
                [tempMTop replaceObjectAtIndex:idx withObject:obj];
            
            }];

            
            [tempM enumerateObjectsUsingBlock:^(TreasureBbbb * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
                
                obj.gj_userInfo.digitiser = 0;
                
                [tempM replaceObjectAtIndex:idx withObject:obj];
            
            }];

        }
        
        [tempData enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
            
            NSDictionary* dict = obj;
            
            NSString* uid = [NSString stringWithFormat:dict[StringFromSmokeData(kAgingSaveName)]];

            
            [[NameSelect guess].treat addOpenWithStreetSmart:dict userVoice:uid];;

            
            [tempMTop enumerateObjectsUsingBlock:^(TreasureBbbb * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {

                
                if ([uid isEqualToString:obj.userID]) {
                    
                    NSInteger onelineStatus = [[dict objectForKey:StringFromSmokeData(k_countPermitName)] intValue];
                    
                    NSInteger userStatus = [[dict objectForKey:StringFromSmokeData(k_segmentName)] intValue];
                    
                    obj.gj_userInfo.digitiser = onelineStatus;
                    
                    obj.gj_userInfo.userStatus = userStatus;
                    
                    [tempMTop replaceObjectAtIndex:idx withObject:obj];
                }
            
            }];

            
            [tempM enumerateObjectsUsingBlock:^(TreasureBbbb * _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {

                
                if ([uid isEqualToString:obj.userID]) {
                    
                    NSInteger onelineStatus = [[dict objectForKey:StringFromSmokeData(k_countPermitName)] intValue];
                    
                    NSInteger userStatus = [[dict objectForKey:StringFromSmokeData(k_segmentName)] intValue];
                    
                    obj.gj_userInfo.digitiser = onelineStatus;
                    
                    obj.gj_userInfo.userStatus = userStatus;
                    
                    [tempM replaceObjectAtIndex:idx withObject:obj];

                }
            
            }];
        
        }];
        
        self.dataArray = [tempM copy];
        
        self.topArr = [tempMTop copy];

        
        [WritingGrantBbbb of:^{
            
            [tableView reloadData];
        
        }];


    
    }];
    
    self.isUserStatusRequest = YES;
}


#pragma mark -上拉获取用户最新状态


- (void)action:(UITableView*)tableView {

    
    if (self.isUserStatusRequest) {
        
        return;
    }
    
    NSMutableArray* data = [NSMutableArray array];
    
    NSInteger index = self.indexData<self.dataArray.count ? self.indexData : 0 ;
    
    for (; index< self.dataArray.count; index++) {
        
        TreasureBbbb*model = self.dataArray[index];
        
        if (model.userID.length>0) {
            
            [data addObject:model.userID];
        }
    }
    
    if (data.count<=0) {
        
        return;
    }
    
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    
    [AccountBbbb hideGroup:data quantityervalData:^(NSArray *resultDic, NSError *error) {
        
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        
        self.isUserStatusRequest = NO;

        
        if (error) {
            
            return ;
        }
        
        NSArray* data = resultDic;
        
        NSMutableArray* tempM = [self.dataArray mutableCopy];

        
        for (NSDictionary* dict in data) {
            
            NSString* uid = [NSString stringWithFormat:dict[StringFromSmokeData(kAgingSaveName)]];
            
            NSInteger i = self.indexData<self.dataArray.count ? self.indexData : 0 ;
            
            for (; i<self.dataArray.count ;i++ ) {

                
                TreasureBbbb*model = self.dataArray[i];
                
                if ([uid isEqualToString:model.userID]) {
                    
                    NSInteger onelineStatus = [[dict objectForKey:StringFromSmokeData(k_countPermitName)] intValue];
                    
                    NSInteger userStatus = [[dict objectForKey:StringFromSmokeData(k_segmentName)] intValue];
                    
                    model.gj_userInfo.digitiser = onelineStatus;
                    
                    model.gj_userInfo.userStatus = userStatus;
                    
                    [tempM replaceObjectAtIndex:i withObject:model];
                }
            }
        }
        
        self.indexData = self.dataArray.count-1;
        
        self.dataArray = [tempM copy];

        
        [tableView reloadData];
    
    }];

    
    self.isUserStatusRequest = YES;
}


#pragma mark - 收到会话列表更新消息IMProtocol


- (void)conversation:(NameSelect *)manager head:(NSArray *)list{

    
    self.dataArray = NameSelect.guess.treat.quadrateBbbb; 
    
    self.topArr = NameSelect.guess.treat.criminalize; 
    
    [self field:list];
}


#pragma mark - 过滤增量会话


- (void)field:(NSArray<TreasureBbbb *>*)newConversationArray {

    
    if (newConversationArray.count == 0) {
        
        [self.didUpdateDataArray_Signal sendNext:@""];
        
        return;
    }

    
    
    if (newConversationArray.count > 0) {
        
        [self exceptToShow:newConversationArray];
    }
    
    [self.didUpdateDataArray_Signal sendNext:@""];

}


#pragma mark -根据用户uid获取信息

- (void)exceptToShow:(NSArray<TreasureBbbb *>*)modelArr {

    
    NSMutableArray *tmpArr = [NSMutableArray arrayWithCapacity:modelArr.count];
    
    NSInteger xiaoId = [ExamineColorBbbb clearBbbb].integerValue;

    
    TreasureBbbb *tmpConModel = NameSelect.guess.treat.date;

    
    for (TreasureBbbb *aConModel in modelArr) {

        
        
        BOOL validType = ( aConModel.conversationType == TXConversation_Private
                           
                           || aConModel.conversationType == TXConversation_System);
        
        if (!validType) {
            
            continue;
        }

        
        NSInteger targetId = aConModel.targetId.integerValue;

        
        
        if (targetId == xiaoId) {
            
            if (tmpConModel && tmpConModel.little) {
                
                continue; 
            }
        }

        
        [tmpArr addObject:@(targetId).description];
    }

    
    
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    
    [AccountBbbb deviceTask:tmpArr thrust:YES tip:NO item:^(NSArray * _Nonnull resultArr, NSError *error) {

        
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        
        if (error) {
            
            [self user:error];
            
            return ;
        }

        
        [WritingGrantBbbb of:^{
            
            [self.reloadData_Signal sendNext:@""];
        
        }];
    
    }];

}



#pragma mark - 删除全部

- (void)who:(UITableView*)tableView{

    
    if ([[NameSelect guess] likeBy]) {
        
        return;
    }
    
    [MBProgressHUD showHUDAddedTo:[UIApplication sharedApplication].keyWindow animated:YES];

    
    [[ReplacementBaseBbbb titleWith] picIn];

    
    dispatch_async(dispatch_get_global_queue(0, 0), ^{
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        [[NameSelect guess] pair:^{
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            self.canLoadMore = YES;

            
            dispatch_async(dispatch_get_main_queue(), ^{
                
                [self can:tableView];
                
                [MBProgressHUD hideHUDForView:[UIApplication sharedApplication].keyWindow animated:YES];
                
                [self remark:StringFromSmokeData(k_companyValue)];

            
            });

        
        }];
    
    });

}


- (void)can:(UITableView*)tableView {
    
    dispatch_after(dispatch_time((0ull), (int64_t)(.5 * 1000000000ull)), dispatch_get_main_queue(), ^{
        
        [self.getconverCom_Signal execute:@[tableView]];
    
    });
    
    dispatch_after(dispatch_time((0ull), (int64_t)(1 * 1000000000ull)), dispatch_get_main_queue(), ^{
        
        [tableView reloadData];
    
    });
}



- (TreasureBbbb *)last:(NSIndexPath *)indexpath {
    
    TreasureBbbb * model = nil;

    
    switch (indexpath.section) {

        
        case ConversationSection_Entry:
            
            break;

        
        case ConversationSection_XiaoMi:
            
            model = NameSelect.guess.treat.date;
            
            break;



        
        case ConversationSection_Top:
            
            model = (indexpath.row < self.topArr.count ? self.topArr[indexpath.row] : nil);
            
            break;

        
        case ConversationSection_Nor:
            
            @try {
                
                model = (indexpath.row < self.dataArray.count ? self.dataArray[indexpath.row] : nil);
            
            } @catch (NSException *exception) {

            
            } @finally {

            }
            
            break;

        
        default:
            
            break;
    }

    
    return model;
}


#pragma mark -聊天广场 家族广场列表

- (void)save {
    
    [_squareArray removeAllObjects];
    
    if (PlayColorBbbb.size.familyDescriptionAddtion.chatOfMsgList) {
        
        [_squareArray addObject:@(CellEnterType_ChatRoom)];
    }
    
    if (PlayColorBbbb.size.familyDescriptionAddtion.familyOfMsgList && [PlayColorBbbb size].file.fid <= 0) {
        
        [_squareArray addObject:@(CellEnterType_FamilyPlaza)];
    }
}


- (void)content {

    
    @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
    
    [ColorBbbb info].transmutation = ^{
        
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        
        [self.reloadData_Signal sendNext:@""];
    
    };

    
    [ColorBbbb info].style = ^(NSInteger familyId) {
        
        @autoreleasepool {}
         __strong __typeof__(self) self = self_weak_;
                        ;
        
        NSPredicate* predice = [NSPredicate predicateWithFormat:[NSString stringWithFormat:StringFromSmokeData(k_neverthelessValue),familyId]];
        
        NSArray* filterArray = [self.dataArray filteredArrayUsingPredicate:predice];
        
        if (filterArray.count > 0) {
            
            for (TreasureBbbb * aModel in filterArray) {
                
                [NameSelect.guess key:aModel.targetId];
            }
            
            [self.reloadData_Signal sendNext:@""];
        }
    
    };
}


#pragma mark - 懒加载信号


- (RACCommand *)getgroupConverCom_Signal{
    
    if (!_getgroupConverCom_Signal) {
        
        _getgroupConverCom_Signal = [[RACCommand alloc] initWithSignalBlock:^RACSignal * _Nonnull(id _Nullable input) {
            
            return [RACSignal createSignal:^RACDisposable *(id<RACSubscriber> subscriber) {
                
                [MomentColor forefront:nil dot:^(NSDictionary * _Nonnull resultDic, NSError * _Nonnull error) {
                    
                    if (!error) {
                        
                        self.groupModel = [ViewModelBbbb modelWithDictionary:resultDic];
                        
                        [subscriber sendNext:self.groupModel];
                    
                    }else{
                        
                        [subscriber sendNext:nil];
                    }
                    
                    [subscriber sendCompleted];
                
                }];
                
                return nil;
            
            }];
        
        }];
    }
    
    return _getgroupConverCom_Signal;
}


- (RACCommand *)getconverCom_Signal {
    
    if (!_getconverCom_Signal) {
        
        _getconverCom_Signal = [[RACCommand alloc] initWithSignalBlock:^RACSignal * _Nonnull(id _Nullable input) {

            
            UITableView *TableView = input[0];

            
            @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
            
            [NameSelect.guess streetSmart:^(NSArray *retArr,NSArray *circleArr, BOOL leftMore) {
                
                @autoreleasepool {}
                 __strong __typeof__(self) self = self_weak_;
                                ;
                
                [NameSelect.guess.moment removeAllObjects];
                
                self.canLoadMore = leftMore;
                
                dispatch_after(dispatch_time((0ull), (int64_t)(3.0 * 1000000000ull)), dispatch_get_main_queue(), ^{

                    
                    if (!self.isFirstReq) {
                        
                        self.isFirstReq = YES;
                        
                        [self message:TableView];
                    }
                
                });
            
            }];

            
            return [RACSignal empty];
        
        }];
    }
    
    return _getconverCom_Signal;
}




- (RACCommand *)getuserListMoreStatus_Signal {
    
    if (!_getuserListMoreStatus_Signal) {
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        _getuserListMoreStatus_Signal = [[RACCommand alloc] initWithSignalBlock:^RACSignal * _Nonnull(id _Nullable input) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            UITableView *TableView = input[0];

            
            [self action:TableView];

            
            return [RACSignal empty];
        
        }];
    }
    
    return _getuserListMoreStatus_Signal;
}



- (RACCommand *)getuserListStatus_Signal {
    
    if (!_getuserListStatus_Signal) {
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        _getuserListStatus_Signal = [[RACCommand alloc] initWithSignalBlock:^RACSignal * _Nonnull(id _Nullable input) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            UITableView *TableView = input[0];

            
            [self message:TableView];

            
            return [RACSignal empty];
        
        }];
    }
    
    return _getuserListStatus_Signal;
}



- (RACCommand *)getunredCount_Signal {
    
    if (!_getunredCount_Signal) {
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        _getunredCount_Signal = [[RACCommand alloc] initWithSignalBlock:^RACSignal * _Nonnull(id _Nullable input) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            return [RACSignal createSignal:^RACDisposable *(id<RACSubscriber> subscriber) {
                
                if ([PlayColorBbbb size].file.sex == Gender_Female) {
                    
                    dispatch_async(dispatch_get_global_queue(0, 0), ^{
                        
                        NSMutableSet *tempSet = [[NSMutableSet alloc] init];
                        
                        NSArray *tempDataArray = [self.dataArray copy];
                        
                        for (TreasureBbbb *model in tempDataArray) {

                            
                            if (model.conversationType != TXConversation_Private) {
                                
                                break;
                            }
                            
                            if (model.unreadCount > 0) {
                                
                                [tempSet addObject:[NSString stringWithFormat:@"%@",model.targetId]];
                            }
                        }
                        
                        NSArray *tempTopArray = [self.topArr copy];

                        
                        for (TreasureBbbb *model in tempTopArray) {
                            
                            if (model.conversationType != TXConversation_Private) {
                                
                                break;
                            }

                            
                            if (model.unreadCount > 0) {
                                
                                [tempSet addObject:[NSString stringWithFormat:@"%@",model.targetId]];
                            }
                        }
                        
                        [subscriber sendNext:[NSNumber numberWithInt:tempSet.count]];
                        
                        [subscriber sendCompleted];
                    
                    });
                }
                
                return nil;
            
            }];

        
        }];
    }
    
    return _getunredCount_Signal;
}






- (RACSubject *)didUpdateDataArray_Signal {
    
    if (!_didUpdateDataArray_Signal) {
        
        _didUpdateDataArray_Signal = [RACSubject subject];
    }
    
    return _didUpdateDataArray_Signal;
}


- (RACSubject *)reloadData_Signal {
    
    if (!_reloadData_Signal) {
        
        _reloadData_Signal = [RACSubject subject];
    }
    
    return _reloadData_Signal;
}



- (RACSubject *)ignoreUnread_Signal {
    
    if (!_ignoreUnread_Signal) {
        
        _ignoreUnread_Signal = [RACSubject subject];

        
        [_ignoreUnread_Signal subscribeNext:^(id _Nullable x) {

            
            UITableView *TableView = x[0];
            
            UITabBarController *tabBarVC = x[1];

            
            if ([[NameSelect guess] likeBy]) {
                
                return;
            }

            
            @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
            
            [NameSelect.guess female:^(NSArray * _Nonnull list) {
                
                @autoreleasepool {}
                 __strong __typeof__(self) self = self_weak_;
                                ;

                
                [ModelBaseBbbb clean:list];

                
                UITabBar * tabbar = tabBarVC.tabBar;
                
                if ([tabbar isKindOfClass:[ListPicView class]]) {
                    
                    [(ListPicView *)tabbar norType:0 scaleValue:TabBarItem_Message];
                }

                
                [TableView reloadData];
                
                [self.getunredCount_Signal execute:0];


            
            }];
        
        }];
    }
    
    return _ignoreUnread_Signal;
}



- (RACSubject *)removeAllConversation_Signal {
    
    if (!_removeAllConversation_Signal) {
        
        _removeAllConversation_Signal = [RACSubject subject];

        
        [_removeAllConversation_Signal subscribeNext:^(id _Nullable x) {

            
            UITableView *TableView = x[0];

            
            ImageButton *button = [[ImageButton alloc]initWithTimeCurrent:StringFromSmokeData(k_gearData) merge:AlertButtonType0 like:^{
            
            }];

            
            @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
            
            ImageButton *button2 = [[ImageButton alloc]initWithTimeCurrent:StringFromSmokeData(kGirlContent) merge:AlertButtonType1 like:^{
                
                @autoreleasepool {}
                 __strong __typeof__(self) self = self_weak_;
                                ;

                
                [self who:TableView];
            
            }];

            
            NSString *string = StringFromSmokeData(kShoeResignTitle);

            
            NSMutableAttributedString *attr = [[NSMutableAttributedString alloc]initWithString:string attributes:@{NSForegroundColorAttributeName:[ShowColor current], NSFontAttributeName:[UIFont underbelly:PFSCTypeMedium substance:15]}];

            
            NSRange range = [string rangeOfString:StringFromSmokeData(kGasolineData)];

            
            [attr addAttributes:@{NSForegroundColorAttributeName:[ShowColor send]} range:range];

            
            NSMutableParagraphStyle *style = [[NSMutableParagraphStyle alloc] init];
            
            style.lineSpacing = 8.0f;
            
            [attr addAttribute:NSParagraphStyleAttributeName value:style range:NSMakeRange(0, attr.length)];

            
            MutualView *alertView = [[MutualView alloc]initWithPlanSquare:attr phone:nil age:@[button,button2]];
            
            [alertView setText:NSTextAlignmentLeft];
            
            [alertView of];
        
        }];
    }
    
    return _removeAllConversation_Signal;
}



- (RACSubject *)conversationToTop_Signal {
    
    if (!_conversationToTop_Signal) {
        
        _conversationToTop_Signal = [RACSubject subject];
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        [_conversationToTop_Signal subscribeNext:^(id _Nullable x) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            UITableView *TableView = x[0];
            
            TreasureBbbb* conversationModel = x[1];
            
            NSString* tableBottomInset = x[2];

            
            if ([[NameSelect guess] likeBy]) {
                
                return;
            }
            
            BOOL isTop = !conversationModel.isTop;
            
            NSArray *conversations = [NameSelect guess].treat.criminalize;

            
            if (isTop && conversations.count >= 20) {
                
                [self push:[NSString stringWithFormat:StringFromSmokeData(kTotVideoTitle),20]];
                
                [TableView setEditing:NO animated:YES];
                
                return;
            }
            
            if (conversations.count <= 5) { 
                
                NameSelect.guess.title = NO;
                
                [NSUserDefaults wealth:NameSelect.guess.title with:[AuthorShadow stat]];
            }
            
            [NameSelect.guess name:conversationModel watch:isTop];
            
            self.reloadFinish = NO;
            
            [TableView reloadData];
            
            dispatch_after(dispatch_time((0ull), (int64_t)(0.5 * 1000000000ull)), dispatch_get_main_queue(), ^{
                
                self.reloadFinish = YES;
            
            });
            
            if (self.topArr.count > 5) {
                
                TableView.contentInset = UIEdgeInsetsMake(0, 0, tableBottomInset.floatValue,0);
            }
        
        }];
    }
    
    return _conversationToTop_Signal;
}


- (RACSubject *)deleteChatListCell_Signal {
    
    if (!_deleteChatListCell_Signal) {
        
        _deleteChatListCell_Signal = [RACSubject subject];
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        [_deleteChatListCell_Signal subscribeNext:^(id _Nullable x) {
            
            UITableView *TableView = x[0];
            
            NSIndexPath * indexPath = x[1];
            
            TreasureBbbb* selectedConversation = x[2];

            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            ImageButton *sureB = [[ImageButton alloc]initWithTimeCurrent:StringFromSmokeData(kGirlContent) merge:AlertButtonType0 like:^{


                
                if ([[NameSelect guess] likeBy]) {
                    
                    return;
                }

               
               __block BOOL found = NO;

                
                TreasureBbbb * aConversation = [self last:indexPath];
                
                if (aConversation) {

                    
                    if ([aConversation.targetId isEqualToString:selectedConversation.targetId]) {
                        
                        found = YES;
                    
                    } else {
                        
                        aConversation = nil;
                    }
                }

                
                if (found) {

                    
                    [[TvReceive everyUser] administrator:selectedConversation.targetId];
                    
                    [NameSelect.guess key:selectedConversation.targetId];

                    
                    static BOOL _occurExcept = NO; 

                    
                    if (indexPath && _occurExcept == NO) {

                        
                        if (indexPath.section == ConversationSection_Nor) {
                            
                            NSMutableArray *tmp = [NSMutableArray arrayWithArray:self.dataArray];
                            
                            [tmp removeObject:selectedConversation];
                            
                            self.dataArray = tmp.copy;
                        
                        }else if (indexPath.section == ConversationSection_Top){
                            
                            NSMutableArray *tmp = [NSMutableArray arrayWithArray:self.topArr];
                            
                            [tmp removeObject:selectedConversation];
                            
                            self.topArr = tmp.copy;
                        }
                        
                        @try {
                            
                            [TableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:(UITableViewRowAnimationFade)];

                        
                        } @catch (NSException *exception) {


                            
                            _occurExcept = YES;

                            
                            self.dataArray = NameSelect.guess.treat.quadrateBbbb; 

                            
                            [TableView reloadData]; 
                            
                            [self.getunredCount_Signal execute:0];

                        
                        } @finally {

                            
                            if (_occurExcept == NO) {

                                
                                
                                dispatch_after(dispatch_time((0ull), (int64_t)(0.25 * 1000000000ull)), dispatch_get_main_queue(), ^{

                                    
                                    [[ReplacementBaseBbbb titleWith] gift:selectedConversation.targetId textDown:@([PlayColorBbbb size].societal).description];

                                    
                                    [TableView reloadData];
                                    
                                    [self.getunredCount_Signal execute:0];

                                    
                                    if ( (self.canLoadMore) && self.dataArray.count == 0 && self.topArr.count == 0) {
                                        
                                        [self.getconverCom_Signal execute:@[TableView]];
                                    }
                                
                                });
                            }

                        }

                    
                    } else {
                        
                        [[ReplacementBaseBbbb titleWith] gift:selectedConversation.targetId textDown:@([PlayColorBbbb size].societal).description];

                        
                        self.dataArray = NameSelect.guess.treat.quadrateBbbb; 
                        
                        [TableView reloadData];
                        
                        [self.getunredCount_Signal execute:0];
                    }

                }

            
            }];

            
            ImageButton *cancel = [[ImageButton alloc] initWithTimeCurrent:StringFromSmokeData(k_gearData) merge:AlertButtonType1
                                                                  
                                                                  like:nil];



            
            NSString *string = StringFromSmokeData(k_vivoBodData);

            
            NSMutableAttributedString *attr = [[NSMutableAttributedString alloc]initWithString:string attributes:@{NSForegroundColorAttributeName:[ShowColor current], NSFontAttributeName:[UIFont underbelly:PFSCTypeMedium substance:15]}];

            
            NSRange range = [string rangeOfString:StringFromSmokeData(kAheadText)];

            
            [attr addAttributes:@{NSForegroundColorAttributeName:[ShowColor send]} range:range];

            
            MutualView *alertView = [[MutualView alloc] initWithPlanSquare:attr
                                                                
                                                                phone:nil
                                                               
                                                               age:@[sureB,cancel]];
            
            [alertView setText:NSTextAlignmentLeft];


            
            [alertView of];
        
        }];
    }
    
    return _deleteChatListCell_Signal;
}



- (RACSubject *)scrollToNewMessageCell_Signal {
    
    if (!_scrollToNewMessageCell_Signal) {
        
        _scrollToNewMessageCell_Signal = [RACSubject subject];
        
        @autoreleasepool {} __weak __typeof__(self) self_weak_ = (self);;
        
        [_scrollToNewMessageCell_Signal subscribeNext:^(id _Nullable x) {
            
            @autoreleasepool {}
             __strong __typeof__(self) self = self_weak_;
                            ;
            
            UITableView *TableView = x[0];
            
            NSTimeInterval currentDate = NSDate.timeIntervalSinceReferenceDate;

            
            
            if (currentDate - self.doubleTapTabInterval < 0.200 && !self.disableClick) {

                
                self.disableClick = YES;
                
                BOOL found = NO;

                
                NSInteger section = -1;
                
                NSInteger row = 0;

                
                
                if (self.topArr.count > 0) {

                    
                    for (int i = 0; i < self.topArr.count; i++) {
                        
                        TreasureBbbb *amodel = self.topArr[i];
                        
                        if (amodel.unreadCount > 0) {
                            
                            section = ConversationSection_Top;
                            
                            row = i;
                            
                            found = YES;
                            
                            break;
                        }
                    }
                }

                
                if (found == NO && NameSelect.guess.treat.date.unreadCount > 0) {
                    
                    section = ConversationSection_XiaoMi;
                    
                    row = 0;
                    
                    found = YES;
                }

                
                
                if (found == NO && self.dataArray.count > 0) {

                    
                    for (int i = 0; i < self.dataArray.count; i++) {
                        
                        TreasureBbbb *amodel = self.dataArray[i];
                        
                        if (amodel.isTop == NO && amodel.unreadCount > 0) {
                            
                            section = ConversationSection_Nor;
                            
                            row = i;
                            
                            found = YES;
                            
                            break;
                        }
                    }
                }

                
                if (found) {
                    
                    [TableView scrollToRowAtIndexPath:[NSIndexPath indexPathForRow:row inSection:section]
                                          
                                          atScrollPosition:UITableViewScrollPositionTop
                                                  
                                                  animated:YES];
                
                } else {
                    
                    [TableView setContentOffset:CGPointZero animated:YES];
                }

                
                dispatch_after(dispatch_time((0ull), (int64_t)(0.5 * 1000000000ull)), dispatch_get_main_queue(), ^{
                    
                    self.disableClick = NO;
                
                });
            }

            
            self.doubleTapTabInterval = currentDate;
        
        }];
    }
    
    return _scrollToNewMessageCell_Signal;
}




@end


Byte * SmokeDataToCache(Byte *data) {
    int restAsk = data[0];
    int tole = data[1];
    int cowRare = data[2];
    if (!restAsk) return data + cowRare;
    for (int i = 0; i < tole / 2; i++) {
        int begin = cowRare + i;
        int end = cowRare + tole - i - 1;
        Byte temp = data[begin];
        data[begin] = data[end];
        data[end] = temp;
    }
    data[0] = 0;
    data[cowRare + tole] = 0;
    return data + cowRare;
}

NSString *StringFromSmokeData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)SmokeDataToCache(data)];
}  
