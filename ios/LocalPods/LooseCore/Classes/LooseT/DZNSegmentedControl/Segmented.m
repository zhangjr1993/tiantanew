
#import <Foundation/Foundation.h>

NSString *StringFromLevelData(Byte *data);



Byte kFinishName[] = {52, 51, 5, 60, 234, 46, 116, 110, 101, 109, 103, 101, 115, 32, 103, 110, 105, 116, 115, 105, 120, 101, 45, 110, 111, 110, 32, 111, 116, 32, 114, 111, 108, 111, 99, 32, 116, 110, 105, 116, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 118};



Byte k_customName[] = {36, 56, 8, 52, 151, 152, 16, 72, 46, 116, 99, 101, 106, 98, 111, 32, 114, 111, 108, 111, 99, 32, 100, 105, 108, 97, 118, 110, 117, 32, 110, 97, 32, 104, 116, 105, 119, 32, 114, 111, 108, 111, 99, 32, 116, 110, 105, 116, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 102};



Byte kMakeAttributeValue[] = {38, 53, 5, 10, 47, 46, 116, 110, 101, 109, 103, 101, 115, 32, 103, 110, 105, 116, 115, 105, 120, 101, 45, 110, 111, 110, 32, 97, 32, 114, 111, 102, 32, 110, 111, 116, 116, 117, 98, 32, 97, 32, 101, 114, 117, 103, 105, 102, 110, 111, 99, 32, 116, 111, 110, 110, 97, 67, 212};



Byte k_willContent[] = {19, 8, 9, 155, 92, 113, 238, 2, 126, 100, 101, 116, 99, 101, 108, 101, 115, 21};



Byte k_labelObjectValue[] = {88, 119, 3, 46, 115, 116, 99, 101, 106, 98, 111, 32, 101, 103, 97, 109, 73, 73, 85, 32, 114, 111, 32, 103, 110, 105, 114, 116, 83, 83, 78, 32, 102, 111, 32, 121, 97, 114, 114, 97, 32, 110, 97, 32, 115, 115, 97, 112, 32, 114, 101, 104, 116, 105, 101, 32, 111, 116, 32, 101, 114, 117, 115, 32, 101, 107, 97, 109, 32, 101, 115, 97, 101, 108, 80, 32, 46, 121, 97, 114, 114, 97, 32, 101, 104, 116, 32, 110, 105, 32, 115, 116, 99, 101, 106, 98, 111, 32, 116, 110, 101, 114, 101, 102, 102, 105, 100, 32, 101, 100, 117, 108, 99, 110, 105, 32, 116, 111, 110, 110, 97, 67, 135};



Byte kAreaTitle[] = {61, 46, 5, 178, 191, 46, 116, 110, 101, 109, 103, 101, 115, 32, 103, 110, 105, 116, 115, 105, 120, 101, 45, 110, 111, 110, 32, 111, 116, 32, 101, 108, 116, 105, 116, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 96};



Byte k_modelSearchRestName[] = {73, 49, 8, 138, 191, 115, 222, 19, 46, 116, 110, 101, 109, 103, 101, 115, 32, 101, 118, 105, 116, 97, 103, 101, 110, 32, 97, 32, 114, 111, 102, 32, 110, 111, 116, 116, 117, 98, 32, 97, 32, 101, 114, 117, 103, 105, 102, 110, 111, 99, 32, 116, 111, 110, 110, 97, 67, 141};



Byte k_timeSumData[] = {24, 44, 5, 207, 6, 46, 116, 110, 101, 109, 103, 101, 115, 32, 101, 118, 105, 116, 97, 103, 101, 110, 32, 97, 32, 111, 116, 32, 101, 108, 116, 105, 116, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 10};



Byte kRestModeData[] = {30, 57, 12, 166, 249, 173, 179, 245, 56, 170, 23, 208, 46, 116, 99, 101, 106, 98, 111, 32, 114, 111, 108, 111, 99, 32, 100, 105, 108, 97, 118, 110, 117, 32, 110, 97, 32, 104, 116, 105, 119, 32, 114, 111, 108, 111, 99, 32, 101, 108, 116, 105, 116, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 36};



Byte k_withCurrentValue[] = {77, 11, 11, 12, 94, 54, 29, 117, 48, 72, 111, 100, 101, 116, 104, 103, 105, 108, 104, 103, 105, 104, 72};



Byte k_userTimeContent[] = {29, 47, 9, 97, 56, 231, 254, 234, 64, 46, 116, 110, 101, 109, 103, 101, 115, 32, 103, 110, 105, 116, 115, 105, 120, 101, 45, 110, 111, 110, 32, 111, 116, 32, 101, 103, 97, 109, 105, 32, 110, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 217};



Byte kBodySocialCustomData[] = {30, 49, 13, 138, 147, 209, 54, 52, 41, 80, 31, 181, 123, 46, 116, 110, 101, 109, 103, 101, 115, 32, 101, 118, 105, 116, 97, 103, 101, 110, 32, 97, 32, 111, 116, 32, 114, 111, 108, 111, 99, 32, 116, 110, 105, 116, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 198};



Byte k_blockValue[] = {81, 22, 12, 110, 120, 103, 243, 49, 49, 37, 70, 146, 64, 37, 32, 58, 115, 115, 97, 108, 67, 102, 79, 100, 110, 105, 75, 115, 105, 32, 102, 108, 101, 115, 212};



Byte kWillText[] = {92, 46, 9, 25, 28, 57, 160, 82, 209, 46, 116, 110, 101, 109, 103, 101, 115, 32, 103, 110, 105, 116, 115, 105, 120, 101, 45, 110, 111, 110, 32, 111, 116, 32, 116, 110, 117, 111, 99, 32, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 1};



Byte kWeekText[] = {22, 16, 12, 191, 30, 88, 236, 68, 248, 250, 179, 174, 100, 37, 101, 116, 97, 116, 83, 108, 111, 114, 116, 110, 111, 67, 73, 85, 126};



Byte k_closeScaleContent[] = {5, 45, 10, 250, 101, 237, 153, 212, 222, 101, 46, 116, 110, 101, 109, 103, 101, 115, 32, 101, 118, 105, 116, 97, 103, 101, 110, 32, 97, 32, 111, 116, 32, 101, 103, 97, 109, 105, 32, 110, 97, 32, 110, 103, 105, 115, 115, 97, 32, 116, 111, 110, 110, 97, 67, 132};



Byte k_backTitle[] = {45, 22, 12, 104, 138, 32, 191, 234, 181, 157, 221, 36, 100, 101, 108, 98, 97, 110, 69, 110, 111, 105, 116, 99, 97, 114, 101, 116, 110, 73, 114, 101, 115, 117, 51};
















#import "Segmented.h"

@interface Segmented ()


@property (nonatomic) BOOL with;

@property (nonatomic, strong) UIView *click;

@property (nonatomic, strong) NSMutableDictionary *by;

@property (nonatomic, strong) NSMutableArray *data; 


@property (nonatomic, assign) CGPoint toNor;


@property (nonatomic, getter = isTransitioning) BOOL red;

@property (nonatomic, getter = isImageMode) BOOL mentalRepresentation; 


@property(nonatomic,strong,readwrite) NSMutableArray* determineBag;


@property (nonatomic, strong) NSMutableArray *accept;


@end


@implementation Segmented

@synthesize barPosition = _barPosition;

@synthesize height = _height;

@synthesize width = _width;


#pragma mark - Initialize Methods


- (id)init
{
    
    if (self = [super init]) {
        
        [self disable];
    }
    
    return self;
}


- (id)initWithCoder:(NSCoder *)aDecoder
{
    
    self = [super initWithCoder:aDecoder];
    
    if (self) {
        
        [self disable];
    }
    
    return self;
}


- (id)initWithFrame:(CGRect)frame
{
    
    self = [super initWithFrame:frame];
    
    if (self) {
        
        [self disable];
    }
    
    return self;
}


- (instancetype)initWithEffectItems:(NSArray *)items
{
    
    self = [super init];
    
    if (self) {
        
        [self disable];
        
        self.groupTarget = items;
    }
    
    return self;
}


- (void)disable
{
    
    _with = YES;

    
    _backInfo = YES;
    
    _selectedMagnitude = -1;
    
    _from = 2.0f;
    
    _video = 0.2;
    
    _flag = YES;
    
    _info = YES;
    
    _needOfSegment = YES;
    
    _package = [UIFont systemFontOfSize:15.0f];
    
    _withLevel = nil;

    
    _complete = [UIView new];
    
    _complete.backgroundColor = self.tintColor;
    
    [self addSubview:_complete];

    
    _click = [UIView new];
    
    _click.backgroundColor = [UIColor lightGrayColor];
    
    [self addSubview:_click];

    
    _by = [NSMutableDictionary new];
    
    _data = [NSMutableArray array];

    
    _with = NO;
}



#pragma mark - UIView Methods


- (CGSize)sizeThatFits:(CGSize)size
{
    
    return CGSizeMake((self.width ? self.width : self.superview.bounds.size.width), self.height);
}


- (void)sizeToFit
{
    
    CGRect rect = self.frame;
    
    rect.size = [self sizeThatFits:rect.size];

    
    self.frame = rect;
}


- (void)layoutSubviews
{
    
    [super layoutSubviews];



    
    if ([self determineBag].count == 0) {
        
        _selectedMagnitude = -1;
    }
    
    else if (self.selectedMagnitude < 0) {
        
        _selectedMagnitude = 0;
    }

    
    [[self determineBag] enumerateObjectsUsingBlock:^(UIButton *button, NSUInteger idx, BOOL *stop) {

        
        CGRect rect = CGRectMake(roundf(self.bounds.size.width/self.magnitude)*idx, 0.0f, roundf(self.bounds.size.width/self.magnitude),
                                 
                                 self.bounds.size.height);
        
        [button setFrame:rect];

        
        CGFloat titleWidth = button.titleLabel.text.length * 15.0;
        
        UIView *redDotView = self.accept[idx];
        
        redDotView.frame = CGRectMake(CGRectGetWidth(rect)/2+titleWidth/2, CGRectGetMinY(rect)+8, 6, 6);

        
        if (_info) {
            
            CGFloat topInset = (self.barPosition > UIBarPositionBottom) ? -4.0f : 4.0f;
            
            button.titleEdgeInsets = UIEdgeInsetsMake(0.0f, 0.0f, topInset, 0.0f);
        }
        
        else {
            
            button.titleEdgeInsets = UIEdgeInsetsZero;
        }

        
        if (idx == self.selectedMagnitude) {
            
            button.selected = YES;
        }
    
    }];

    
    [self infoPair];
}


- (void)willMoveToSuperview:(UIView *)newSuperview
{
    
    [super willMoveToSuperview:newSuperview];

    
    
    if (newSuperview) {
        
        [self layoutIfNeeded];
    }
}


- (void)didMoveToWindow
{
    
    [super didMoveToWindow];

    
    if (!self.backgroundColor) {
        
        self.backgroundColor = [UIColor whiteColor];
    }

    
    [self requestList];

    
    [self layoutIfNeeded];
}


- (void)layoutIfNeeded
{
    
    
    if (!self.superview) {
        
        return;
    }

    
    [super layoutIfNeeded];
}


- (CGSize)intrinsicContentSize
{
    
    return CGSizeMake(self.width, self.height);
}



#pragma mark - Getter Methods


- (CGFloat)height
{
    
    return (_height ? : self.backInfo ? 56.0f : 30.0f);
}


- (CGFloat)width
{
    
    return (_width ? : self.superview.bounds.size.width);
}


- (NSUInteger)magnitude
{
    
    return self.groupTarget.count;
}


- (NSArray *)playInfo
{
    
    NSMutableArray *buttons = [NSMutableArray arrayWithCapacity:self.groupTarget.count];

    
    for (UIView *view in self.subviews) {
        
        if ([view isKindOfClass:[UIButton class]]) {
            
            [buttons addObject:view];
        }
    }
    
    return buttons;
}


- (UIButton *)attentionAtomicTotal85Name:(NSUInteger)segment
{
    
    if (self.groupTarget.count > 0 && segment < [self determineBag].count) {
        
        return (UIButton *)[[self determineBag] objectAtIndex:segment];
    }
    
    return nil;
}


- (UIButton *)titleMin
{
    
    if (self.selectedMagnitude >= 0) {
        
        return [self attentionAtomicTotal85Name:self.selectedMagnitude];
    }
    
    return nil;
}


- (NSString *)card:(NSUInteger)segment
{
    
    if (self.isImageMode) {
        
        return nil;
    }

    
    UIButton *button = [self attentionAtomicTotal85Name:segment];
    
    return [[button attributedTitleForState:UIControlStateNormal] string];
}


- (NSString *)indexSearched:(NSUInteger)segment
{
    
    if (self.isImageMode) {
        
        return nil;
    }

    
    if (self.backInfo) {
        
        NSString *title = [self card:segment];
        
        NSArray *components = [title componentsSeparatedByString:@"\n"];

        
        if (components.count == 2) {
            
            return components[self.titlesUser ? 0 : 1];
        }
        
        else return nil;
    }
    
    return self.groupTarget[segment];
}


- (NSNumber *)request:(NSUInteger)segment
{
    
    if (self.isImageMode) {
        
        return nil;
    }

    
    return segment < self.data.count ? self.data[segment] : @(0);
}


- (UIColor *)first:(UIControlState)state
{
    
    if (self.isImageMode) {
        
        return nil;
    }

    
    NSString *key = [NSString stringWithFormat:StringFromLevelData(kWeekText), (int)state];
    
    UIColor *color = [self.by objectForKey:key];

    
    if (!color) {
        
        switch (state) {
            
            case UIControlStateNormal: return [UIColor darkGrayColor];
            
            case UIControlStateHighlighted: return self.tintColor;
            
            case UIControlStateDisabled: return [UIColor lightGrayColor];
            
            case UIControlStateSelected: return self.tintColor;
            
            default: return self.tintColor;
        }
    }

    
    return color;
}


- (BOOL)backInfo
{
    
    if (self.isImageMode) {
        
        return NO;
    }

    
    return _backInfo;
}


- (BOOL)flag
{
    
    if (self.isImageMode) {
        
        return NO;
    }

    
    return _flag;
}


- (CGRect)match
{
    
    UIButton *button = [self titleMin];

    
    id item = self.groupTarget[button.tag];

    
    if ([item isKindOfClass:[NSString class]]) {
        
        if ([(NSString *)item length] == 0) {
            
            return CGRectZero;
        }
    }

    
    CGRect frame = CGRectZero;
    
    frame.origin.y = (_barPosition > UIBarPositionBottom) ? 0.0f : (button.frame.size.height-self.from) - _reportFloat;

    
    if (self.flag) {

        
        NSAttributedString *attributedString = [button attributedTitleForState:UIControlStateSelected];

        
        CGFloat width = [attributedString size].width;

        
        
        if (width > button.frame.size.width) {
            
            width = button.frame.size.width;
        }

        
        frame.size = CGSizeMake(width, self.from);
        
        frame.origin.x = (button.frame.size.width*(self.selectedMagnitude))+(button.frame.size.width-frame.size.width)/2;
    }
    
    else {

        
        CGFloat width = (_datePop > 0
                         
                         ? _datePop
                         
                         : CGRectGetWidth(button.frame));

        
        frame.size = CGSizeMake(width, self.from);
        
        frame.origin.x = button.center.x - width/2.f;
    }

    
    return frame;
}


- (UIColor *)business
{
    
    return self.click.backgroundColor;
}


- (CGRect)seat
{
    
    CGRect frame = CGRectMake(0.0f, 0.0f, self.frame.size.width, 0.5f);
    
    frame.origin.y = (self.barPosition > UIBarPositionBottom) ? 0.0f : self.frame.size.height;

    
    return frame;
}



- (CGFloat)add:(NSString *)title
{
    
    CGFloat fontSize = 14.0f;
    
    CGFloat minFontSize = 8.0f;

    
    if (!self.streetwise) {
        
        return fontSize;
    }

    
    CGFloat buttonWidth = roundf(self.bounds.size.width/self.magnitude);

    
    CGSize constraintSize = CGSizeMake(buttonWidth, 0x1.fffffep+127f);

    
    do {
        
        
        UIFont *font = [UIFont fontWithName:self.package.fontName size:fontSize];

        
        CGRect textRect = [title boundingRectWithSize:constraintSize options:0 attributes:@{NSFontAttributeName:font} context:nil];

        
        
        if (textRect.size.width <= constraintSize.width) {
            
            return fontSize;
        }

        
        
        fontSize -= 1.0f;

    
    } while (fontSize > minFontSize);

    
    return fontSize;
}



#pragma mark - Setter Methods


- (void)setFrame:(CGRect)frame
{
    
    _width = CGRectGetWidth(frame);
    
    _height = CGRectGetHeight(frame);

    
    [super setFrame:frame];

    
    [self layoutIfNeeded];
}


- (void)setHeight:(CGFloat)height
{
    
    BOOL equal = height == _height;
    
    _height = height;
    
    if (!equal) {
        
        CGRect frame = CGRectMake(self.frame.origin.x, self.frame.origin.y, self.frame.size.width, height);
        
        [super setFrame:frame];
    }
}


- (void)setWidth:(CGFloat)width
{
    
    BOOL equal = width == _width;
    
    _width = width;
    
    if (!equal) {
        
        CGRect frame = CGRectMake(self.frame.origin.x, self.frame.origin.y, self.frame.size.width, (_width ? : self.superview.bounds.size.width));
        
        [super setFrame:frame];
    }
}


- (void)setGroupTarget:(NSArray *)items
{
    
    if (_groupTarget) {
        
        [self view];
    }

    
    if (items.count == 0) {
        
        _groupTarget = nil;
        
        return;
    }

    
    id firstItem = [items firstObject];

    
    _mentalRepresentation = [firstItem isKindOfClass:[UIImage class]];

    
    Class class = _mentalRepresentation ? [UIImage class] : [NSString class];

    
    
    class = [class isSubclassOfClass:[NSString class]] ? [NSString class] : class;

    
    NSPredicate *classPredicate = [NSPredicate predicateWithFormat:StringFromLevelData(k_blockValue), class];
    
    NSAssert([items filteredArrayUsingPredicate:classPredicate].count == items.count, StringFromLevelData(k_labelObjectValue));

    
    _groupTarget = [NSArray arrayWithArray:items];

    
    if (!_mentalRepresentation) {
        
        _data = [NSMutableArray arrayWithCapacity:items.count];

        
        for (int i = 0; i < items.count; i++) {
            
            [self.data addObject:@0];
        }
    }

    
    [self enterSegments];
}


- (void)setTintColor:(UIColor *)color
{
    
    if (!color || !self.groupTarget || self.with) {
        
        return;
    }

    
    [super setTintColor:color];

    
    [self size:color page:UIControlStateHighlighted];
    
    [self size:color page:UIControlStateSelected];
}


- (void)setLocal:(id<AnalogDigitalConverterDisplay>)delegate
{
    
    _local = delegate;

    
    if (_local && [_local respondsToSelector:@selector(kicks:)]) {
        
        _barPosition = [delegate positionForBar:self];
    
    } else {
        
        _barPosition = UIBarPositionBottom;
    }

}


- (void)textEnvelopeSize:(CGPoint)scrollOffset complete:(CGSize)contentSize
{
    
    self.flag = NO;
    
    self.refresh = NO;

    
    CGFloat offset = 0.0;

    
    
    if (self.toNor.x != scrollOffset.x) {
        
        offset = scrollOffset.x/(contentSize.width/self.magnitude);
    }
    
    
    else if (self.toNor.y != scrollOffset.y) {
        
        offset = scrollOffset.y/(contentSize.height/self.magnitude);
    }
    
    
    else {
        
        return;
    }

    
    CGFloat buttonWidth = roundf(self.width/self.magnitude);



    
    CGRect indicatorRect = self.complete.frame;
    
    indicatorRect.origin.x = (buttonWidth * offset);
    
    if (_datePop > 0) {
        
        indicatorRect.size.width = _datePop;
    }
    
    self.complete.frame = indicatorRect;

    
    NSUInteger index = (NSUInteger)offset;

    
    if (offset == truncf(offset) && self.selectedMagnitude != index) {

        
        [self adHominem];
        
        [self.determineBag[index] setSelected:YES];

        
        _selectedMagnitude = index;

        
        [self sendActionsForControlEvents:UIControlEventValueChanged];
    }

    
    _toNor = scrollOffset;
}


- (void)setSelectedMagnitude:(NSInteger)segment
{
    
    [self cellAnimated:segment label:NO];
}


- (void)cellAnimated:(NSInteger)segment label:(BOOL)animated
{
    
    if (self.selectedMagnitude == segment || self.isTransitioning) {
        
        return;
    }

    
    if (segment<0 || segment>=self.determineBag.count) {
        
        return;
    }

    
    [self adHominem];

    
    self.userInteractionEnabled = NO;

    
    _selectedMagnitude = segment;
    
    [self oldBoyNetworkButton:self.determineBag[_selectedMagnitude]];
    
    _red = YES;

    
    void (^animations)(void) = ^void(){
        
        self.complete.frame = [self match];
    
    };

    
    void (^completion)(BOOL finished) = ^void(BOOL finished){
        
        self.userInteractionEnabled = YES;
        
        _red = NO;
        
        [self buttoning:self.determineBag[_selectedMagnitude]];
    
    };

    
    if (animated) {
        
        CGFloat duration = (self.selectedMagnitude < 0.0f) ? 0.0f : self.video;
        
        CGFloat damping = !self.refresh ? : 0.65f;
        
        CGFloat velocity = !self.refresh ? : 0.5f;

        
        [UIView animateWithDuration:duration
                              
                              delay:0.0f
             
             usingSpringWithDamping:damping
              
              initialSpringVelocity:velocity
                            
                            options:UIViewAnimationOptionBeginFromCurrentState|UIViewAnimationOptionCurveEaseInOut
                         
                         animations:animations
                         
                         completion:completion];
    }
    
    else {
        
        animations();
        
        completion(NO);
    }
}


- (void)soyaBean:(UIColor *)tintColor memberIndex:(NSUInteger)segment
{
    
    if (!tintColor) {
        
        return;
    }

    
    NSAssert(segment < self.magnitude, StringFromLevelData(kFinishName));
    
    NSAssert(segment >= 0, StringFromLevelData(kBodySocialCustomData));

    
    NSAssert([tintColor isKindOfClass:[UIColor class]], StringFromLevelData(k_customName));

    
    UIButton *button = [self attentionAtomicTotal85Name:segment];
    
    button.backgroundColor = tintColor;
}


- (void)star:(NSString *)title mentalRepresentation:(NSUInteger)segment
{
    
    if (!title || self.isImageMode) {
        
        return;
    }

    
    NSAssert(segment <= self.magnitude, StringFromLevelData(kAreaTitle));
    
    NSAssert(segment >= 0, StringFromLevelData(k_timeSumData));

    
    NSMutableArray *items = [NSMutableArray arrayWithArray:self.groupTarget];

    
    if (segment >= self.magnitude) {
        
        [items insertObject:title atIndex:self.magnitude];
        
        [self send:segment];
    }
    
    else {
        
        [items replaceObjectAtIndex:segment withObject:title];
        
        [self male:[self request:segment] identify:segment];
    }

    
    _groupTarget = items;
}


- (void)male:(NSNumber *)count identify:(NSUInteger)segment
{
    
    if (!count || !self.groupTarget || self.isImageMode) {
        
        return;
    }

    
    NSAssert(segment < self.magnitude, StringFromLevelData(kWillText));
    
    NSAssert(segment >= 0, StringFromLevelData(k_timeSumData));

    
    self.data[segment] = count;

    
    [self requestList];
}


- (void)adjacent:(UIImage *)image include:(NSUInteger)segment
{
    
    if (!image || !self.isImageMode) {
        
        return;
    }

    
    NSAssert(segment <= self.magnitude, StringFromLevelData(k_userTimeContent));
    
    NSAssert(segment >= 0, StringFromLevelData(k_closeScaleContent));

    
    NSMutableArray *items = [NSMutableArray arrayWithArray:self.groupTarget];

    
    if (segment >= self.magnitude) {
        
        [items insertObject:image atIndex:self.magnitude];
        
        [self send:segment];
    }
    
    else {
        
        [items replaceObjectAtIndex:segment withObject:image];
    }

    
    [self putUp:image with:segment];

    
    _groupTarget = items;
}


- (void)block:(NSAttributedString *)attributedString request:(NSUInteger)segment
{
    
    UIButton *button = [self attentionAtomicTotal85Name:segment];
    
    button.titleLabel.numberOfLines = (self.backInfo) ? 2 : 1;

    
    [button setAttributedTitle:attributedString forState:UIControlStateNormal];
    
    [button setAttributedTitle:attributedString forState:UIControlStateHighlighted];
    
    [button setAttributedTitle:attributedString forState:UIControlStateSelected];
    
    [button setAttributedTitle:attributedString forState:UIControlStateDisabled];

    
    [self size:[self first:UIControlStateNormal] page:UIControlStateNormal];
    
    [self size:[self first:UIControlStateHighlighted] page:UIControlStateHighlighted];
    
    [self size:[self first:UIControlStateDisabled] page:UIControlStateDisabled];
    
    [self size:[self first:UIControlStateSelected] page:UIControlStateSelected];

    
    [self infoPair];
}


- (void)size:(UIColor *)color page:(UIControlState)state
{
    
    if (self.isImageMode) {
        
        return;
    }

    
    NSAssert([color isKindOfClass:[UIColor class]], StringFromLevelData(kRestModeData));

    
    for (UIButton *button in [self determineBag]) {

        
        NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithAttributedString:[button attributedTitleForState:state]];
        
        NSString *string = attributedString.string;

        
        NSMutableParagraphStyle *style = [[NSMutableParagraphStyle alloc] init];
        
        style.alignment = NSTextAlignmentCenter;
        
        style.lineBreakMode = (self.backInfo) ? NSLineBreakByWordWrapping : NSLineBreakByTruncatingTail;
        
        style.lineBreakMode = NSLineBreakByWordWrapping;
        
        style.minimumLineHeight = 20.0f;

        
        [attributedString addAttribute:NSParagraphStyleAttributeName value:style range:NSMakeRange(0, string.length)];

        
        if (self.backInfo) {

            
            NSArray *components = [attributedString.string componentsSeparatedByString:@"\n"];

            
            if (components.count < 2) {
                
                return;
            }

            
            NSString *count = [components objectAtIndex:self.titlesUser ? 1 : 0];
            
            NSString *title = [components objectAtIndex:self.titlesUser ? 0 : 1];

            
            CGFloat fontSizeForTitle = [self add:title];

            
            [attributedString addAttribute:NSFontAttributeName value:[UIFont fontWithName:self.package.fontName size:19.0f] range:[string rangeOfString:count]];
            
            [attributedString addAttribute:NSFontAttributeName value:[UIFont fontWithName:self.package.fontName size:fontSizeForTitle] range:[string rangeOfString:title]];

            
            if (state == UIControlStateNormal) {

                
                UIColor *topColor = self.titlesUser ? [color colorWithAlphaComponent:0.5f] : color;
                
                UIColor *bottomColor = self.titlesUser ? color : [color colorWithAlphaComponent:0.5f];

                
                NSUInteger topLength = self.titlesUser ? title.length : count.length;
                
                NSUInteger bottomLength = self.titlesUser ? count.length : title.length;

                
                [attributedString addAttribute:NSForegroundColorAttributeName value:topColor range:NSMakeRange(0, topLength)];
                
                [attributedString addAttribute:NSForegroundColorAttributeName value:bottomColor range:NSMakeRange(topLength, bottomLength+1)];
            }
            
            else {
                
                [attributedString addAttribute:NSForegroundColorAttributeName value:color range:NSMakeRange(0, string.length)];

                
                if (state == UIControlStateSelected) {
                    
                    self.complete.backgroundColor = self.level?self.level:color;
                }
            }
        }
        
        else {
            
            UIFont *font=self.package;
            
            if (self.withLevel) {
                
                if (state==UIControlStateSelected || state == UIControlStateHighlighted) {
                    
                    font = self.withLevel;
                }
            }

            
            [attributedString addAttribute:NSFontAttributeName value:font range:NSMakeRange(0, attributedString.string.length)];
            
            [attributedString addAttribute:NSForegroundColorAttributeName value:color range:NSMakeRange(0, attributedString.string.length)];
        }

        
        [button setAttributedTitle:attributedString forState:state];
    }

    
    NSString *key = [NSString stringWithFormat:StringFromLevelData(kWeekText), (int)state];
    
    [self.by setObject:color forKey:key];
}


- (void)setSameMobile:(BOOL)count
{
    
    if (self.backInfo == count) {
        
        return;
    }

    
    _backInfo = count;

    
    [self requestList];
}


- (void)setPackage:(UIFont *)font
{
    
    if ( [self.package.fontName isEqualToString:font.fontName] && self.package.pointSize == font.pointSize ) {
        
        return;
    }

    
    _package = font;

    
    [self requestList];
}


- (void)setSmartSystem:(UIFont *)selectedFont
{
    
    if ( [self.withLevel.fontName isEqualToString:selectedFont.fontName] && self.withLevel.pointSize == selectedFont.pointSize ) {
        
        return;
    }

    
    _withLevel = selectedFont;

    
    [self requestList];
}


- (void)setRecommend:(BOOL)showsGroupingSeparators
{
    
    if (self.groupDoing == showsGroupingSeparators) {
        
        return;
    }

    
    _groupDoing = showsGroupingSeparators;

    
    [self requestList];
}


- (void)setSomeone:(NSNumberFormatter *)numberFormatter
{
    
    if ([self.giftMobile isEqual:numberFormatter]) {
        
        return;
    }

    
    _giftMobile = numberFormatter;

    
    [self requestList];
}


- (void)chemicalElementMax:(BOOL)enabled videoAt:(NSUInteger)segment
{
    
    UIButton *button = [self attentionAtomicTotal85Name:segment];
    
    button.enabled = enabled;
}


- (void)setPanBbbb:(UIColor *)color
{
    
    if (self.with) {
        
        return;
    }

    
    self.click.backgroundColor = color;
}


- (void)setPush:(BOOL)adjustsButtonTopInset
{
    
    _info = adjustsButtonTopInset;

    
    [self setNeedsLayout];
    
    [self layoutIfNeeded];
}


#pragma mark - custom

- (void)male:(BOOL)statu rhymesterVideo:(NSUInteger)segment {

    
    [self.accept enumerateObjectsUsingBlock:^(id _Nonnull obj, NSUInteger idx, BOOL * _Nonnull stop) {
        
        UIView *redView = obj;
        
        redView.hidden = YES;
        
        if (idx == segment) {
            
            redView.hidden = statu;
        }
    
    }];
}


#pragma mark - Segmented Configuration


- (void)enterSegments
{
    
    for (int i = 0; i < self.magnitude; i++) {
        
        [self send:i];
    }

    
    if (self.isImageMode || self.window) {
        
        [self requestList];
    }
}


- (void)send:(NSUInteger)segment
{
    
    UIButton *button = [UIButton buttonWithType:UIButtonTypeCustom];

    
    [button addTarget:self action:@selector(oldBoyNetworkButton:) forControlEvents:UIControlEventTouchDown];
    
    [button addTarget:self action:@selector(buttoning:) forControlEvents:UIControlEventTouchDragOutside|UIControlEventTouchDragInside|UIControlEventTouchDragEnter|UIControlEventTouchDragExit|UIControlEventTouchCancel|UIControlEventTouchUpInside|UIControlEventTouchUpOutside];

    
    button.backgroundColor = [UIColor clearColor];
    
    button.opaque = YES;
    
    button.clipsToBounds = YES;
    
    button.adjustsImageWhenHighlighted = NO;
    
    button.exclusiveTouch = YES;
    
    button.tag = segment;

    
    [self insertSubview:button belowSubview:self.complete];


    
    if (self.determineBag.count <= segment) {
        
        [_determineBag addObject:button];
    
    }else{
        
        [_determineBag replaceObjectAtIndex:segment withObject:button];
    }
}


- (void)requestList
{
    
    for (UIButton *button in [self determineBag]) {
        
        [self radiogram:button.tag];
    }

    
    [self infoPair];
}


- (void)infoPair
{
    
    self.complete.frame = [self match];
    
    self.complete.backgroundColor = self.level?self.level:self.tintColor;

    
    self.click.frame = [self seat];
}


- (void)radiogram:(NSUInteger)segment
{
    
    NSAssert(segment < self.magnitude, StringFromLevelData(kMakeAttributeValue));
    
    NSAssert(segment >= 0, StringFromLevelData(k_modelSearchRestName));

    
    id item = self.groupTarget[segment];

    
    if ([item isKindOfClass:[NSString class]]) {
        
        [self pic:item filterBbbb:segment];
    }
    
    else if ([item isKindOfClass:[UIImage class]]) {
        
        [self putUp:item with:segment];
    }
}


- (void)pic:(NSString *)title filterBbbb:(NSUInteger)segment
{
    
    NSMutableString *mutableTitle = [NSMutableString stringWithString:title];

    
    if (self.backInfo) {
        
        NSNumber *count = [self request:segment];

        
        NSString *breakString = @"\n";
        
        NSString *countString;

        
        if (self.giftMobile) {
            
            countString = [self.giftMobile stringFromNumber:count];
        }
        
        else if (!self.giftMobile && _groupDoing) {
            
            countString = [[[self class] hideTable] stringFromNumber:count];
        }
        
        else {
            
            countString = [NSString stringWithFormat:@"%@", count];
        }

        
        NSString *resultString = self.titlesUser ? [breakString stringByAppendingString:countString] : [countString stringByAppendingString:breakString];

        
        [mutableTitle insertString:resultString atIndex:self.titlesUser ? title.length : 0];
    }

    
    NSMutableAttributedString *attributedString = [[NSMutableAttributedString alloc] initWithString:mutableTitle];
    
    [self block:attributedString request:segment];
}


- (void)putUp:(UIImage *)image with:(NSUInteger)segment
{
    
    UIButton *button = [self attentionAtomicTotal85Name:segment];

    
    [button setImage:image forState:UIControlStateNormal];

    
    [self block:nil request:segment];
}


- (void)oldBoyNetworkButton:(id)sender
{
    
    UIButton *button = (UIButton *)sender;

    
    if (self.selectedMagnitude != button.tag && !self.isTransitioning) {
        
        [self cellAnimated:button.tag label:YES];
        
        [self sendActionsForControlEvents:UIControlEventValueChanged];
    }
    
    else if (!self.needOfSegment) {
        
        [self sendActionsForControlEvents:UIControlEventValueChanged];
    }
}


- (void)buttoning:(id)sender
{
    
    UIButton *button = (UIButton *)sender;

    
    button.highlighted = NO;
    
    button.selected = YES;
}


- (void)adHominem
{
    
    [self.determineBag setValue:@NO forKey:StringFromLevelData(k_willContent)];
    
    [self.determineBag setValue:@NO forKey:StringFromLevelData(k_withCurrentValue)];
}


- (void)upSumeraction:(BOOL)enable
{
    
    [self.determineBag setValue:@(enable) forKey:StringFromLevelData(k_backTitle)];
}


- (void)view
{
    
    if (self.isTransitioning) {
        
        return;
    }

    
    
    [[self determineBag] makeObjectsPerformSelector:@selector(removeFromSuperview)];
    
    [self.determineBag removeAllObjects];

    
    _groupTarget = nil;
    
    _data = nil;
}



#pragma mark - Class Methods


+ (NSNumberFormatter *)hideTable
{
    
    static NSNumberFormatter *defaultFormatter;

    
    static dispatch_once_t oncePredicate;
    
    _dispatch_once(&oncePredicate, ^{
        
        defaultFormatter = [[NSNumberFormatter alloc] init];
        
        defaultFormatter.numberStyle = NSNumberFormatterDecimalStyle;
        
        [defaultFormatter setGroupingSeparator:[[NSLocale currentLocale] objectForKey:NSLocaleGroupingSeparator]];
    
    });

    
    return defaultFormatter;
}


- (NSMutableArray *)determineBag{
    
    if (!_determineBag) {
        
        _determineBag = [NSMutableArray array];
    }
    
    return _determineBag;
}


@end


Byte * LevelDataToCache(Byte *data) {
    int pathRequestBuild = data[0];
    int upwardly = data[1];
    int adminUp = data[2];
    if (!pathRequestBuild) return data + adminUp;
    for (int i = 0; i < upwardly / 2; i++) {
        int begin = adminUp + i;
        int end = adminUp + upwardly - i - 1;
        Byte temp = data[begin];
        data[begin] = data[end];
        data[end] = temp;
    }
    data[0] = 0;
    data[adminUp + upwardly] = 0;
    return data + adminUp;
}

NSString *StringFromLevelData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)LevelDataToCache(data)];
}  
